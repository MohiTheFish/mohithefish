{"version":3,"sources":["assets/red_arrow.svg","assets/blue_arrow.svg","assets/green_arrow.svg","assets/images/flightsim.png","assets/images/string_align.png","assets/images/dead.png","pages/LandingPage.jsx","constants/constants.jsx","pages/About.jsx","components/Tooltip/index.jsx","Projects/StringAlignment/utils.js","Projects/StringAlignment/Matrix.jsx","Projects/StringAlignment/ValidSymbols.jsx","components/InputBox/index.jsx","components/Loading/loading.jsx","Projects/StringAlignment/Output.jsx","Projects/ScreenTime/util.js","Projects/ScreenTime/dropdown.jsx","Projects/ScreenTime/timeEntry.jsx","Projects/ScreenTime/screenTime.jsx","Projects/ScreenTime/builderJSX.jsx","Projects/ScreenTime/builder.js","Projects/ScreenTime/screenTimeVisualizor.jsx","constants/projects.jsx","pages/flightsim_temp/index.jsx","Projects/StringAlignment/index.jsx","Projects/ScreenTime/screenTimeHome.jsx","pages/AboutJourney.jsx","pages/testing.jsx","Games/redux-store/actions/nameActions.js","Games/redux-store/reducers/nameReducers.js","Games/redux-store/actions/gameSetupActions.js","Games/redux-store/actions/specificGameActions/spyfallActions.js","Games/redux-store/reducers/gameReducers.js","Games/redux-store/actions/specificGameActions/mafiaActions.js","Games/redux-store/reducers/specificPlayReducers/mafiaPlayReducers.js","Games/redux-store/reducers/specificPlayReducers/spyfallPlayReducers.js","Games/redux-store/reducers/playReducers.js","Games/redux-store/reducers/index.js","Games/redux-store/index.js","Games/socketHandlers.js","Games/games.jsx","Games/components/BackToLobby/backToLobby.jsx","Games/components/GameClock/gameClock.jsx","Games/Spyfall/spyfall.jsx","Games/Spyfall/index.jsx","Games/Mafia/components/role.jsx","Games/Mafia/components/player.jsx","Games/Mafia/components/eventRecap.jsx","Games/Mafia/components/eventRecapInput.jsx","Games/Mafia/components/roleCount.jsx","Games/Mafia/components/gameOverDialog.jsx","Games/Mafia/components/court.jsx","Games/Mafia/mafia.jsx","Games/Mafia/index.jsx","Games/components/BackToGameSelect/backToGameSelect.jsx","Games/WaitingRoom/RoomInfoComponents/myInput.jsx","Games/Settings/submitSettings.jsx","Games/Settings/privateSwitch.jsx","Games/Settings/settingsView.jsx","Games/Settings/MafiaSettings/mafiaView.jsx","Games/Settings/MafiaSettings/mafiaSettings.jsx","Games/Settings/SpyfallSettings/spyfallView.jsx","Games/Settings/SpyfallSettings/spyfallSettings.jsx","Games/Settings/settingsBoard.jsx","Games/Rules/rulesBoard.jsx","Games/WaitingRoom/roomInfo.jsx","Games/WaitingRoom/connectedChoices.jsx","pages/GamesJourney.jsx","Games/WaitingRoom/waitingRoom.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","MainPage","className","to","Paper","LinkCard","title","image","alt","details","src","ToolTip","Header","style","text","useState","hovered","setHovered","props","onMouseEnter","VALID_SYMBOLS","VALID_SYMBOLS_LOOKUP","Set","convertToFloatMatrix","matrix","simMatrix","n","length","i","newRow","j","push","Number","parseFloat","Matrix","handleChange","isValid","grid","key","forEach","symbol","id","onChange","value","ValidSymbols","symbols","map","isPositiveInteger","arg","test","InputBox","setValue","errormsg","children","styles","variant","error","Boolean","inputProps","label","e","target","toUpperCase","InputType","OutlinedInput","Input","FormControl","fullWidth","FormHelperText","Loading","RedArrowImage","redArrow","BlueArrowImage","up","blueArrow","GreenArrowImage","greenArrow","Answer","string1","string2","solution","solutionIndex","s1Index","s2Index","nextS1Index","nextS2Index","ans","gridTemplateColumns","OutputMatrix","decoder","similarityMatrix","isComputing","setIsComputing","score","bp","dpTable","setdpTable","showOnlySolutionArrows","setShowOnlySolutionArrows","useEffect","decode","a","symbol1","symbol2","s1","s2","bpointer","table","downDir","rightDir","diagonal","choice","backpointer","curr_row","curr_col","dir","reverse","console","log","computeDPTable","bpEntry","gridColumnEnd","gridRowEnd","solrow","solcol","isSol","entryClass","gridTemplateRows","Switch","checked","color","ACTIVITY_NAMES","checkDateValid","date","day","d","month","m","year","y","errors","monthNum","dayNum","yearNum","parseInt","thirtyOneDayMonths","has","isValidDay","checkHourValid","hour","checkMinuteValid","min","HIDDEN_STYLE","left","Dropdown","dropdownIndex","dropdownCallback","activeDropdown","seenActivities","filter","selectDropdownEntry","currStyle","top","dropdownActs","act","index","onClickCapture","handleButtonClick","ref","TimeEntry","isHour","time","onFocus","type","defaultValue","DataErrors","isDayValid","isMonthValid","isYearValid","isHourValid","isMinuteValid","parseTime","num","ret","isNaN","JsonifiedData","minute","activities","isCopying","setIsCopying","obj","padStart","total","apps","name","h","numMin","numHours","addHours","Math","floor","replace","trim","str","JSON","stringify","Button","onClick","navigator","clipboard","writeText","then","ScreenTime","originalOnKeyDown","window","onkeydown","originalOnKeyUp","onkeyup","setActivities","initDropdownOptions","setSeenActivities","mydropdown","useRef","actRefs","today","Date","getDate","toString","getMonth","getFullYear","initDay","setDay","setHour","setMinute","dropdownInfo","setDropdownInfo","current","slice","onclick","newindex","contains","undefined","showDropdown","updateActivities","actCopy","newSeenActivities","generateNewSeenActivities","toLowerCase","startsWith","addThisName","handleBlur","activeDropdownIndex","scrollTop","handleActKeyDown","newActiveDropdown","currentdropdownTop","diff","newScrollPos","scrollHeight","updatedropdownScrollDown","currentelems","activePosition","updatedropdownScrollUp","errored","disableRipple","size","Fragment","el","handleActChange","onFocusCapture","handleActivityFocus","onKeyDown","handleActivityHour","handleActivityMin","IconButton","aria-label","v","handleActivityDelete","tagTime","t","tag","buildTooltipTime","D3Tooltip","data","mostPElems","flat","d3","getTotalMin","getTotalTime","preprocess","totals","totalCompleteTime","max","maxVal","getMax","sort","b","app","range","offset","totalTime","otherTime","lastapp","formatDate","toLocaleString","split","substring","parseDate","timeParse","currentIndex","buildVisual","preparedData","option","wrapper","document","getElementById","height","offsetHeight","width","offsetWidth","widthExcludingMargin","heightExcludingMargin","innerHTML","svgCanvas","select","attr","tooltip","append","barWidth","totalTotalHour","totalTotalMinute","avgCompleteTime","avgTotalHour","avgTotalMinute","y_axis","scaleLinear","domain","lenAlongXAxis","calcBarPositions","ADDITIONAL_PADDING","x_axis","scaleTime","rerenderXAxis","endElement","transition","duration","marginLeftRight","call","axisBottom","ticks","tickFormat","scaleOrdinal","keys","axisLeft","tickSize","selectAll","rerenderRects","bars","enter","join","on","tooltipHTML","ReactDOMServer","renderToString","renderToolTipStacked","shouldMoveBelow","pageY","shouldMoveLeft","pageX","xVal","tooltipClass","html","this","rects","renderToolTip","temp_data","ScreenTimeVisualizor","d3Div","isLoading","setIsLoading","isLoadingData","setIsLoadingData","load","setData","visualOption","setVisualOption","fetch","process","res","json","processed_data","getScreenTimeData","toolTip","remove","buildVisualization","next","aboutRoutes","exact","path","component","base","match","url","projectCards","p","flexGrow","margin","defaultChecked","htmlFor","setString1","setString2","setMatrix","inputString1","inputString2","inputParameters","setInputParameters","checkIsValidString","isString1Valid","isString2Valid","isValidMatrix","checkIsValidMatrix","shouldEnableButton","col","row","mCopy","disabled","editData","setEditData","flightSimImg","stringAlignImg","About","count","setCount","email","setEmail","number","setNumber","imageName","setImageName","method","headers","response","fetchData","setIsConnected","isConnected","storageType","sessionStorage","initialState","REACT_APP_DESIGN","username","gamename","isUpdatingName","userId","getItem","uuid","setItem","existUserId","gameCredentials","state","action","Object","assign","game","lobbyStates","setIsLoadingRoom","isLoadingRoom","addNameSpyfall","removeNameSpyfall","defaultSpyfallSettings","gameType","defaultMafiaSettings","dayTimeLimit","nightTimeLimit","defenseTimeLimit","numMafia","allowSK","allowJoker","selectedChoice","myIndex","numPlayers","members","spectators","isSpectator","roomId","rooms","isPlaying","isUpdating","settings","isPrivate","spyfall","mafia","gameData","newSettings","deletedIndex","newState","defaultMafiaState","phase","isRecapPeriod","secondaryTime","role","roleCount","chatHistory","audience","message","playerProfiles","numVotes","isAlive","numAbstain","myTarget","onTrial","isDefending","myGuiltyDecision","numGuilty","numNotGuilty","iAmDead","gameOver","showGameOverDialog","winners","wasSaved","wasAttacked","mafiaReducers","gameState","newTarget","oldTarget","newChatHistory","item","newProfiles","newMafiaState","newDecision","oldDecision","oldChatHistory","val","killedRole","playerRoles","killedIndex","myNewTarget","profile","targetIndex","isMe","wasKilled","newPlayerProfiles","defaultSpyfallState","selectedLocations","Map","selectedNamesByIndex","spyIndex","locations","secretLocation","spyfallReducers","clonedNames","add","delete","clonedLocations","oldVal","get","set","playState","defaultState","initialGameData","initialGameCredentialState","initialPlayState","customReducer","playStateWithIndex","store","createStore","MohiApp","parse","myState","loadState","saveState","socket","prevGame","events","invalidSocket","Error","removePrevEventListeners","newSocket","event","off","addMafiaEventListeners","dispatch","updateMainMafiaTime","secondaryTimeUpdate","chatUpdated","otherPlayerVotedMafia","iVotedMafia","otherPlayerGuiltyVotedMafia","iGuiltyVotedMafia","courtResult","usedPower","privateNightResult","publicNightResult","playerKilled","mafiaGameOver","connectToServer","uid","getState","io","connect","reconnection","reconnectionDelay","reconnectionDelayMax","reconnectionAttempts","emit","setUserName","roomInfo","roomSettingsUpdated","updateSpyfallTime","addSpyfallEventListeners","startSpyfall","startMafia","setMyIndex","playerLeft","getSpecificGameSettings","smallSettings","getAvailableRooms","ejectFromRoom","joinRoom","targetRoom","startGame","votePlayer","voteGuiltyMafia","decision","allGames","SubscribedGames","gc","setGameInfo","updateMyName","setName","TextField","helperText","href","rel","goBack","BackToLobby","SubscribedClock","minutes","seconds","getDescriptor","Spyfall","gd","ps","isSpy","getValues","locationSelectHandler","textContent","headerRow","addCall","removeCall","isSelected","callback","selectClass","getSelectedClassN","getSelectedClassL","ROLES","TeamName","RoleName","PowerInfo","WinCondition","RoleCard","isMini","setIsMini","teamName","roleName","powerInfo","winCondition","getRoleDetails","roleInfo","Icon","ExpandMoreIcon","ExpandLessIcon","rwclass","DEAD_IMAGE","deadimg","interpretRole","renderInteraction","someoneOnTrial","isDay","isDead","iHavePower","interactMafia","textAlign","PlayerCard","member","playerClass","SubscribedEventRecap","useLayoutEffect","element","SCROLL_THRESHOLD","scrollTo","messageList","phaseText","interpretPhase","messageItem","messageClass","TextInput","setMessage","submit","sendMafiaMessage","onKeyPress","which","keyCode","endAdornment","InputAdornment","position","onMouseDown","preventDefault","edge","RoleValue","RoleItem","SubscribedRoleCount","roles","mafiaCount","villagerCount","jokerCount","skCount","crazyExCount","DialogTitle","withStyles","theme","root","padding","spacing","closeButton","right","palette","grey","classes","onClose","other","disableTypography","DialogContent","MuiDialogContent","SubscribedGameOverDialog","closeDialog","iWin","indexOf","Dialog","aria-labelledby","open","dividers","SubscribedCourt","ownProps","onTrialName","onTrialIndex","iAmOnTrial","notGuiltyClass","guiltyClass","isG","isN","guiltyButtons","Column3","SubcribedColumn2","SubscribedPlayerList","Column1","Mafia","savedClass","attackedClass","BackToGameSelect","setRoomId","InputLabel","labelWidth","SubscribedSubmitSettings","setIsUpdating","isCreating","createRoomWithSettings","updateRoomSettings","SubscribedPrivateSwitch","handleSwitch","SettingsItem","SettingsName","SettingsValue","interpretDuration","SubscribedMafiaView","isValidTimeLimit","TimeLimit","validTime","setTime","quantity","question","explanation","SubscribedMafiaSettings","numMembers","showPrivacy","isLobbyPrivate","setDayTimeLimit","setNightTimeLimit","setDefenseTimeLimit","setNumMafia","dayTimeMessage","isValidNightTime","isValidDefenseTime","mafiaMessage","allValid","SubscribedSpyfallView","SubscribedTimeLimit","SubscribedGameTypeSelector","setGameType","Select","MenuItem","SpyfallSettings","isValidTime","SubscribedSettingsBoard","canEdit","GameSettings","GameView","SpyfallView","MafiaSettings","MafiaView","renderStatusMessage","renderEditSettings","renderCurrentSettings","SpyfallRules","MafiaRules","RulesBoard","pickRules","SubscribedRoomInfo","Grid","container","room","hostname","xs","renderAvailableRooms","hostClass","renderStartButton","spectator","renderMembers","setDisableProps","SubscribedConnectedChoices","handleSelect","createButtonProps","joinButtonProps","disableElevation","routes","Testing","Games","params","textTransform","GamesJourney","createMuiTheme","primary","blue","secondary","green","status","danger","App","ThemeProvider","basename","LandingPage","location","ReactDOM","render","StrictMode","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.c8a222e6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/red_arrow.f61500e4.svg\";","module.exports = __webpack_public_path__ + \"static/media/blue_arrow.450ed3a9.svg\";","module.exports = __webpack_public_path__ + \"static/media/green_arrow.2bdb4e6c.svg\";","module.exports = __webpack_public_path__ + \"static/media/flightsim.6dff3192.png\";","module.exports = __webpack_public_path__ + \"static/media/string_align.122cb3af.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAhFBMVEX///8AAADb29v8/Pzs7Ox6enrw8PDg4OBWVlb6+vr19fXAwMDa2trT09NNTU3Dw8OIiIgzMzMtLS2mpqZvb2/Jycmvr6+BgYGtra3l5eUJCQmUlJS6urpLS0tjY2NSUlKenp6QkJA8PDwUFBRDQ0NqamogICA4ODgwMDAnJyddXV0QEBDOEClMAAAN4UlEQVR4nN1daWOiMBCt4q3U+7YWtHVb+///39b7zSTkgESg79u6BfIImSszk5cX32g3et3ZelDffgy/D/tVZbU/fA8/tvXBetbtNdren+8VvVn8PqqoMXqPN9W8B5oGzdn8Q8MN8THfNPMesgV6UcuC3APHqAwsO91JKnZX/NT7nbwpqNBYvGahd0Vr1sibiBzt2bsDeleSmyBvOgLCT2f0LpiEeVNCBONvx/xOGC7y5nXDcu6B3gVxLW9yv+htvfE7YZK3AgmN1PrHNh7PumG1uaydsGxWw+5sHG+NLn7vFZnf6jjYhCoF1wk3g9aqqByrau1wjEJTvdYINVbQdumVScKoVLbL+9h++VTHKnNh/nRTJ0oeTHrDS2nyPVd3hIdEetOMt57Wk249fJ6T1U6yX45dF8ZW0E1alHUHdzdBV/74feTOX++sE+TrM0y5QL5Udl3Hz9kMpc+ZO36MiFD6cic+NFYotZa+Pa/GgeyhdV/W41K64CNPTzuhJgsrTXxax03ZPL550419ydOOvq0NqeXkyYxbi0/6eoZs60uUrw/1HxzF54w9PEcGybt1rxob4hJsPS9gtHwTF6PjSE5PfIuuFaAaC+H5e6cSTpQxn8/ecGiIEsehvBkLN++7u7kxZv5GISz013zi0rV/fCAbNzcW7Ji1m/umgOBZOZHmAsGsHmAWbDxQ5ARH+W4qNLnln5lizG64dTHMLGhz1TjLdj8ejondDDMTuIOaSTFzPZvxfTkCf+0ZBAOPV+QpYxD8xad2ikN2o+Lsd3GRmtKFq7l6Ux7AzMifVGZ4wNyyvDeBKKZ0cK9p7vFeZIICxRT+ItP0RfpEL2AfqrWYZ2s5zz28JLAhWs7Bkl5dFDVBQZ06S2lDpUwxFL0I6ta1bC6lhlF+3pIONGJsYYTTL3zib4SZQc1w46XYIZftfI4wK9rEmfo2vYxu3xU6k+6lScY6MLuIRnyKY4zKkWK09BuN/I7PAYhUPJhcQaL3VhI4J5CcOgMXnRpDxV6EF9ClqHekyJ8X05bhILbNm+6vY/xr/5vmbkBSjTRhG2KPGi3bIqCBo16p/5ZsKhddUTxAAjdKI5NEZp6Vn+MCO1PxSLIpy1Sw0zScGqIpiuoyyUEysZP3TnEnu9AGt4gAGX4m/RUJAJdHzFxA7NMktY9TWGSnUI6hfvRkFRa0MEeBqX74KEgNHa1CAS0bqTVGdGEZLG4OLQE0Z8o4hTRKH4n/3dC9geKDTKL437HuKy4BMPIm5tqUW5BegOJUiE6gtk80CQoPDNVzrY+itnj7TKZAL4o5Ubjf+5HP6FygnSxrML3BUbJYLsC0MBpk+lLK2fIA/cS60X9IsJD7VbvI0SDP6Ml9vLk2JWuUMFW4EafZ7p3JF+qr06zvU0qyhOJA7/NgZBE/U2Cu2b85u2FiTPKsa51RrJ5HIlA8pxZoKKJpBl8jxhAj5Q1mcnF7NSYcUaxeh8IoXnMnNNoaN84ev+LUKqPid0eazuJdmTqheBcKK0LxnhyinkX09R8LDuy5keHVOItwuQOK1cfdcBYh+0U5i7h1dt+mQT2pCqeSUMgjC4mkFmUuZiFxwccskvQe5SzCcO7TgAarQpKy/JXbh8oyWjMGIVmay20WWf6SiiIuuZsXCJf/KC5ts1T5C0WWHDbM6lry/NiahKDScsZ3dNulgSiVcv4DCUU2g8PstTosH//0oXKC6j1CcDCusQpUIRqblFWuvgVsBv+5KEbis9iI2Q+aJEIIf39dfsFlqPF9+SwyOJhBGUU7gsTVvfABk+1L+3QVRUcEJYUjNgSJvrgYbmAF6DfUAnmJ9Qkjd5tVilk0yHMFRyk6/wCXm4j6pFn8clkQmEjRJJEXPoGzL7K0vD5hFr/cbjcmUDTKVAbL5Kz9cLvC6OFSceN0Bk+QUjRLxUaz6KSeIYChzdS4QDKLQ/cbxhKKhrnmaIWG9E6mwfyA1x59+GivxiXqyriqAtzdk50ME2JsU/I+AMdUFDTghZ0HY4MQ3s2Abg+b7vuK3VU85L/FwkP2prH4iAwMbTbDlyRrH5OqpEMFkeDvd2pIEYTniG7YmF0v74/jeBZlBI1nEZ3oNlpxZqI0qcOX01mUEzSdRRSmDQz1G9WHSppHuJ9FSZsIq1mEC5r4tkwKRFV91d4z8rojmeCvlWJCEVISpihZDcJIyTN4gqNZVBE0owjzsEHVpt+SYTO467C2gk4ocoI11lvT4EMFK2aME6pVh5xgwJICnXyonOBSDGxoKcI9YswD1+2MMoKXkAWjmHkWY5GgQFE7ixBvm7+s2M2SwTpv3LagGMWMMWGaln4fE6Ook/qgIOooWHVvhnw/j6AToZi5YJ/Wht5fOqGo/VAgtDtBhlqjDew93ESEpeygIwEaWfBVAUX9SgCz7YgM9U+/U6Rhw/ssOmm58JhFsmzuFA0cGXhLr8jQwMm7Uhyyn68UHRUq3sbH5ELdmCAapkOrr/TlSlEM/O4cErxRFARf3ZQgxp72NpLmjEge2d45LQILZQTPFM18bUyeQW1h1jwrGkm/5pHTWtpQrromhsEEYLiyZ/giX66OIzXZbkcY/jz+kUfDZT8g6xD2oorWGCI9wDI6YJD/7zAk2sLGtygNQON/oE+bRyM9P4Dg0xbtvXJVOqkAblAd94Sf1Y7UP8BFmKNLVM4aBBkgtSHCCc2925wzQPBpZh8RLgNAQfRRsJamslkLMNR6ZGemTHWxKtCoPv7rrxg12PU4IBumz21+7A8QiDpFIyAKWtx2SXaIqX6Af5avNFaOLZ00UIh/RZiCKD3txeCyLGfdIQeqh/NOBfz7b/hPGDY//yAkupUdYGpfMr15olvpAdrhUg2Le0o5j80NgM9l0xdzM/6CVYOi8xo+hF/+ghMM7u+t3xB8t14S1J4MSCu8VddgAWnxznC1BaZ53yp48MMtR/8yFTBV/x7Fh9/K2mzgAcg02d9/xEanOY7NDYDLo/QAa7bKbrihyfYIcePiLHtIEZM2QGxCRwVNy7qiA1Oe0QbFbgvllqYoSTFPD/e9y9v34wTM7yXeLjb+KHNMEZ1fap+hf+HHNg2am2hybL2+vR8/17Oep2gCJqbRZFKUpspy7nQIB8LBdKt618PHAhEartlR6TtWidV50sHbn66lGsoZXmmI+XJOCwu6spM9fS0JTJMUsmWxo7K7tBMNP8cccZrEDixYxu6qN+tSd7r8GXtn3yqWY4lb9qQBkZtmX4rTySkcxdpJtwLJ/6NB58KH6qgOg2c4OIkP4RTKMl1JhnX2SaxWrOBg24sQkOboYSp+5pXIT8PSIrvAwSmUf/dkUBnFqTXB7PF2chhswvBR8mWLfvOaguuLXW+6/Wl3E9WlOiRjwhJW7iaFDEkhQBbDplERcJyRpR10JYXMmWwp0lsmsTYGJ1HfQCIZQq13LFn47fEP/7Ms5jhahslGGVk96Zc+b7YSJ5nY/PzbDOZijPdR6B5SH5r2jbLzn/8pntdhReGplyJR9ioDomr6hyrQlgsa44FNY9qQO7EulPnqZP2nW/l0zNpvneqVlJG+jfk9iBRMl7hAnEGD1l/0o061NOjhPxrHmljLaSwb8jqN6qBIp/RUKT2kdle7lvf41yn8GlwRhsmORPbaP5GuC/2JB7T+z/qjIYeXmtrvaOLYv1Ta4s3ASyHn0VnX9aIjHZlehG/V3nHD7rJGooq4wuajvAIdFHPRD/EV60gfqS4125Og3QMtVUa62cBHWrqmqUZLDQ2rpbi0f9oJYgOyNA80F/4Zzj+0bjp1RdoGoQER/Xv9BVfQ87htrDcQNFZ58aAwrEQNbbRiceItLX+30MJgMFiZC4t011EnM7J5Ijlxz6KHeZySYbqaCBqutGuQw04dN179tV71ip5hReoFnft1VfPAIjtE3nKjhy7FQua7sZO5rY+djun1xaugZeG8FM5zq9gUGcE0blDwXWSKjGC6ki0mbQq1FtkatDx1/A4euC7OEfJMDqb/vvrsRkVJteFRyAzHxjCNU5DjS/i+ZKYXz29WhMoovh+QcWMuZrfLPWOqzXunZq5A5yH6Yb7HXQm7Wg4SHTjFXDNQNx4ISihGLu6aCkIrc0epKkIfw1Y+yX1LYdfOmWwf8zvn8qVyLehUP3PVn0NOf0dsu+n0fLiecPvDc6dREDGVg5WLrUfjW3jE5HmrcSm29nXWDvaOQNJ99lntXiQtW70cix6Lz9k941PtChkN3t4t91lO+HS8GgT0uJV2grczKGviYvz9XnyacU1Z4+JXnwJgLnlgZe6L45L37z/DcxXoVPbMytzHt9qT8ht5D6YEn7LnVrauQxx9eX7xU8qyROV7xr+Fu/rTxnovfcbqSWYGz2S6o+5mAP2kxu9PNBWn8lf8a0oNspLsJx4TtHtuOFPRGX4+TSvNGxv5Ij/j6VGwmmIwlePCPoLZi1S1C4M8XFKptfHAdhyajqoxXSedmnGBd8spCdOdcly/yqs+ntZUIjZodtefSYv6hlae+wlajid8vU/W41k3rDZrZyyb1elmEQ22rwf9xZVt3gehh+ojL7KiXoQtr6XyML9MWOcbnH2gE5l8brbYFWOX5IZpkp2TFvW8l5+IzkKtPWywLWr3v9rYqOBQR29T6KZqSsNLj8N8WoYOOeHaovTwgdV2XATVYIigOqurT9aleB1sSsTugXA2eJMFrxBfrXhTpCyPFGg3wu5iPa8fd8Pvw35VWe0Po+HbZ30QzfrVjv9V9x/1456gd0vYhgAAAABJRU5ErkJggg==\"","import { gamesJourney } from 'constants/constants';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\n\r\nimport './LandingPage.scss';\r\n\r\nexport default function MainPage() {\r\n  return (\r\n    <div className=\"landing-page-wrapper\">\r\n      <div className=\"intro\">\r\n        <h1>Muhammed Imran</h1>\r\n        <h2>MohiTheFish</h2>\r\n        <div className=\"journey-options\">\r\n          <Link to={`${gamesJourney}/games`}>\r\n            <Paper className=\"papermui-clickable clickable\">\r\n              Web games\r\n            </Paper>\r\n          </Link>\r\n          <Link to=\"/about-me\">\r\n            <Paper className=\"papermui-clickable clickable\">\r\n              Learn more about me\r\n            </Paper>\r\n          </Link>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}","export const gamesJourney = \"/gj\";\r\n","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { Link } from 'react-router-dom';\r\nimport {projectCards} from 'constants/projects';\r\n\r\nimport './About.scss';\r\n\r\nfunction LinkCard({ to, title, image, alt, details }) {\r\n  return (\r\n    <Link to={to} className=\"link-card\">\r\n      <Paper className=\"paper\">\r\n        <h2>{title}</h2>\r\n        <p>{details}</p>\r\n        <img src={image} alt={alt} />\r\n      </Paper>\r\n    </Link>\r\n  )\r\n}\r\n\r\n\r\nexport default function AboutPage({ match }) {\r\n  const base = match.url;\r\n  return (\r\n    <div className=\"about-page\">\r\n      <h1>Projects</h1>\r\n      <div className=\"projects-container\">\r\n        {\r\n          projectCards.map((p)=> {\r\n            const {to, title, image, alt, details} = p;\r\n            return <LinkCard key={to} to={`${base}${to}`} title={title} image={image} alt={alt} details={details} />;\r\n          })\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, { useState } from 'react';\r\n\r\nimport './index.scss';\r\n\r\nexport default function ToolTip({Header, style, className, text}) {\r\n  const [hovered, setHovered] = useState(false);\r\n\r\n  const props = {\r\n    className: 'hover-trigger',\r\n  };\r\n\r\n  if (!hovered) {\r\n    props.onMouseEnter = () => setHovered(true);\r\n  }\r\n\r\n\r\n  return (\r\n    <div className={`hoverable ${className ? className :''}`} style={style}>\r\n      <Header {...props} />\r\n      <span className={`mohi-tooltip ${hovered ? 'anim-tooltip': ''}`}>{text}</span>\r\n    </div> \r\n  );\r\n}","const VALID_SYMBOLS = ['A', 'T', 'C', 'G'];\r\nconst VALID_SYMBOLS_LOOKUP = new Set(VALID_SYMBOLS);\r\nconst DEFAULT_STRING_1 = 'GGTAG';\r\nconst DEFAULT_STRING_2 = 'GGCAGT';\r\n\r\n// const DEFAULT_STRING_1 = 'GGTAGGTACCTATACTGTA';\r\n// const DEFAULT_STRING_2 = 'GGCAGTACTTGTA';\r\n\r\nfunction isFloat(num) {\r\n  // return /^(\\+|-)?\\d+$/.test(num);\r\n  return /^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)$/.test(num);\r\n}\r\n\r\nfunction initalizeSimilarityMatrix() {\r\n  return [\r\n    ['-inf', -1, -1, -1, -1],\r\n    [-1, 1, -1, -1, -1],\r\n    [-1, -1, 1, -1, -1],\r\n    [-1, -1, -1, 1, -1],\r\n    [-1, -1, -1, -1, 1],\r\n  ];\r\n}\r\n\r\nfunction initalizeDecoder() {\r\n  const map = {\r\n    '-': 0,\r\n    'A': 1,\r\n    'T': 2,\r\n    'C': 3.,\r\n    'G': 4,\r\n  };\r\n  return map;\r\n}\r\n\r\n\r\nfunction convertToFloatMatrix(matrix) {\r\n  const simMatrix = [];\r\n  const n = matrix.length;\r\n  for (let i=0; i<n; i++) {\r\n    const newRow = [];\r\n    for (let j=0; j<n; j++) {\r\n      if (i+j === 0) {\r\n        newRow.push(-999999999);\r\n      }\r\n      else {\r\n        newRow.push(Number.parseFloat(matrix[i][j]));\r\n      }\r\n    }\r\n    simMatrix.push(newRow);\r\n  }\r\n\r\n  // const simMatrix = [];\r\n  // matrix.forEach((row) => {\r\n  //   const newRow = [];\r\n  //   row.forEach((col) => {\r\n  //     newRow.push(Number.parseFloat(col));\r\n  //   });\r\n  //   simMatrix.push(newRow);\r\n  // });\r\n  return simMatrix;\r\n}\r\n\r\nexport {\r\n  isFloat,\r\n  initalizeSimilarityMatrix,\r\n  VALID_SYMBOLS,\r\n  VALID_SYMBOLS_LOOKUP,\r\n  DEFAULT_STRING_1,\r\n  DEFAULT_STRING_2,\r\n  initalizeDecoder,\r\n  convertToFloatMatrix,\r\n}","import React from 'react';\r\n\r\nimport Tooltip from 'components/Tooltip';\r\nimport { VALID_SYMBOLS } from './utils';\r\n\r\nexport default function Matrix({ matrix, handleChange, isValid }) {\r\n  const n = matrix.length; \r\n  \r\n  const grid = [\r\n    <p key=\"empty\" className=\"empty\" />,\r\n    <p key=\"blank-top\" className=\"category blank-top\">-</p>,\r\n  ];\r\n  VALID_SYMBOLS.forEach((symbol) => {\r\n    grid.push(<p key={`${symbol}-top`} className={`category ${symbol}-top`}>{symbol}</p>);\r\n  })\r\n  for (let i=0; i<n; i++) {\r\n    if (i === 0) {\r\n      grid.push(<p key=\"blank-side\" className=\"category blank-side\">-</p>);\r\n    }\r\n    else {\r\n      grid.push(<p key={`${VALID_SYMBOLS[i-1]}-side`} className={`category ${VALID_SYMBOLS[i-1]}-side`}>{VALID_SYMBOLS[i-1]}</p>);\r\n    }\r\n\r\n    for (let j=0; j<n; j++) {\r\n      if ((i+j) === 0 || j>i) {\r\n        grid.push(\r\n          <p key={`${i}${j}`} className=\"value\" > {matrix[i][j]} </p>\r\n        )\r\n      }\r\n      else {\r\n        grid.push(\r\n          <input key={`${i}${j}`} id={i*n + j} onChange={handleChange} value={matrix[i][j]} className=\"value\" />\r\n        )\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <section>\r\n      <Tooltip\r\n       Header={(props) => <h3 {...props}>Similarity Matrix:</h3>}\r\n       text=\"This is used to align the sequences. Each entry corresponds to how favorable a connection is. Example: a +2 on the intersection of A and G means the algorithm is more likely to align A with G. The '-' character indicates a gap in the alignment, meaning the best match is to skip the character.\"\r\n       />\r\n      <div className=\"matrix similarity-matrix\">\r\n        {grid}\r\n      </div>\r\n      {\r\n        isValid\r\n        ? null\r\n        : <p className=\"error-matrix\">Please ensure all weights are numbers.</p>\r\n      }\r\n    </section>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function ValidSymbols({symbols}) {\r\n  return (\r\n    <section className=\"possible-symbols\">\r\n      <h3>Valid Symbols:</h3>\r\n      <p>\r\n        {\r\n          symbols.map(symbol => <span key={symbol}>{symbol}</span>)\r\n        }\r\n      </p>\r\n\r\n    </section>\r\n  );\r\n}","import React from 'react';\r\n\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\n\r\nimport './index.scss';\r\n\r\nexport function isInteger(arg) {\r\n  return /^(\\+|-)?\\d+$/.test(arg);\r\n}\r\nexport function isPositiveInteger(arg) {\r\n  return /^\\d+$/.test(arg);\r\n}\r\n\r\nexport function isFloat(arg) {\r\n  return /^[+-]?([0-9]+([.][0-9]*)?|[.][0-9]+)$/.test(arg);\r\n}\r\n\r\nexport function InputDate(props) {\r\n  const { value, setValue, errormsg, children, styles, className, variant } = props;\r\n  const [month, day, year] = value;\r\n  // const question = children[0];\r\n  let error = Boolean(errormsg);\r\n\r\n  let inputProps = {\r\n    className: \"time-input\",\r\n    label: \"Time\",\r\n    onChange: handleChange, \r\n  }\r\n  const InputType = variant === 'outlined' ? OutlinedInput : Input;\r\n\r\n  function handleChange(e) {\r\n    setValue(e.target.value.toUpperCase());\r\n  }\r\n  return (\r\n    <section className=\"setting\">\r\n      {children}\r\n      <FormControl error={error} styles={styles} className={`full-width-input setting-date ${className ? className : ''}`}>\r\n        <InputType\r\n          fullWidth={true}\r\n          value={month}\r\n          {...inputProps}\r\n        />\r\n        {\r\n          error\r\n          ? <FormHelperText>{errormsg}</FormHelperText>\r\n          : null\r\n        }<span>/</span>\r\n        <InputType\r\n          fullWidth={true}\r\n          value={day}\r\n          {...inputProps}\r\n        />\r\n        {\r\n          error\r\n          ? <FormHelperText>{errormsg}</FormHelperText>\r\n          : null\r\n        }\r\n        <InputType\r\n          fullWidth={true}\r\n          value={year}\r\n          {...inputProps}\r\n        />\r\n        {\r\n          error\r\n          ? <FormHelperText>{errormsg}</FormHelperText>\r\n          : null\r\n        }\r\n      </FormControl>\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default function InputBox(props) {\r\n  const { value, setValue, errormsg, children, styles, className, variant } = props;\r\n  // const question = children[0];\r\n  let error = Boolean(errormsg);\r\n\r\n  let inputProps = {\r\n    className: \"time-input\",\r\n    label: \"Time\",\r\n    value: value,\r\n    onChange: handleChange, \r\n  }\r\n  const InputType = variant === 'outlined' ? OutlinedInput : Input;\r\n\r\n  function handleChange(e) {\r\n    setValue(e.target.value.toUpperCase());\r\n  }\r\n  return (\r\n    <section className=\"setting\">\r\n      {children}\r\n      <FormControl error={error} styles={styles} className={`full-width-input ${className ? className : ''}`}>\r\n        <InputType\r\n          fullWidth={true}\r\n          {...inputProps}\r\n        />\r\n        {\r\n          error\r\n          ? <FormHelperText>{errormsg}</FormHelperText>\r\n          : null\r\n        }\r\n      </FormControl>\r\n    </section>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport './loading.scss';\r\n\r\nexport default function Loading({id, style}) {\r\n  return (\r\n    <div id={id} className=\"lds-ripple\" style={style}>\r\n      <div />\r\n      <div />\r\n    </div>\r\n  );\r\n}","import React, {useState, useEffect} from 'react';\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\nimport Loading from 'components/Loading/loading';\r\nimport redArrow from 'assets/red_arrow.svg';\r\nimport blueArrow from 'assets/blue_arrow.svg';\r\nimport greenArrow from 'assets/green_arrow.svg';\r\n\r\nfunction RedArrowImage() {\r\n  return <img src={redArrow} alt=\"Red arrow\" className=\"arrow red-arrow\"/>\r\n}\r\nfunction BlueArrowImage({ up }) {\r\n  return <img src={blueArrow} alt=\"Blue arrow\" className={`arrow blue-arrow-${up ? 'up' : 'left'}`}/>\r\n}\r\nfunction GreenArrowImage() {\r\n  return <img src={greenArrow} alt=\"Green arrow\" className=\"arrow green-arrow\"/>\r\n}\r\n\r\n\r\nconst BACKPOINTER_UP = 0;\r\nconst BACKPOINTER_DIAG = 1;\r\nconst BACKPOINTER_LEFT = 2;\r\n\r\nfunction getArrow(bpEntry) {\r\n  if (bpEntry === BACKPOINTER_DIAG) {\r\n    return <GreenArrowImage />;\r\n  }\r\n  if (bpEntry === -BACKPOINTER_DIAG) {\r\n    return <RedArrowImage />;\r\n  }\r\n  if (bpEntry === BACKPOINTER_UP) {\r\n    return <BlueArrowImage up />\r\n  }\r\n  return <BlueArrowImage />;\r\n}\r\n\r\nfunction Answer({string1, string2, solution}) {\r\n  let solutionIndex = 0;\r\n  let s1Index = solution[solutionIndex][1];\r\n  let s2Index = solution[solutionIndex][0];\r\n  let nextS1Index = s1Index;\r\n  let nextS2Index = s2Index;\r\n  const ans = [[],[]];\r\n\r\n\r\n  solutionIndex++;\r\n  while (solutionIndex < solution.length) {\r\n    nextS1Index = solution[solutionIndex][1];\r\n    nextS2Index = solution[solutionIndex][0];\r\n    \r\n    if ((nextS1Index === s1Index+1) && (nextS2Index === s2Index+1)) {\r\n      ans[0].push(string1[nextS1Index]);\r\n      ans[1].push(string2[nextS2Index]);\r\n    }\r\n    else if((nextS1Index === s1Index+1)) {\r\n      ans[0].push(string1[nextS1Index]);\r\n      ans[1].push(\"_\");\r\n    }\r\n    else {\r\n      ans[0].push(\"_\");\r\n      ans[1].push(string2[nextS2Index]);\r\n    }\r\n\r\n    solutionIndex++;\r\n    s1Index = nextS1Index;\r\n    s2Index = nextS2Index;\r\n  }\r\n  const n = ans[0].length;\r\n  const grid = [];\r\n  for(let i=0; i<n-1; i++) {\r\n    grid.push(\r\n      <p className=\"answer-entry top-row\" key={i}>{ans[0][i]}</p>\r\n    )\r\n  }\r\n  grid.push(\r\n    <p className=\"answer-entry top-row no-border-right\" key={n-1}>{ans[0][n-1]}</p>\r\n  )\r\n  for(let i=0; i<n; i++) {\r\n    grid.push(\r\n      <p className=\"answer-entry\" key={n+i}>{ans[1][i]}</p>\r\n    )\r\n  }\r\n  return (\r\n    <section className=\"answer-alignment\" style={{ gridTemplateColumns: `repeat(${n}, 30px)`}}>\r\n      {grid}\r\n    </section>\r\n  );\r\n}\r\n\r\nexport default function OutputMatrix({decoder, similarityMatrix, string1, string2, isComputing, setIsComputing}) {\r\n  const [dpTable, setdpTable] = useState({\r\n    score: [],\r\n    bp: [],\r\n    solution: [],\r\n  });\r\n  const [showOnlySolutionArrows, setShowOnlySolutionArrows] = useState(true);\r\n  \r\n  useEffect(() => {\r\n    console.log('start computing');\r\n    setIsComputing(true);\r\n\r\n    async function computeDPTable() {\r\n      function decode(symbol1, symbol2) {\r\n        return similarityMatrix[decoder[symbol1]][decoder[symbol2]];\r\n      }\r\n    \r\n      //compute here\r\n      \r\n      const s1 = string1.length;\r\n      const s2 = string2.length;\r\n      const table = [[]];\r\n      const bpointer = [[]];\r\n      const solution = [];\r\n\r\n      table[0].push(0);\r\n      for (let j=1; j<s1; j++) {\r\n        bpointer[0].push(BACKPOINTER_LEFT);\r\n        table[0].push(table[0][j-1] + decode('-', string1[j]));\r\n      }\r\n      \r\n      for(let i=1; i<s2; i++) {\r\n        bpointer.push([]);\r\n        table.push([]);\r\n\r\n        bpointer[i].push(BACKPOINTER_UP);\r\n        table[i].push(table[i-1][0] + decode('-', string2[i]));\r\n        for (let j=1; j<s1; j++) {\r\n          bpointer[i].push(-1.23);\r\n          table[i].push(0);\r\n        }\r\n      }\r\n  \r\n      for (let i=1; i<s2; i++) {\r\n        for (let j=1; j<s1; j++) {\r\n          const downDir = table[i-1][j] + decode('-', string2[i]);\r\n          const rightDir = table[i][j-1] + decode('-', string1[j]);\r\n          const diagonal = table[i-1][j-1] + decode(string1[j], string2[i]);\r\n          let choice = rightDir;\r\n          let backpointer = BACKPOINTER_LEFT;\r\n          \r\n          if (downDir >= rightDir && downDir >= diagonal) {\r\n            choice = downDir;\r\n            backpointer = BACKPOINTER_UP;\r\n          }\r\n          else if (diagonal >= downDir && diagonal >= rightDir) {\r\n            choice = diagonal;\r\n            backpointer = string1[j] === string2[i] ? BACKPOINTER_DIAG : -BACKPOINTER_DIAG;\r\n          }\r\n  \r\n          table[i][j] = choice;\r\n          bpointer[i][j]= backpointer;\r\n        }\r\n      }\r\n      let curr_row = s2 - 1;\r\n      let curr_col = s1 - 1;\r\n      while(curr_row !== 0 && curr_col !== 0) {\r\n        // console.log([curr_row, curr_col]);\r\n        solution.push([curr_row, curr_col]);\r\n        const dir = bpointer[curr_row][curr_col];\r\n        switch(dir) {\r\n          case BACKPOINTER_UP: {\r\n            curr_row--;\r\n            break;\r\n          }\r\n          case BACKPOINTER_LEFT: {\r\n            curr_col--;\r\n            break;\r\n          }\r\n          case BACKPOINTER_DIAG:\r\n          case -BACKPOINTER_DIAG: {\r\n            curr_row--;\r\n            curr_col--;\r\n            break;\r\n          }\r\n          default:\r\n        }\r\n      }\r\n      while(curr_col !== 0) {\r\n        // console.log([curr_row, curr_col]);\r\n        solution.push([curr_row, curr_col]);\r\n        curr_col--;\r\n      }\r\n      while(curr_row !== 0) {\r\n        // console.log([curr_row, curr_col]);\r\n        solution.push([curr_row, curr_col]);\r\n        curr_row--;\r\n      }\r\n      \r\n      // console.log([curr_row, curr_col]);\r\n      solution.push([0,0]);\r\n      solution.reverse();\r\n      setdpTable({\r\n        score: table,\r\n        bp: bpointer,\r\n        solution,\r\n      });\r\n      setIsComputing(false);\r\n    }\r\n    computeDPTable();\r\n  }, [similarityMatrix, setIsComputing, string1, string2, decoder]);\r\n\r\n  \r\n  const s1 = string1.length;\r\n  const s2 = string2.length;\r\n  const grid = [<p key=\"empty\" className=\"empty\" />,];\r\n  for (let i=0; i<s1; i++) {\r\n    const symbol = string1[i];\r\n    grid.push(<p key={`${symbol}${i}-top`} className=\"category output output-top\">{symbol}</p>);\r\n  }\r\n\r\n  if (!isComputing) {\r\n    const {score, bp, solution} = dpTable;\r\n    let solutionIndex = 0;\r\n    for (let i=0; i<s2; i++) {\r\n      grid.push(<p key={`${string2[i]}${i}-side`} className=\"category output output-side\">{string2[i]}</p>);\r\n  \r\n      for (let j=0; j<s1; j++) {\r\n        const [solrow, solcol] = solution[solutionIndex];\r\n        const isSol = (i===solrow) && (j===solcol)\r\n        if (isSol) {\r\n          solutionIndex++;\r\n        }\r\n        \r\n        const entryClass = `output${isSol ? ' answer' : ''}`;\r\n        const key = i*s1+j;\r\n        if (i > 0 || j > 0){\r\n          grid.push(\r\n            <p key={key} className={entryClass}>\r\n              {score[i][j]}\r\n              {(showOnlySolutionArrows && isSol) || (!showOnlySolutionArrows) ? getArrow(bp[i][j]) : null}\r\n            </p>\r\n          );\r\n        }\r\n        else {\r\n          grid.push(\r\n            <p key={key} className={entryClass}>{score[i][j]}</p>\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n  else {\r\n    for (let i=0; i<s2; i++) {\r\n      grid.push(<p key={`${string2[i]}${i}-side`} className=\"category output output-side\">{string2[i]}</p>);\r\n    }\r\n    grid.push(<Loading key=\"loading\" style={{gridColumnEnd: `${s1 + 2}`, gridRowEnd: `${s2+ 2}`}} id=\"matrix-loading\"/>);\r\n  }\r\n\r\n  return (\r\n    <div className=\"output-matrix\">\r\n      <section className=\"matrix\" style={{ gridTemplateColumns: `repeat(${s1+1}, 60px)`, gridTemplateRows: `repeat(${s2+1}, 45px)`}}>\r\n        {grid}\r\n      </section>\r\n      <div className=\"switch-wrapper\">\r\n        <Switch\r\n          onChange={() => setShowOnlySolutionArrows(!showOnlySolutionArrows)}\r\n          checked={showOnlySolutionArrows}\r\n          color=\"primary\"\r\n        />\r\n        <p>Only show solution arrows?</p>\r\n      </div>\r\n      <section>\r\n        <h2>Answer:</h2>\r\n        {\r\n          isComputing\r\n          ? null\r\n          : <Answer string1={string1} string2={string2} solution={dpTable.solution} />\r\n        }\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n","import {isPositiveInteger} from 'components/InputBox';\r\n\r\n\r\n\r\nexport const ACTIVITY_NAMES = [\r\n  'Netflix',\r\n  'Disney+',\r\n  'Reddit',\r\n  'Fire Emblem Heroes',\r\n  'Messenger',\r\n  'iMessage',\r\n  'Discord',\r\n  'Manga Reader',\r\n  'WebToons',\r\n  'Manga Storm',\r\n  'Shounen Jump',\r\n  'Gmail',\r\n];\r\n\r\n\r\nexport const VERTICAL_ACTIVITY_SPACING=35;\r\n\r\nfunction isValidDay(day, month, year) {\r\n  const thirtyOneDayMonths = new Set([1,3,5,7,8,10,12]);\r\n  if (day < 1 || day > 31) {\r\n    return false;\r\n  }\r\n  if (day < 29) { // We don't need to do other checks\r\n    return true;\r\n  }\r\n  if (day <= 31 && thirtyOneDayMonths.has(month)) {\r\n    return true;\r\n  }\r\n  if (day <= 30 && month !== 2) {\r\n    return true;\r\n  }\r\n  if (day === 29 && month === 2 && (year % 4 === 0)) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function checkDateValid(date) {\r\n  const {d: day, m: month, y: year} = date;\r\n  const errors = {\r\n    d: '',\r\n    m: '',\r\n    y: '',\r\n  };\r\n  let monthNum = 0;\r\n  let dayNum = 0;\r\n  let yearNum = 0;\r\n  if (year.length !== 4) {\r\n    errors.y = 'Year must have length 4';\r\n  }\r\n  else if (!isPositiveInteger(year)) {\r\n    errors.y = 'Year must be an integer';\r\n  }\r\n  else {\r\n    yearNum = Number.parseInt(year);\r\n    if (yearNum > 2021) {\r\n      errors.y = 'Must be a valid year';\r\n    }\r\n    else {\r\n      errors.y = '';\r\n    }\r\n  }\r\n\r\n  if (month.length > 2) {\r\n    errors.m = 'Month has too many digits.';\r\n  }\r\n  else if(!isPositiveInteger(month)) {\r\n    errors.m = 'Month must be an integer';\r\n  }\r\n  else {\r\n    monthNum = Number.parseInt(month);\r\n    if (monthNum < 1 || monthNum > 12) {\r\n      errors.m = 'Month must be 1-12';\r\n    }\r\n    else {\r\n      errors.m = '';\r\n    }\r\n  }\r\n\r\n  if (day.length > 2) {\r\n    errors.d = 'Day has too many digits';\r\n  }\r\n  else if (!isPositiveInteger(day)) {\r\n    errors.d = 'Day must be an integer.';\r\n  }\r\n  else {\r\n    dayNum = Number.parseInt(day);\r\n    if (dayNum < 1 || !isValidDay(dayNum, monthNum, yearNum)) {\r\n      errors.d = 'Must be a valid day';\r\n    }\r\n    else {\r\n      errors.d = '';\r\n    }\r\n  }\r\n  return errors;\r\n}\r\n\r\nexport function checkHourValid(hour) {\r\n  if(!isPositiveInteger(hour)) {\r\n    return 'Hour must be a positive integer';\r\n  }\r\n  if (Number.parseInt(hour) >= 24) {\r\n    return 'Hour must be less than or equal to 24.'\r\n  }\r\n  return '';\r\n}\r\n\r\nexport function checkMinuteValid(min) {\r\n  if(!isPositiveInteger(min)) {\r\n    return 'Minute must be a positive integer';\r\n  }\r\n  return '';\r\n}\r\n\r\nexport function checkActivitiesValid(acts) {\r\n  const ans = [];\r\n  acts.forEach(({name, h, min}) => {\r\n    ans.push({\r\n      h: checkHourValid(h),\r\n      min: checkMinuteValid(min),\r\n    });\r\n  });\r\n  return ans;\r\n}\r\n\r\nexport function initDropdownOptions() {\r\n  const ans = [];\r\n\r\n  ACTIVITY_NAMES.forEach((act) => {\r\n    ans.push(act);\r\n  });\r\n\r\n  return ans;\r\n}","import React from 'react';\r\n\r\nimport {VERTICAL_ACTIVITY_SPACING} from './util';\r\n\r\nconst HIDDEN_STYLE = { left: '-9999px'};\r\n\r\nexport default function Dropdown({ dropdownIndex, dropdownCallback, activeDropdown, filter, seenActivities, selectDropdownEntry }) {\r\n\r\n  let currStyle={};\r\n  if (dropdownIndex === -1){\r\n    currStyle = HIDDEN_STYLE;\r\n  }\r\n  else {\r\n    const total = VERTICAL_ACTIVITY_SPACING*dropdownIndex;\r\n    currStyle = { left: '20px', top: `${25+total}px`};\r\n  }\r\n\r\n  const handleButtonClick = (index) => {\r\n    selectDropdownEntry(dropdownIndex, index);\r\n  }\r\n\r\n  let dropdownActs = seenActivities.map((act, index) => {\r\n    return <button key={act} onClickCapture={() => handleButtonClick(index)} className={activeDropdown === index ? 'active' : ''}>{act}</button>;\r\n  })\r\n\r\n  if (dropdownActs.length === 0) {\r\n    dropdownActs = <div id=\"dropdown\" style={HIDDEN_STYLE} ref={dropdownCallback} />\r\n  }\r\n\r\n  return (\r\n    <div id=\"dropdown\" style={currStyle} ref={dropdownCallback}>\r\n      {dropdownActs}\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\n\r\nexport default function TimeEntry({isHour, time, onChange, onFocus}) {\r\n  return (\r\n    <div className=\"time-container\">\r\n      <input type=\"text\" defaultValue={time} onFocus={onFocus} onChange={onChange} className={`time-entry${isHour ? '' : ' minute-entry'}`}/>\r\n      <p>{isHour ? 'h' : 'm'}</p>\r\n    </div>\r\n  )\r\n}","import React, {useState, useEffect, useRef} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nimport './screenTime.scss';\r\nimport {\r\n  ACTIVITY_NAMES,\r\n  VERTICAL_ACTIVITY_SPACING,\r\n  initDropdownOptions,\r\n  checkDateValid,\r\n  checkHourValid,\r\n  checkMinuteValid, \r\n} from './util';\r\nimport Dropdown from './dropdown';\r\nimport TimeEntry from './timeEntry';\r\n\r\nfunction DataErrors(props) {\r\n  const {\r\n    isDayValid,\r\n    isMonthValid,\r\n    isYearValid,\r\n    isHourValid,\r\n    isMinuteValid,\r\n  } = props;\r\n\r\n  return (\r\n    <div className=\"errors\">\r\n      <p>{isDayValid}</p>\r\n      <p>{isMonthValid}</p>\r\n      <p>{isYearValid}</p>\r\n      <p>{isHourValid}</p>\r\n      <p>{isMinuteValid}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction parseTime(num) {\r\n  const ret = Number.parseInt(num);\r\n  if (Number.isNaN(ret)) {\r\n    return 'Invalid Format';\r\n  }\r\n  return ret;\r\n}\r\n\r\nfunction JsonifiedData({hour, minute, activities, date}) {\r\n  const [isCopying, setIsCopying] = useState(false);\r\n  const obj = {\r\n    date: `${date.m.padStart(2, '0')}/${date.d.padStart(2, '0')}/${date.y}`,\r\n    total: {\r\n      hour: parseTime(hour),\r\n      minute: parseTime(minute),\r\n    },\r\n  };\r\n  if (activities.length > 0) {\r\n    const apps = [];\r\n    activities.forEach(({name, h, min}) => {\r\n      if (name.length > 0) {\r\n        let numMin = parseTime(min);\r\n        let numHours = parseTime(h);\r\n        if (numMin > 60) {\r\n          const addHours = Math.floor(numMin / 60);\r\n          numMin = numMin % 60;\r\n          numHours += addHours;\r\n        }\r\n        apps.push({\r\n          name: name.replace(/\\s+/g, ' ').trim(),\r\n          hour: numHours,\r\n          minute: numMin,\r\n        })\r\n      }\r\n    });\r\n    if (apps.length > 0)\r\n      obj.apps = apps;\r\n  }\r\n\r\n  const str = JSON.stringify(obj, null, 2);\r\n\r\n  function copyToClipboard() {\r\n    setIsCopying(true);\r\n    navigator.clipboard.writeText(str).then(() => {\r\n      setIsCopying(false);\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div className='json-string'>\r\n      <Button onClick={copyToClipboard} color=\"primary\">Copy to Clipboard</Button>\r\n      {isCopying ? <p className=\"copying\">Copying...</p> : <p className=\"copying done\">Done!</p>}\r\n      <pre>\r\n        {str}\r\n      </pre>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction initDay() {\r\n  const today = new Date();\r\n  return {\r\n    d: today.getDate().toString(),\r\n    m: (today.getMonth()+1).toString(),\r\n    y: today.getFullYear().toString(),\r\n  };\r\n}\r\n\r\nexport default function ScreenTime() {\r\n\r\n  useEffect(() => {\r\n    const originalOnKeyDown = window.onkeydown;\r\n    const originalOnKeyUp = window.onkeyup;\r\n    return () => {\r\n      window.onkeydown = originalOnKeyDown;\r\n      window.onkeyup = originalOnKeyUp;\r\n    }\r\n  });\r\n\r\n  const [activities, setActivities] = useState([]);\r\n  const [seenActivities, setSeenActivities] = useState(initDropdownOptions());\r\n\r\n\r\n  let mydropdown = useRef();\r\n  const actRefs = useRef([]);\r\n  const [date, setDay] = useState(initDay());\r\n  const [hour, setHour] = useState(\"0\");\r\n  const [minute, setMinute] = useState(\"0\");\r\n  const [dropdownInfo, setDropdownInfo] = useState({\r\n    dropdownIndex: -1,\r\n    activeDropdown: -1, \r\n  });\r\n  \r\n  const {dropdownIndex, activeDropdown} = dropdownInfo;\r\n\r\n  const {\r\n    d: isDayValid,\r\n    m: isMonthValid,\r\n    y: isYearValid,\r\n  } = checkDateValid(date);\r\n  const isHourValid = checkHourValid(hour);\r\n  const isMinuteValid = checkMinuteValid(minute);\r\n  // const areActivitiesValid = checkActivitiesValid(activities);\r\n\r\n\r\n  useEffect(() => {\r\n    actRefs.current = actRefs.current.slice(0, activities.length);\r\n  }, [activities.length]);\r\n\r\n  useEffect(() => {\r\n    \r\n    const hideDropDown = (e) => {\r\n      let newindex = -1;\r\n      if (!actRefs.current[dropdownIndex].contains(e.target) //did not click on the current input box\r\n       && (mydropdown.current && !mydropdown.current.contains(e.target))) // and did not click on the dropdown \r\n      {\r\n        newindex = -1;\r\n      }\r\n      for (let i=0; i<actRefs.current.length; i++) {\r\n        if (actRefs.current[i] && actRefs.current[i].contains(e.target)) {\r\n          newindex = i;\r\n          break;\r\n        }\r\n      }\r\n      setDropdownInfo({\r\n        dropdownIndex: newindex,\r\n        activeDropdown: -1,\r\n      });\r\n    }\r\n    if (dropdownIndex !== -1) {\r\n      window.onclick = hideDropDown;\r\n    }\r\n    else {\r\n      window.onclick = undefined;\r\n    }\r\n\r\n    return () => (window.onclick = undefined);\r\n  }, [dropdownIndex]);\r\n\r\n  const addActivity = () => {\r\n    const actCopy = activities.map(e => e);\r\n    if (activities.length === 0) {\r\n      actCopy.push({\r\n        key: 0,\r\n        name: '',\r\n        h: '0',\r\n        min: '0',\r\n      });\r\n    }\r\n    else {\r\n      actCopy.push({\r\n        key: activities[activities.length-1].key + 1,\r\n        name: '',\r\n        h: '0',\r\n        min: '0',\r\n      });\r\n    }\r\n    setActivities(actCopy);\r\n  }\r\n  \r\n\r\n  const showDropdown = (index) => {\r\n    setDropdownInfo({\r\n      dropdownIndex: index,\r\n      activeDropdown: -1,\r\n    });\r\n  }\r\n\r\n  const handleDay = (e) => {\r\n    const {m,y} = date;\r\n    setDay({\r\n      d: e.target.value,\r\n      m,\r\n      y,\r\n    });\r\n  };\r\n  const handleMonth = (e) => {\r\n    const {d,y} = date;\r\n    setDay({\r\n      d,\r\n      m: e.target.value,\r\n      y,\r\n    });\r\n  }\r\n  const handleYear = (e) => {\r\n    const {m,d} = date;\r\n    setDay({\r\n      d,\r\n      m,\r\n      y: e.target.value,\r\n    });\r\n  }\r\n  const handleHour = (e) => {\r\n    setHour(e.target.value);\r\n  };\r\n  const handleMinute = (e) => {\r\n    setMinute(e.target.value);\r\n  };\r\n\r\n  const updateActivities = (index, e) => {\r\n    const actCopy = activities.map(e => e);\r\n    actCopy[index].name = e.target.value;\r\n    setActivities(actCopy);\r\n    const newSeenActivities = generateNewSeenActivities(actCopy).filter((str) => {\r\n      return (!e.target.value || str.toLowerCase().startsWith(e.target.value.toLowerCase()))\r\n    });\r\n    setSeenActivities(newSeenActivities);\r\n  }\r\n\r\n  const handleActChange = (index, e) => {\r\n    updateActivities(index, e);\r\n    showDropdown(index);\r\n  }\r\n  const handleActivityFocus = (index, e) => {\r\n    updateActivities(index, e);\r\n    showDropdown(index); /** @Todo Handle blur sets dropdownIndex to -1, but this is 'undoing' that. Prolly should consider a different option... */\r\n  }\r\n\r\n  const handleActivityHour = (index, e) => {\r\n    const actCopy = [...activities];\r\n    actCopy[index].h = e.target.value;\r\n    setActivities(actCopy);\r\n  }\r\n\r\n  const handleActivityMin = (index, e) => {\r\n    const actCopy = activities.map(e => e);\r\n    actCopy[index].min = e.target.value;\r\n    setActivities(actCopy);\r\n  }\r\n  /** Recreates the list of items in the dropdown */\r\n  const generateNewSeenActivities = (act) => {\r\n    const newSeenActivities = [];\r\n    ACTIVITY_NAMES.forEach((name) => {\r\n      let addThisName = true;\r\n      for (let i = 0; i<act.length; i++) {\r\n        const actName = act[i].name;\r\n        if (name === actName) {\r\n          addThisName = false;\r\n          break;\r\n        }\r\n      }\r\n      if (addThisName) {\r\n        newSeenActivities.push(name);\r\n      }\r\n    });\r\n    return newSeenActivities;\r\n  }\r\n  const handleBlur = (actCopy) => {\r\n    let act = actCopy ? actCopy : activities;\r\n    const newSeenActivities = generateNewSeenActivities(act);\r\n    showDropdown(-1);\r\n    setSeenActivities(newSeenActivities);\r\n  }\r\n\r\n  const handleActivityDelete = (index) => {\r\n    const actCopy = activities.filter((v,i) => (i!==index));\r\n    handleBlur(actCopy);\r\n    setActivities(actCopy);\r\n  }\r\n\r\n  const selectDropdownEntry = (index, activeDropdownIndex) => {\r\n    const actCopy = activities.map(e => e);\r\n    let name = activities[index].name;\r\n    if (activeDropdownIndex >= 0) {\r\n      name = seenActivities[activeDropdownIndex];\r\n    }\r\n    actCopy[index] = {\r\n      ...actCopy[index],\r\n      name,\r\n    }\r\n    handleBlur(actCopy);\r\n    setActivities(actCopy);\r\n    mydropdown.current.scrollTop = 0;\r\n  }\r\n\r\n  const updatedropdownScrollDown = (newActiveDropdown) => {\r\n    const MAX_ELEMS = 10;\r\n    const currentdropdownTop = Math.floor((mydropdown.current.scrollTop) / 20);\r\n    if ( newActiveDropdown < currentdropdownTop || newActiveDropdown >= currentdropdownTop + MAX_ELEMS ) {\r\n      const diff = (newActiveDropdown - currentdropdownTop);\r\n      const newScrollPos = mydropdown.current.scrollTop + 20 * diff;\r\n      if (newScrollPos < mydropdown.current.scrollHeight) {\r\n        mydropdown.current.scrollTop = newScrollPos;\r\n      }\r\n    }\r\n  }\r\n  const updatedropdownScrollUp = (newActiveDropdown, ) => {\r\n    const MAX_ELEMS = 10;\r\n    const currentelems = Math.floor(mydropdown.current.scrollHeight / 20);\r\n    const currentdropdownTop = Math.floor((mydropdown.current.scrollTop) / 20);\r\n    const activePosition = newActiveDropdown - (ACTIVITY_NAMES.length - currentelems);\r\n    if ( activePosition < currentdropdownTop || activePosition >= currentdropdownTop + MAX_ELEMS ) {\r\n      const diff = (activePosition - currentdropdownTop);\r\n      const newScrollPos = mydropdown.current.scrollTop + 20 * diff;\r\n      if (newScrollPos < mydropdown.current.scrollHeight) {\r\n        mydropdown.current.scrollTop = newScrollPos;\r\n      }\r\n    }\r\n  }\r\n  const handleActKeyDown = (index, e) => {\r\n    if (e.key === 'ArrowDown') {\r\n      let newActiveDropdown = activeDropdown + 1;\r\n      if (newActiveDropdown === seenActivities.length) {\r\n        newActiveDropdown = 0;\r\n      }\r\n      setDropdownInfo({\r\n        dropdownIndex,\r\n        activeDropdown: newActiveDropdown\r\n      });\r\n      updatedropdownScrollDown(newActiveDropdown);\r\n    }\r\n    if (e.key === 'ArrowUp') {\r\n      let newActiveDropdown = activeDropdown - 1;\r\n      \r\n      if (newActiveDropdown < 0) {\r\n        newActiveDropdown = seenActivities.length - 1;\r\n      }\r\n      setDropdownInfo({\r\n        dropdownIndex,\r\n        activeDropdown: newActiveDropdown\r\n      });\r\n      updatedropdownScrollUp(newActiveDropdown);\r\n    }\r\n    if (e.key === 'Enter') {\r\n      selectDropdownEntry(index, activeDropdown);\r\n    }\r\n  }\r\n\r\n  const {d,m,y} = date;\r\n\r\n  const errored = !(!isDayValid && !isMonthValid && !isYearValid && !isHourValid & !isMinuteValid);\r\n  return (\r\n    <div className=\"screentime-editor\">\r\n        <h2 className=\"row-header\">Data Point Entry</h2>\r\n        <div className=\"data-entry-container date-entry-container\">\r\n          <h3>Date (mm/dd/yyyy)</h3>\r\n          <input type=\"text\" value={m} onChange={handleMonth} className=\"date-entry\"/>\r\n          <span className=\"slash\">/</span>\r\n          <input type=\"text\" value={d} onChange={handleDay} className=\"date-entry\"/>\r\n          <span className=\"slash\">/</span>\r\n          <input type=\"text\" value={y} onChange={handleYear} className=\"date-entry year\"/>\r\n        </div>\r\n\r\n        <div className=\"data-entry-container time-entry-container\">\r\n          <h3>Total Time</h3>\r\n          <TimeEntry isHour time={hour} onChange={handleHour} />\r\n          <TimeEntry time={minute} onChange={handleMinute} />\r\n        </div>\r\n        <div className=\"data-entry-container activity-entry-container\">\r\n          <h3>Activities</h3>\r\n          <Button\r\n            className=\"btn\"\r\n            color=\"primary\"\r\n            variant=\"contained\"\r\n            disableRipple\r\n            onClick={addActivity}\r\n            size=\"small\"\r\n          >\r\n            Add Activity\r\n          </Button>\r\n          <div className=\"activity-entry-grid-container\" style={{gridTemplateRows: `repeat(${activities.length}, ${VERTICAL_ACTIVITY_SPACING}px)`}}>\r\n            {\r\n              activities.map(({key, name, h, min}, index) => {\r\n                return (\r\n                  <React.Fragment key={key}>\r\n\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"activity-entry\"\r\n                      value={name}\r\n                      ref={(el) => (actRefs.current[index] = el)}\r\n                      onChange={(e) => handleActChange(index, e)}\r\n                      onFocusCapture={(e) => handleActivityFocus(index, e)}\r\n                      onKeyDown={(e) => handleActKeyDown(index, e)}\r\n                      onClick={() => showDropdown(index)}\r\n                    />\r\n                    <TimeEntry isHour onFocus={handleBlur} time={h} onChange={(e) => handleActivityHour(index, e)} />\r\n                    <TimeEntry onFocus={handleBlur} time={min} onChange={(e) => handleActivityMin(index, e)} />\r\n                    <IconButton size='small' aria-label=\"delete\" onClick={() => handleActivityDelete(index)}>\r\n                      <DeleteIcon />\r\n                    </IconButton>\r\n                  </React.Fragment>\r\n                );\r\n              })\r\n            }\r\n            <Dropdown\r\n              dropdownCallback={(el ) => (mydropdown.current = el)}\r\n              dropdownIndex={dropdownIndex} \r\n              activeDropdown={activeDropdown}\r\n              activities={activities}\r\n              seenActivities={seenActivities}\r\n              selectDropdownEntry={selectDropdownEntry}\r\n            />\r\n          </div>\r\n        </div>\r\n        \r\n        \r\n        {\r\n          errored \r\n          ? <DataErrors\r\n            isDayValid={isDayValid}\r\n            isMonthValid={isMonthValid}\r\n            isYearValid={isYearValid}\r\n            isHourValid={isHourValid}\r\n            isMinuteValid={isMinuteValid} />\r\n          : null\r\n        }\r\n\r\n        {/* <Button variant=\"contained\" color=\"primary\" onClick={saveData}>Get Data</Button> */}\r\n        <JsonifiedData activities={activities} date={date} hour={hour} minute={minute}/>\r\n    </div>\r\n  )\r\n}","import ReactDOMServer from 'react-dom/server';\r\nimport React from 'react';\r\n\r\nfunction tagTime(t, tag) {\r\n  return (\r\n    <React.Fragment key={`${tag}-${t}`}>\r\n    {t}\r\n    <span className='tiny-text'>{`${tag} `}</span>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nfunction buildTooltipTime(name, hour, minute) {\r\n  let str = [<span key={name}>{`${name}: `}</span>];\r\n  if (hour > 0) {\r\n    str.push(tagTime(hour, 'h'));\r\n  }\r\n  if (minute > 0) {\r\n    str.push(tagTime(minute, 'm'));\r\n  }\r\n  return (\r\n    <p key={name}>\r\n      {str}\r\n    </p>\r\n  );\r\n}\r\n\r\nfunction D3Tooltip({data, flat}) {\r\n  let mostPElems = '';\r\n  if (flat) {\r\n    mostPElems = buildTooltipTime(data.name, data.hour, data.minute);\r\n  }\r\n  else {\r\n    const apps = data.apps;\r\n\r\n    mostPElems = apps.map(({name, hour, minute}) => {\r\n      return buildTooltipTime(name, hour, minute);\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"tooltip-content\">\r\n      <h3>{data.date}</h3>\r\n      {mostPElems}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function renderToolTip(data) {\r\n  return ReactDOMServer.renderToString(<D3Tooltip data={data}/>);\r\n}\r\n\r\nexport function renderToolTipStacked(data) {\r\n  return ReactDOMServer.renderToString(<D3Tooltip flat data={data}/>)\r\n}","import { renderToolTipStacked } from './builderJSX';\r\nimport {renderToolTip} from './builderJSX';\r\n\r\nconst d3 = window.d3;\r\n\r\nfunction getMax(d) {\r\n  let maxVal = d[0];\r\n  for (let i = 0; i<d.length; i++) {\r\n    if (d[i] > maxVal) {\r\n      maxVal = d[i];\r\n    }\r\n  }\r\n  return maxVal;\r\n}\r\n\r\nfunction getTotalMin({total}) {\r\n  return total.hour*60 + total.minute;\r\n}\r\n\r\nfunction getTotalTime(arg) {\r\n  return arg.hour*60 + arg.minute;\r\n}\r\n\r\nexport function preprocess(data) {\r\n  let totals = data.map((d) => getTotalMin(d));\r\n  \r\n  let totalCompleteTime = 0;\r\n  const max = getMax(totals);\r\n  for (let i=0; i<totals.length; i++) {\r\n    totalCompleteTime += totals[i];\r\n    totals[i] = totals[i] / max;\r\n  }\r\n\r\n  for (let i=0; i<data.length; i++) {\r\n    data[i].apps.sort((a, b) => getTotalTime(b) - getTotalTime(a));\r\n    for (let j=0; j<data[i].apps.length; j++) {\r\n      const app = data[i].apps[j];\r\n      app.range = getTotalTime(app) / getTotalMin(data[i]) * totals[i];\r\n      if (j !== 0) {\r\n        app.offset = data[i].apps[j-1].range + data[i].apps[j-1].offset;\r\n      }\r\n      else { // j === 0\r\n        app.offset = 0;\r\n      }\r\n    }\r\n\r\n\r\n    let totalTime = 0;\r\n    data[i].apps.forEach(({hour, minute}) => {\r\n      totalTime += hour*60 + minute;\r\n    });\r\n\r\n    const otherTime = getTotalMin(data[i]) - totalTime;\r\n    const lastapp = data[i].apps[data[i].apps.length - 1];\r\n\r\n    data[i].apps.push({\r\n      name: 'Other',\r\n      hour: Math.floor(otherTime / 60),\r\n      minute: otherTime % 60,\r\n      range: otherTime / getTotalMin(data[i]) * totals[i],\r\n      offset: lastapp.range + lastapp.offset\r\n    })\r\n  }\r\n\r\n  return {\r\n    max,\r\n    totals,\r\n    data,\r\n    totalCompleteTime,\r\n  };\r\n}\r\n\r\nfunction collectUniqueActivities(data) {\r\n  const keys = new Set();\r\n  data.forEach(({apps}) => {\r\n    apps.forEach(({name}) => {\r\n      keys.add(name);\r\n    })\r\n  })\r\n\r\n  return keys;\r\n}\r\n\r\nfunction formatDate(date) {\r\n  const [month, day, year] = date.toLocaleString(\"en-US\", {\r\n    day: \"numeric\",\r\n    month: \"numeric\",\r\n    year: \"numeric\",\r\n  }).split('/');\r\n  return `${month}/${day}/${year.substring(2)}`;\r\n}\r\n\r\nconst parseDate = d3.timeParse(\"%m/%d/%Y\");\r\n\r\nfunction getOneAfter(date) {\r\n  let curr = parseDate(date).getTime();\r\n  curr += 1000 * 60 * 60 * 24; \r\n  return new Date(curr);\r\n}\r\n\r\nconst MIN_SPACING_BARS = 5;\r\nconst MAX_BAR_WIDTH = 30;\r\nconst ADDITIONAL_PADDING = 2;\r\n\r\nconst MAX_DAYS = 28;\r\nlet currentIndex = 0;\r\nexport default function buildVisual(preparedData, target, option) {\r\n  console.log('build visual');\r\n  const {max, totals, data, totalCompleteTime} = preparedData;\r\n  let n = Math.min(MAX_DAYS, data.length);\r\n\r\n  const wrapper = document.getElementById('d3-wrapper');\r\n  const height = wrapper.offsetHeight;\r\n  const width = wrapper.offsetWidth;\r\n\r\n  const marginLeftRight = 0;\r\n  const marginTopBottom = 20;\r\n\r\n  const widthExcludingMargin = width - 100 - 2*marginLeftRight;\r\n  const heightExcludingMargin = height - marginTopBottom;\r\n\r\n  target.innerHTML = '';\r\n  const svgCanvas = d3.select(target)\r\n    .attr(\"width\", widthExcludingMargin)\r\n    .attr(\"height\", height)\r\n    .attr(\"border\", \"1px solid black\");\r\n\r\n  \r\n  let tooltip = d3.select(\"body\").append(\"div\")\r\n    .attr(\"class\", \"tooltip-donut\")\r\n    .attr(\"id\", \"d3-tooltip\")\r\n    .style(\"opacity\", 1)\r\n    .style('display', 'none');\r\n\r\n  let barWidth = Math.min(MAX_BAR_WIDTH, widthExcludingMargin / n - MIN_SPACING_BARS);\r\n\r\n  document.getElementById('num-days').innerHTML = data.length;\r\n  let totalTotalHour = Math.floor(totalCompleteTime / 60);\r\n  let totalTotalMinute = totalCompleteTime % 60;\r\n  document.getElementById('total-time').innerHTML = `${totalTotalHour}<span class=\"tiny-text\">h</span> ${totalTotalMinute}<span class=\"tiny-text\">m</span>`\r\n\r\n  let avgCompleteTime = totalCompleteTime / data.length;\r\n  let avgTotalHour = Math.floor(avgCompleteTime / 60);\r\n  let avgTotalMinute = Math.floor(avgCompleteTime) % 60;\r\n  document.getElementById('daily-average').innerHTML = `${avgTotalHour}<span class=\"tiny-text\">h</span> ${avgTotalMinute}<span class=\"tiny-text\">m</span>`\r\n  \r\n  document.getElementById('current-date').innerHTML = `${data[0].date} - ${data[n-1].date}`\r\n  var y_axis = d3.scaleLinear()\r\n    .domain([max, 0])\r\n    .range([0, heightExcludingMargin])\r\n    \r\n  const lenAlongXAxis = widthExcludingMargin;\r\n  function calcBarPositions(i, offset) {\r\n    return ADDITIONAL_PADDING + marginLeftRight + (i-offset)/ MAX_DAYS * lenAlongXAxis;\r\n  }\r\n  var x_axis = d3.scaleTime()\r\n    .domain([parseDate(data[0].date), parseDate(data[data.length-1].date)])\r\n    .range([0, (data.length-1) * (lenAlongXAxis / MAX_DAYS) ])\r\n  \r\n  var z_axis = d3.scaleOrdinal().range(['#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b','#d53e4f','#fc8d59','#fee08b',]);\r\n  z_axis.domain(data.map(function(d) { return d.keys; }));\r\n  \r\n  function rerenderXAxis(offset) {\r\n    const endElement = Math.min(data.length -1 , offset+MAX_DAYS-1);\r\n\r\n    d3.select('#x_axis')\r\n    .transition()\r\n    .duration(1000)\r\n    .attr(\"transform\", `translate(${marginLeftRight + ADDITIONAL_PADDING + barWidth/2 + -offset * (lenAlongXAxis / MAX_DAYS)}, ${height-marginTopBottom})`);\r\n\r\n    document.getElementById('current-date').innerHTML = `${data[offset].date} - ${data[endElement].date}`\r\n    d3.select('#x_axis').call(\r\n      d3.axisBottom(x_axis)\r\n      .ticks(data.length)\r\n      .tickFormat(formatDate)\r\n    );\r\n  }\r\n\r\n\r\n  svgCanvas.append(\"g\")\r\n    .attr(\"id\", \"y_axis\")\r\n    .attr(\"transform\", `translate(${marginLeftRight}, 0)`)\r\n    .call(d3.axisLeft(y_axis)\r\n    .ticks(5)\r\n    .tickSize(-lenAlongXAxis, 0, 0)\r\n    .tickFormat( function(d) { return d } ))\r\n    .selectAll(\"text\")\r\n    .attr(\"transform\", `translate(30, -5)`);\r\n\r\n  svgCanvas.append(\"g\")\r\n  .attr(\"id\", \"x_axis\")\r\n    .attr(\"transform\", `translate(${marginLeftRight + ADDITIONAL_PADDING + barWidth/2 + -currentIndex * (lenAlongXAxis / MAX_DAYS)}, ${height-marginTopBottom})`)\r\n    .call(\r\n      d3.axisBottom(x_axis)\r\n      .ticks(data.length)\r\n      .tickFormat( formatDate )\r\n    )\r\n    .selectAll(\"text\")\r\n    .attr(\"transform\", `rotate(0) translate(0, 0)`);\r\n\r\n  const color = `rgb(45, 207, 17)`;\r\n  const lightColor = `rgb(54, 242, 22)`;\r\n\r\n\r\n  if (option === 0) {\r\n    const bars = svgCanvas.selectAll(\".bar\").data(data).enter().append('g')\r\n      .attr('class', 'bar')\r\n      .attr('transform', (d, i) => `translate(${calcBarPositions(i, currentIndex*7)}, 0)` );\r\n\r\n    const rects = bars.selectAll('rect').data(d => d.apps).enter()\r\n      .append('rect')\r\n      .attr('fill', color)\r\n      .attr('class', (d) => `${d.name.toLowerCase().split(' ').join('_')}`)\r\n      .attr(\"width\", barWidth)\r\n      .attr('y', (d, i) => heightExcludingMargin - (d.offset * heightExcludingMargin) - (d.range * heightExcludingMargin))\r\n      .attr(\"height\", (d) => d.range * heightExcludingMargin);\r\n\r\n    rects.on('mousemove', function(e, d) {\r\n      const tooltipHTML = renderToolTipStacked(d);\r\n\r\n      const shouldMoveBelow = e.pageY >= 200;\r\n      const shouldMoveLeft = (e.pageX + 10) >= 1000;\r\n\r\n      // Move the position of the tooltip origin if switching between left and right.\r\n      const xVal = shouldMoveLeft ? e.pageX - 10 : e.pageX + 10;\r\n      \r\n      let tooltipClass = `tooltip-donut ${shouldMoveBelow ? 'moveBelow' : ''} ${shouldMoveLeft ? 'moveLeft' : ''}`;\r\n      tooltip.html(tooltipHTML)\r\n        .style(\"left\", xVal + \"px\")\r\n        .style(\"top\", (e.pageY) + \"px\")\r\n        .attr('class', tooltipClass);\r\n      })\r\n    .on('mouseout', function(d, i) {\r\n      d3.select(this).attr('fill', color);\r\n      tooltip.style('display', 'none');\r\n    })\r\n    .on('mouseenter', function(d, i) {\r\n      d3.select(this).attr('fill', lightColor);\r\n      tooltip.style('display', null);\r\n    });\r\n\r\n    function rerenderRects(offset) {\r\n      bars.transition().duration(1000).attr('transform', (d, i) => `translate(${calcBarPositions(i, offset)}, 0)` )\r\n    }\r\n    \r\n    d3.select('#see-next')\r\n    .on(\"click\", function(d) {\r\n      \r\n      const offset = (currentIndex+1) * 7;\r\n      if (offset+1 > data.length) { //don't do anything if there aren't at least 7 days to display\r\n        return;\r\n      }\r\n      currentIndex += 1;\r\n\r\n\r\n      rerenderRects(offset);\r\n      rerenderXAxis(offset);\r\n      \r\n    })\r\n\r\n    d3.select('#see-prev')\r\n    .on(\"click\", function(d) {\r\n      \r\n      if (currentIndex === 0) { // don't do anything if we are at the beginning of history\r\n        return;\r\n      }\r\n      currentIndex -= 1;\r\n      const offset = currentIndex * 7;\r\n      \r\n      rerenderRects(offset);\r\n      rerenderXAxis(offset);\r\n    })\r\n  }\r\n  else {\r\n    const rects = svgCanvas.selectAll(\"rect\")\r\n    .data(data).enter()\r\n      .append(\"rect\")\r\n      .attr(\"width\", barWidth)\r\n      .attr(\"height\", (d, i) => {\r\n        return heightExcludingMargin * totals[i];\r\n      })\r\n      .attr(\"fill\", color)\r\n      .attr(\"x\", (d, i) => calcBarPositions(i, currentIndex*7))\r\n      .attr(\"y\", (d, i) => {\r\n        return `${heightExcludingMargin - heightExcludingMargin * totals[i]}`;\r\n      });\r\n\r\n    rects.on('mousemove', function(e, d) {\r\n      const tooltipHTML = renderToolTip(d);\r\n\r\n      const shouldMoveBelow = e.pageY >= 200;\r\n      const shouldMoveLeft = (e.pageX + 10) >= 1000;\r\n\r\n      // Move the position of the tooltip origin if switching between left and right.\r\n      const xVal = shouldMoveLeft ? e.pageX - 10 : e.pageX + 10;\r\n      \r\n      let tooltipClass = `tooltip-donut ${shouldMoveBelow ? 'moveBelow' : ''} ${shouldMoveLeft ? 'moveLeft' : ''}`;\r\n      tooltip.html(tooltipHTML)\r\n        .style(\"left\", xVal + \"px\")\r\n        .style(\"top\", (e.pageY) + \"px\")\r\n        .attr('class', tooltipClass);\r\n      })\r\n    .on('mouseout', function(d, i) {\r\n      d3.select(this).attr('fill', color);\r\n      tooltip.style('display', 'none');\r\n    })\r\n    .on('mouseenter', function(d, i) {\r\n      d3.select(this).attr('fill', lightColor);\r\n      tooltip.style('display', null);\r\n    });\r\n\r\n\r\n    function rerenderRects(offset) {\r\n      rects.transition().duration(1000).attr(\"x\", (d, i) => { return calcBarPositions(i, offset); });\r\n    }\r\n\r\n    d3.select('#see-next')\r\n    .on(\"click\", function(d) {\r\n      \r\n      const offset = (currentIndex+1) * 7;\r\n      if (offset+1 > data.length) { //don't do anything if there aren't at least 7 days to display\r\n        return;\r\n      }\r\n      currentIndex += 1;\r\n\r\n      rerenderRects(offset);\r\n      rerenderXAxis(offset);\r\n    })\r\n\r\n    d3.select('#see-prev')\r\n    .on(\"click\", function(d) {\r\n      \r\n      if (currentIndex === 0) { // don't do anything if we are at the beginning of history\r\n        return;\r\n      }\r\n      currentIndex -= 1;\r\n      const offset = currentIndex * 7;\r\n      \r\n      rerenderRects(offset);\r\n      rerenderXAxis(offset);\r\n    })\r\n  }\r\n}","import React, { useState, useRef, useEffect } from 'react';\r\nimport Loading from 'components/Loading/loading';\r\nimport buildVisual, {preprocess} from './builder';\r\nimport Button from '@material-ui/core/Button'\r\n\r\nimport './screenTimeVisualizor.scss';\r\n\r\nconst temp_data = [\r\n  {\r\n    \"date\": \"03/29/2021\",\r\n    \"total\": {\r\n      \"hour\": 6,\r\n      \"minute\": 5\r\n    },\r\n    \"apps\": [\r\n      {\r\n        \"name\": \"Youtube\",\r\n        \"hour\": 2,\r\n        \"minute\": 57\r\n      },\r\n      {\r\n        \"name\": \"Netflix\",\r\n        \"hour\": 1,\r\n        \"minute\": 9\r\n      },\r\n      {\r\n        \"name\": \"Fire Emblem Heroes\",\r\n        \"hour\": 0,\r\n        \"minute\": 39\r\n      },\r\n      {\r\n        \"name\": \"Reddit\",\r\n        \"hour\": 0,\r\n        \"minute\": 20\r\n      },\r\n      {\r\n        \"name\": \"Messenger\",\r\n        \"hour\": 0,\r\n        \"minute\": 15\r\n      },\r\n      {\r\n        \"name\": \"Gmail\",\r\n        \"hour\": 0,\r\n        \"minute\": 11\r\n      },\r\n      {\r\n        \"name\": \"Chrome\",\r\n        \"hour\": 0,\r\n        \"minute\": 9\r\n      },\r\n      {\r\n        \"name\": \"Messages\",\r\n        \"hour\": 0,\r\n        \"minute\": 1\r\n      }\r\n    ]\r\n  },\r\n  {\r\n  \"date\": \"03/30/2021\",\r\n  \"total\": {\r\n    \"hour\": 8,\r\n    \"minute\": 56\r\n  },\r\n  \"apps\": [\r\n    {\r\n      \"name\": \"Fire Emblem Heroes\",\r\n      \"hour\": 4,\r\n      \"minute\": 48\r\n    },\r\n    {\r\n      \"name\": \"Messenger\",\r\n      \"hour\": 0,\r\n      \"minute\": 11\r\n    },\r\n    {\r\n      \"name\": \"Chrome\",\r\n      \"hour\": 0,\r\n      \"minute\": 8\r\n    },\r\n    {\r\n      \"name\": \"Gmail\",\r\n      \"hour\": 0,\r\n      \"minute\": 3\r\n    },\r\n    {\r\n      \"name\": \"Messages\",\r\n      \"hour\": 0,\r\n      \"minute\": 1\r\n    },\r\n    {\r\n      \"name\": \"Discord\",\r\n      \"hour\": 0,\r\n      \"minute\": 1\r\n    }\r\n  ]\r\n}];\r\n\r\nexport default function ScreenTimeVisualizor() {\r\n  const d3Div = useRef();\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isLoadingData, setIsLoadingData] = useState(true);\r\n  const [load,] = useState(true);\r\n  const [data, setData] = useState([]);\r\n  const [visualOption, setVisualOption] = useState(0);\r\n\r\n  function incVisualOption() {\r\n    let next = visualOption + 1;\r\n    if (next === 2) {\r\n      next = 0;\r\n    }\r\n    setVisualOption(next);\r\n  }\r\n\r\n  useEffect(() => {\r\n\r\n    async function getScreenTimeData() {\r\n      fetch(process.env.PUBLIC_URL + '/screen.json', {\r\n        \"content-type\": 'application/json',\r\n      }).then(res => res.json())\r\n      .then(res => {\r\n        const processed_data = preprocess(res);\r\n        setData(processed_data);\r\n        setIsLoadingData(false);\r\n      });\r\n    }\r\n\r\n    if (load) {\r\n      getScreenTimeData();\r\n    }\r\n    else {\r\n      setData(temp_data);\r\n    }\r\n\r\n    return () => {\r\n      const toolTip = document.getElementById('d3-tooltip');\r\n      if (toolTip) {\r\n        toolTip.remove();\r\n      }\r\n    }\r\n  }, [load]);\r\n\r\n  useEffect(() => {\r\n    function buildVisualization(data, target, option) {\r\n      buildVisual(data, target, option);\r\n      setIsLoading(false);\r\n    }\r\n\r\n    if (data.length !== 0){\r\n      buildVisualization(data, d3Div.current, visualOption);\r\n    }\r\n  }, [data, d3Div.current, visualOption])\r\n\r\n  return (\r\n    <div className=\"screentime-visualizor\">\r\n      {\r\n        (isLoadingData&&load) || isLoading \r\n        ? <Loading />\r\n        : null\r\n      }\r\n      \r\n      <div className=\"summary\">\r\n          <h3>Days Recorded: <span id=\"num-days\"></span></h3>\r\n          <h3>Total Time: <span id=\"total-time\"></span></h3>\r\n          <h3>Daily Average: <span id=\"daily-average\"></span></h3>\r\n        </div>\r\n        <div className=\"controls\">\r\n          <h3>Currently Viewing: <span id=\"current-date\"></span></h3>\r\n          <Button color=\"primary\" id=\"see-prev\">See Prev</Button>\r\n          <Button color=\"primary\" id=\"see-next\">See Next</Button>\r\n\r\n          <Button color=\"primary\" id=\"inc-view-option\" onClick={incVisualOption}>See Different View</Button>\r\n        </div>\r\n      <div id=\"d3-wrapper\" className={isLoading ? 'hidden' : ''} >\r\n        <svg id=\"d3div\" ref={el => d3Div.current = el}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}","/**\r\n * @author Muhammed Imran (Mohithefish)\r\n * @description Holds some constants used in the application to decrease individual file sizes.\r\n */\r\n\r\nimport FlightSimulator from 'pages/flightsim_temp';\r\nimport AboutPage from 'pages/About';\r\nimport StringAlignment from 'Projects/StringAlignment';\r\nimport ScreenTime from 'Projects/ScreenTime/screenTimeHome';\r\n\r\nimport flightSimImg from 'assets/images/flightsim.png';\r\nimport stringAlignImg from 'assets/images/string_align.png';\r\n\r\n\r\nconst FLIGHTSIM_ENDPOINT = '/flight-sim';\r\nconst STRINGALIGNMENT_ENDPOINT = '/string-alignment';\r\nconst SCREENTIME_ENDPOINT = '/screentime';\r\n\r\n\r\nexport const aboutRoutes = [\r\n  {\r\n    exact: true,\r\n    path: '/',\r\n    component: AboutPage,\r\n  },\r\n  {\r\n    exact: false,\r\n    path: FLIGHTSIM_ENDPOINT,\r\n    component: FlightSimulator,\r\n  },\r\n  {\r\n    exact: false,\r\n    path: STRINGALIGNMENT_ENDPOINT,\r\n    component: StringAlignment,\r\n  },\r\n  {\r\n    exact: false,\r\n    path: SCREENTIME_ENDPOINT,\r\n    component: ScreenTime,\r\n  }\r\n];\r\n\r\nexport const projectCards = [\r\n  {\r\n    to: FLIGHTSIM_ENDPOINT,\r\n    title: \"Flight Simulator\",\r\n    image: flightSimImg,\r\n    alt: \"A flight simulator game\",\r\n    details: \"This was an exercise in terrain generation and camera transformation as part of my computer graphics course at UIUC.\"\r\n  },\r\n  {\r\n    to: STRINGALIGNMENT_ENDPOINT, \r\n    title: \"String Alignment\",\r\n    image: stringAlignImg,\r\n    alt: \"A local string alignment\",\r\n    details: \"This is a project to illustrate string alignment and allow users to align strings on demand.\"\r\n  },\r\n  {\r\n    to: SCREENTIME_ENDPOINT,\r\n    title: \"Screen Time\",\r\n    image: undefined,\r\n    alt: '',\r\n    details: \"This is just a representation of how I waste my time regularly.\"\r\n  }\r\n];","import React from 'react';\r\n// https://rtyley.github.io/bfg-repo-cleaner/\r\nexport default function FlightSimIndex() {\r\n  return (\r\n    <div id=\"flightsim-div-wrapper\">\r\n      <h1>Coming Soon</h1>\r\n    \r\n      <form id=\"input_form\" style={{flexGrow: 1, margin: '0 20px'}}>\r\n          <div>\r\n              <h2>Controls</h2>\r\n              <ul>\r\n                  <li>Control the PITCH of the camera (tilt up and down) with the <b>w</b> and <b>s</b> keys, or the <b>up</b> and <b>down</b> arrows.</li>\r\n                  <li>Control the ROLL of the camera (turn sideways) with the <b>z</b> and <b>x</b> keys, or the <b>left</b> and <b>right</b> arrows</li>\r\n                  <li>Control the YAW of the camera (swivel) with the <b>a</b> and <b>d</b> keys.</li>\r\n                  <li>Increase and Decrease the speed with the <b>=</b> and <b>-</b> keys (respectively)</li>\r\n                  <li>Press the \"ESC\" key to reset the camera position and orientation.</li>\r\n                  <li>You can enable or disable fog with the checkbox next to \"Enable Fog\"</li>\r\n                  <li>With \"Continuous Update\" enabled, you can hold down the keys to change the values. (When disabled, you will have to spam the key.)</li>\r\n              </ul>\r\n          </div>\r\n          <fieldset>\r\n              <legend>Rendering Options</legend>\r\n              <div>\r\n                  <input type=\"radio\" name=\"primitive\" id=\"wireframe\" value=\"wireframe\"/ > Wireframe\r\n                  <input type=\"radio\" name=\"primitive\" id=\"polygon\" value=\"polygon\" defaultChecked /> Polygon\r\n                  <input type=\"radio\" name=\"primitive\" id=\"wirepoly\" value=\"wirepoly\" /> Polygon with Edges\r\n              </div>\r\n              <div>\r\n                  <input type=\"checkbox\" id=\"fog\" name=\"fog\" defaultChecked={true}/>\r\n                  <label htmlFor=\"fog\">Enable Fog</label>\r\n              </div>\r\n              <div>\r\n                  <input type=\"checkbox\" id=\"continuous-update\" name=\"continuous-update\" defaultChecked/>\r\n                  <label htmlFor=\"continuous-update\">Continuous Update?</label>\r\n              </div>\r\n              <div>\r\n                  <p id=\"cam_speed\">Current Camera Speed: </p>\r\n                  <p id=\"pitch\">Current Pitch Speed: </p>\r\n                  <p id=\"roll\">Current Roll Speed: </p>\r\n                  <p id=\"yaw\">Current Yaw Speed: </p>\r\n              </div>\r\n          </fieldset>\r\n      </form>\r\n  </div>\r\n  );\r\n}","import React, {useState} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Matrix from './Matrix';\r\nimport ValidSymbols from './ValidSymbols';\r\nimport InputBox from 'components/InputBox';\r\nimport OutputMatrix from './Output';\r\nimport Tooltip from 'components/Tooltip';\r\nimport {\r\n  isFloat,\r\n  initalizeSimilarityMatrix,\r\n  VALID_SYMBOLS,\r\n  VALID_SYMBOLS_LOOKUP,\r\n  DEFAULT_STRING_1,\r\n  DEFAULT_STRING_2,\r\n  initalizeDecoder,\r\n  convertToFloatMatrix,\r\n} from './utils';\r\nimport './index.scss';\r\n\r\nfunction checkIsValidMatrix(matrix) {\r\n  const n = matrix.length;\r\n  for (let i=0; i<n; i++) {\r\n    for (let j=0; j<=i; j++) {\r\n      if (i+j === 0) // we should ignore this entry\r\n        continue;\r\n      if (!isFloat(matrix[i][j])){\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\n\r\nexport default function Alignment() {\r\n  const [string1, setString1] = useState(DEFAULT_STRING_1); \r\n  const [string2, setString2] = useState(DEFAULT_STRING_2);\r\n  const [matrix, setMatrix] = useState(initalizeSimilarityMatrix());\r\n  const [inputParameters, setInputParameters] = useState({\r\n    similarityMatrix: convertToFloatMatrix(matrix),\r\n    inputString1: ` ${DEFAULT_STRING_1}`,\r\n    inputString2: ` ${DEFAULT_STRING_2}`,\r\n  });\r\n  const [isComputing, setIsComputing] = useState(true);\r\n  const [decoder, ] = useState(initalizeDecoder());\r\n  const { similarityMatrix, inputString1, inputString2 } = inputParameters;\r\n\r\n  function checkIsValidString(str) {\r\n    for(let i=0; i<str.length; i++) {\r\n      if (!VALID_SYMBOLS_LOOKUP.has(str[i]))\r\n        return 'String must only consist of valid symbols A, T, C, G';\r\n    }\r\n    return '';\r\n  }\r\n\r\n\r\n  function handleMatrixChange(e) {\r\n    const num = Number.parseInt(e.target.id);\r\n    const n = matrix.length;\r\n    const col = num % n;\r\n    const row = Math.floor(num / n);\r\n    \r\n    const mCopy = [...matrix];\r\n    mCopy[row][col] = e.target.value;\r\n    mCopy[col][row] = e.target.value; // Symmetric over the diagonal.\r\n    setMatrix(mCopy);\r\n  }\r\n\r\n  function generateOutput() {\r\n    const simMatrix = convertToFloatMatrix(matrix);\r\n    setInputParameters({\r\n      similarityMatrix: simMatrix,\r\n      inputString1: ` ${string1}`,\r\n      inputString2: ` ${string2}`,\r\n    });\r\n    setIsComputing(true);\r\n  }\r\n\r\n\r\n  const isString1Valid = checkIsValidString(string1);\r\n  const isString2Valid = checkIsValidString(string2);\r\n  const isValidMatrix = checkIsValidMatrix(matrix);\r\n  const shouldEnableButton = (!isString1Valid && !isString2Valid && isValidMatrix);\r\n\r\n  return (\r\n    <div className=\"alignment-wrapper\">\r\n      <h1> String (Sequence) Alignment </h1>\r\n      <div className=\"algorithm\">\r\n        <div className=\"parameters\">\r\n          <h2>Parameters</h2>\r\n          <ValidSymbols symbols={VALID_SYMBOLS} />\r\n          <InputBox value={string1} setValue={setString1} errormsg={isString1Valid} className=\"padleft\">\r\n            <Tooltip\r\n             text=\"The first DNA Sequence to align\"\r\n             Header={(props) => <h3 {...props}>First String:</h3>}\r\n            />\r\n          </InputBox>\r\n          <InputBox value={string2} setValue={setString2} errormsg={isString2Valid} className=\"padleft\">\r\n            <Tooltip\r\n             text=\"The second DNA Sequence to align\"\r\n             Header={(props) => <h3 {...props}>Second String:</h3>}\r\n            />\r\n          </InputBox>\r\n          <Matrix matrix={matrix} isValid={isValidMatrix} handleChange={handleMatrixChange}/>\r\n\r\n          <section>\r\n            <Button disabled={!shouldEnableButton} onClick={generateOutput} color=\"primary\" variant=\"contained\">Compute Alignment</Button>\r\n          </section>\r\n        </div>\r\n        <div className=\"output\">\r\n          <h2>Output</h2>\r\n          <OutputMatrix\r\n            isComputing={isComputing} setIsComputing={setIsComputing}\r\n            decoder={decoder}\r\n            similarityMatrix={similarityMatrix}\r\n            string1={inputString1} string2={inputString2}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}","import React, {useState} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport ScreenTimeEditor from './screenTime';\r\nimport ScreenTimeVisualizor from './screenTimeVisualizor';\r\n\r\nimport './screenTimeHome.scss';\r\n\r\n\r\n\r\nexport default function ScreenTimeHome() {\r\n\r\n  const [editData, setEditData] = useState(false);\r\n\r\n  return (\r\n    <>\r\n      <header className=\"screentime-header\">\r\n        <h1>Screentime</h1>\r\n        <Button color=\"primary\" variant=\"contained\" onClick={() => setEditData(!editData)}> {editData ? 'View Visualization' : 'Edit Data'}</Button>\r\n      </header>\r\n      {\r\n        editData\r\n        ? <ScreenTimeEditor />\r\n        : <ScreenTimeVisualizor />\r\n      }\r\n    </>\r\n  )\r\n}","import React from 'react';\r\nimport {Route, Switch} from 'react-router-dom';\r\nimport {aboutRoutes} from 'constants/projects';\r\n\r\n/**\r\n * @param {*} match Input from React-Router that holds the current path location \r\n * @returns JSX Component\r\n */\r\nexport default function About({ match }) {\r\n  const base = match.url;\r\n  return (\r\n    <div className=\"about-wrapper\">\r\n      <Switch>\r\n        {\r\n          aboutRoutes.map(( {path, exact, component }) => <Route key={path} exact={exact} path={`${base}${path}`} component={component} /> )\r\n        }\r\n      </Switch>\r\n    </div>\r\n  )\r\n}","import React, { useState, useEffect } from 'react';\r\nimport Loading from 'components/Loading/loading';\r\n\r\nexport default function MainPage() {\r\n  const [count, setCount] = useState(0);\r\n  const [email, setEmail] = useState('');\r\n\r\n  const [number, setNumber] = useState(1);\r\n\r\n  const [imageName, setImageName] = useState('');\r\n\r\n  useEffect( () => {\r\n    document.title = \"MohiTheFish\"\r\n    async function fetchData() {\r\n        \r\n      const response = await fetch(\"https://cors-anywhere.herokuapp.com/https://randomfox.ca/floof/?ref=apilist.fun\", \r\n      {\r\n        method: 'GET',\r\n        headers: {\r\n          'content-type': 'application/json'\r\n        }\r\n      }).then(res => res.json())\r\n      .then(res => {\r\n        setImageName(res.image);\r\n      });\r\n      return response;\r\n    }\r\n    fetchData();\r\n  }, [])\r\n\r\n  const handleChange = (e) => {\r\n    setEmail(e.target.value);\r\n  }\r\n  return (\r\n    <div>\r\n      This page is being used to test new features.\r\n      <div>\r\n        <p>You clicked {count} times</p>\r\n        <button onClick={() => setCount(count+1)}>\r\n          Click me\r\n        </button>\r\n      </div>\r\n      <div>\r\n        <input type='text' value={email} onChange={handleChange} />\r\n      </div>\r\n      <div>\r\n        <h1>Pick a movie</h1>\r\n        <select value={number} onChange={e => setNumber(e.target.value)}>\r\n          <option value=\"1\">1</option>\r\n          <option value=\"2\">2</option>\r\n          <option value=\"3\">3</option>\r\n          <option value=\"4\">4</option>\r\n          <option value=\"5\">5</option>\r\n          <option value=\"6\">6</option>\r\n        </select>\r\n      </div>\r\n\r\n      { imageName === '' ? <Loading /> : <img src={imageName} alt=\"A fox\" />}\r\n    </div>\r\n  );\r\n}","export const SET_IS_CONNECTED = 'SET_IS_CONNECTED'; \nexport const SET_GAMENAME = \"SET_GAMENAME\";\nexport const SET_USERNAME = \"SET_USERNAME\";\nexport const RETURN_TO_GAME_SELECT = \"RETURN_TO_GAME_SELECT\"; \n\n\nexport function setIsConnected(isConnected) {\n  return {\n    type: SET_IS_CONNECTED,\n    isConnected,\n  };\n}\n\nexport function setGameName(game) {\n  return {\n    type: SET_GAMENAME,\n    game,\n  };\n}\nexport function setUserName(name) {\n  return {\n    type: SET_USERNAME,\n    name,\n  }\n}\n\nexport function returnToGameSelect() {\n  return {\n    type: RETURN_TO_GAME_SELECT\n  };\n}\n","import {\n  SET_IS_CONNECTED,\n  SET_GAMENAME,\n  SET_USERNAME,\n  RETURN_TO_GAME_SELECT,\n} from '../actions/nameActions';\nimport { v4 as uuid } from 'uuid';\n\nconst storageType = sessionStorage;\n\nfunction existUserId() {\n  let a = storageType.getItem('userId');\n\n  if(a) {return a;}\n\n  a = uuid();\n  storageType.setItem('userId', a);\n  return a;\n}\nexport const initialState = process.env.REACT_APP_DESIGN === 'true'\n? {\n  isConnected: true,\n  username: \"bob\",\n  gamename: \"mafia\",\n  isUpdatingName: false,\n  userId: 'abc123...',\n}\n: {\n  isConnected: false,\n  username: \"\",\n  gamename: \"\",\n  isUpdatingName: false,\n  userId: existUserId(),\n}\n\nexport function gameCredentials(state = initialState, action) {\n  switch(action.type) {\n    case SET_IS_CONNECTED:\n      return Object.assign({}, state, {\n        isConnected: action.isConnected\n      });\n    case SET_GAMENAME: {\n      return Object.assign({}, state, {\n        gamename: action.game,\n        isUpdatingName: true,\n      });\n    }\n    case SET_USERNAME: {\n      return Object.assign({}, state, {\n        isUpdatingName: false,\n        username: action.name,\n      });\n    }\n    case RETURN_TO_GAME_SELECT: {\n      return {\n        gamename: \"\",\n        username: state.username,\n        userId: state.userId,\n        isUpdatingName: state.isUpdatingName,\n        isConnected: state.isConnected,\n      };\n    }\n    default:\n      return state;\n  }\n}","export const SET_IS_LOADINGROOM = 'SET_IS_LOADINGROOM';\nexport const SET_IS_LOADING_ROOM_SELECTED_CHOICE = \"SET_IS_LOADING_ROOM_SELECTED_CHOICE\";\nexport const ROOM_CREATED = \"ROOM_CREATED\";\nexport const SET_SETTINGS_IS_UPDATING = \"SET_SETTINGS_IS_UPDATING\";\nexport const ROOM_SETTINGS_UPDATED = \"ROOM_SETTINGS_UPDATED\";\nexport const VISIBLE_ROOMS = \"VISIBLE_ROOMS\";\nexport const ROOM_JOINED = \"ROOM_JOINED\";\nexport const ROOM_SPECTATED = \"ROOM_SPECTATED\";\nexport const SET_MY_INDEX = \"SET_MY_INDEX\";\nexport const PLAYER_ADDED = \"PLAYER_ADDED\";\nexport const PLAYER_LEFT = \"PLAYER_LEFT\";\nexport const SET_IS_PRIVATE = \"SET_IS_PRIVATE\";\nexport const GO_BACK_TO_LOBBY = \"GO_BACK_TO_LOBBY\";\nexport const CLEAR_ROOM_INFO = \"CLEAR_ROOM_INFO\";\n\nexport const lobbyStates = {\n  CREATE: \"create\",\n  JOIN: \"join\",\n  CREATED: \"created\",\n  JOINED: \"joined\",\n};\n\nexport function setSelectedChoiceAndLoadingRoom(selectedChoice) {\n  return {\n    type: SET_IS_LOADING_ROOM_SELECTED_CHOICE,\n    selectedChoice,\n  }\n}\n\nexport function setIsLoadingRoom(isLoadingRoom) {\n  return {\n    type: SET_IS_LOADINGROOM,\n    isLoadingRoom,\n  };\n}\n\nexport function roomCreated(data) {\n  return {\n    type: ROOM_CREATED,\n    data,\n  };\n}\n\nexport function setSettingsIsUpdating() {\n  return {\n    type: SET_SETTINGS_IS_UPDATING,\n  };\n}\n\nexport function roomSettingsUpdated(settings) {\n  return {\n    type: ROOM_SETTINGS_UPDATED,\n    settings,\n  };\n}\n\nexport function visibleRooms(data) {\n  return {\n    type: VISIBLE_ROOMS,\n    data,\n  }\n}\n\nexport function roomJoined(data) {\n  return {\n    type: ROOM_JOINED,\n    data,\n  }\n}\n\nexport function roomSpectated(data) {\n  return {\n    type: ROOM_SPECTATED,\n    data,\n  };\n}\n\nexport function setMyIndex(data) {\n  return {\n    type: SET_MY_INDEX,\n    data,\n  }\n}\n\nexport function playerAdded(data) {\n  return {\n    type: PLAYER_ADDED,\n    data,\n  };\n}\n\nexport function playerLeft(index) {\n  return {\n    type: PLAYER_LEFT,\n    index,\n  };\n}\n\nexport function roomPrivacyToggled() {\n  return {\n    type: SET_IS_PRIVATE,\n  };\n}\n\nexport function goBackToLobby() {\n  return {\n    type: GO_BACK_TO_LOBBY,\n  };\n}\n\nexport function clearRoomInfo() {\n  return {\n    type: CLEAR_ROOM_INFO,\n  };\n}","export const START_GAME_SPYFALL = \"START_GAME_SPYFALL\";\nexport const UPDATE_MAIN_TIME = \"UPDATE_MAIN_TIME\";\nexport const HANDLE_LOCATION_SPYFALL = \"HANDLE_LOCATION_SPYFALL\";\nexport const ADD_NAME_SPYFALL = \"ADD_NAME_SPYFALL\";\nexport const REMOVE_NAME_SPYFALL = \"REMOVE_NAME_SPYFALL\";\nexport const CLEAR_SPYFALL_BOARD = \"CLEAR_SPYFALL_BOARD\";\n\nexport function startSpyfall(gameState) {\n  return {\n    game: 'spyfall',\n    type: START_GAME_SPYFALL,\n    gameState, \n  };\n}\n\nexport function updateSpyfallTime(time) {\n  return {\n    game: 'spyfall',\n    type: UPDATE_MAIN_TIME,\n    time,\n  };\n}\n\nexport function handleLocationSpyfall(e) {\n  return {\n    game: 'spyfall',\n    type: HANDLE_LOCATION_SPYFALL,\n    data: e.target.textContent,\n  };\n}\n\nexport function addNameSpyfall(index) {\n  return {\n    game: 'spyfall',\n    type: ADD_NAME_SPYFALL,\n    data: index,\n  };\n}\n\nexport function removeNameSpyfall(index) {\n  return {\n    game: 'spyfall',\n    type: REMOVE_NAME_SPYFALL,\n    data: index,\n  };\n}\n\nexport function clearSpyfallBoard() {\n  return {\n    game: 'spyfall',\n    type: CLEAR_SPYFALL_BOARD,\n  }\n}","import {\n  SET_IS_LOADINGROOM,\n  ROOM_CREATED,\n  VISIBLE_ROOMS,\n  ROOM_JOINED,\n  ROOM_SPECTATED,\n  SET_MY_INDEX,\n  PLAYER_ADDED,\n  PLAYER_LEFT,\n  SET_IS_PRIVATE,\n  SET_IS_LOADING_ROOM_SELECTED_CHOICE,\n  lobbyStates,\n  ROOM_SETTINGS_UPDATED,\n  SET_SETTINGS_IS_UPDATING,\n  CLEAR_ROOM_INFO,\n} from '../actions/gameSetupActions';\n\nimport {\n  START_GAME_SPYFALL,\n  CLEAR_SPYFALL_BOARD, \n} from 'Games/redux-store/actions/specificGameActions/spyfallActions';\n\nimport {\n  START_GAME_MAFIA,\n  CLEAR_MAFIA_BOARD,\n} from 'Games/redux-store/actions/specificGameActions/mafiaActions';\n\n\nconst defaultSpyfallSettings = {\n  time: \"8\", // minutes\n  gameType: \"Locations\",\n};\n\nconst defaultMafiaSettings =  {\n  dayTimeLimit: 300, //seconds\n  nightTimeLimit: 60, //seconds\n  defenseTimeLimit: 25, //seconds\n  numMafia: -1,\n  allowSK: false,\n  allowJoker: false,\n}\n\nexport const initialState = process.env.REACT_APP_DESIGN === 'true' \n? {\n  selectedChoice: lobbyStates.CREATED,\n  myIndex: 0,\n  isLoadingRoom: false,\n  numPlayers: 4,\n  members: [\"Mohitheifhs\", \"other guy\", \"nobody\", 'zendaya', 'is', 'my', 'queen', 'zendaya', 'is', 'my', 'queen'],\n  spectators: [],\n  isSpectator: false,\n  roomId: \"fwef98c09we-89w-efcab-aew-9gfw\",\n  rooms: [],\n  isPlaying: false,\n  isUpdating: false,\n  settings: {\n    isPrivate: true,\n    spyfall: defaultSpyfallSettings,\n    mafia: defaultMafiaSettings\n  }\n}\n: {\n  selectedChoice: \"\",\n  myIndex: 0,\n  isLoadingRoom: false,\n  numPlayers: 1,\n  members: [],\n  spectators: [],\n  isSpectator: false,\n  roomId: \"\",\n  rooms: [],\n  isPlaying: false,\n  isUpdating: false,\n  settings: {\n    isPrivate: true,\n    spyfall: defaultSpyfallSettings,\n    mafia: defaultMafiaSettings\n  }\n}\n\nexport function gameData(state = initialState, action) {\n  switch(action.type) {\n    case SET_IS_LOADING_ROOM_SELECTED_CHOICE: {\n      return Object.assign({}, state, {\n        selectedChoice: action.selectedChoice,\n      });\n    }\n    case SET_IS_LOADINGROOM:\n      return Object.assign({}, state, {\n        isLoadingRoom: action.isLoadingRoom\n      });\n    case ROOM_CREATED: {\n      const { members, roomId } = action.data;\n      return Object.assign({}, state, {\n        members: members,\n        roomId: roomId,\n        myIndex: members.length-1,\n        selectedChoice: lobbyStates.CREATED,\n      });\n    }\n    case ROOM_SETTINGS_UPDATED: {\n      const newSettings = action.settings;\n      return Object.assign({}, state, {\n        settings: newSettings,\n        isUpdating: false,\n      });\n    }\n    case SET_SETTINGS_IS_UPDATING: {\n      return Object.assign({}, state, {\n        isUpdating: true,\n      });\n    }\n    case VISIBLE_ROOMS: {\n      return Object.assign({}, state, {\n        rooms: action.data,\n        isLoadingRoom: false, \n      });\n    }\n    case ROOM_JOINED: {\n      const { members, roomId, settings: newSettings } = action.data;\n      return Object.assign({}, state, {\n        members,\n        roomId,\n        myIndex: members.length-1,\n        selectedChoice: lobbyStates.JOINED,\n        settings: newSettings,\n      });\n    }\n    case ROOM_SPECTATED: {\n      const { members, roomId, settings: newSettings, spectators } = action.data;\n      return Object.assign({}, state, {\n        members,\n        roomId,\n        myIndex: spectators.length-1,\n        selectedChoice: lobbyStates.JOINED,\n        settings: newSettings,\n        spectators,\n      })\n    }\n    case SET_MY_INDEX: {\n      const { members, myIndex } = action.data;\n      return {\n        ...state,\n        members,\n        myIndex,\n        isSpectator: false, \n        spectators: [],\n      }\n    }\n    case PLAYER_ADDED: {\n      const { members, roomId } = action.data;\n      return Object.assign({}, state, {\n        members: members,\n        roomId: roomId,\n      });\n    }\n    case PLAYER_LEFT: {\n      const { members, myIndex } = state;\n      const { index: deletedIndex } = action;\n      const newState = {\n        myIndex,\n        members: [],\n      };\n\n      if (deletedIndex < myIndex ) {\n        newState.myIndex -= 1;\n        if (newState.myIndex === 0) {\n          newState.selectedChoice = lobbyStates.CREATED;\n        }\n      }\n      newState.members =  members.filter((m, index) => (index !== deletedIndex) );\n      return Object.assign({}, state, newState);\n    }\n    case START_GAME_SPYFALL: \n    case START_GAME_MAFIA : {\n      return Object.assign({}, state, {\n        isPlaying: true,\n      });\n    }\n    case CLEAR_MAFIA_BOARD:\n    case CLEAR_SPYFALL_BOARD: {\n      return Object.assign({}, state, {\n        isPlaying: false,\n        isLoadingRoom: true,\n      });\n    }\n    case SET_IS_PRIVATE: {\n      return Object.assign({}, state, {\n        settings: {\n          ...state.settings,\n          isPrivate: !state.settings.isPrivate\n        }\n      });\n    }\n    case CLEAR_ROOM_INFO: {\n      return Object.assign({}, state, {\n        isConnected: state.isConnected,\n        selectedChoice: \"\",\n        isLoadingRoom: false,\n        numPlayers: 1,\n        members: [],\n        spectators: [],\n        isSpectator: false,\n        roomId: \"\",\n        myIndex: -1,\n        rooms: [],\n        isPlaying: false,\n        isUpdating: false,\n        settings: {\n          isPrivate: true,\n          spyfall: defaultSpyfallSettings,\n          mafia: defaultMafiaSettings\n        }\n      }\n      )\n    }\n    default:\n      return state;\n  } \n}","import {UPDATE_MAIN_TIME} from './spyfallActions';\n\nexport const START_GAME_MAFIA = 'START_GAME_MAFIA';\nexport const SECONDARY_TIME_UPDATE = \"SECONDARY_TIME_UPDATE\";\nexport const BEGIN_TRIAL = \"BEGIN_TRIAL\";\nexport const CLEAR_MAFIA_BOARD = 'CLEAR_MAFIA_BOARD';\nexport const CHAT_UPDATED = \"CHAT_UPDATED\";\nexport const OTHER_PLAYER_VOTED = 'OTHER_PLAYER_VOTED';\nexport const I_VOTED = 'I_VOTED';\nexport const OTHER_PLAYER_GUILTY_VOTED = 'OTHER_PLAYER_GUILTY_VOTED';\nexport const I_GUILTY_VOTED = 'I_GUILTY_VOTED';\nexport const COURT_RESULT = 'COURT_RESULT';\nexport const USED_POWER = 'USED_POWER';\nexport const PRIVATE_NIGHT_RESULT = 'PRIVATE_NIGHT_RESULT';\nexport const PUBLIC_NIGHT_RESULT = 'PUBLIC_NIGHT_RESULT';\nexport const MAFIA_GAME_OVER = 'MAFIA_GAME_OVER';\nexport const PLAYER_KILLED = 'PLAYER_KILLED';\nexport const CLOSE_DIALOG = 'CLOSE_DIALOG';\n\nexport function startMafia(gameState) {\n  return {\n    game: 'mafia',\n    type: START_GAME_MAFIA,\n    gameState,\n  };\n}\n\nexport function updateMainMafiaTime(time) {\n  return {\n    game: 'mafia',\n    type: UPDATE_MAIN_TIME,\n    data: time,\n  };\n}\n\nexport function beginTrial(nameIndex) {\n  return {\n    game: 'mafia',\n    type: BEGIN_TRIAL,\n    data: nameIndex,\n  };\n}\n\nexport function secondaryTimeUpdate(time) {\n  return {\n    game: 'mafia',\n    type: SECONDARY_TIME_UPDATE,\n    data: time,\n  }\n}\n\nexport function clearMafiaBoard() {\n  return {\n    game: 'mafia',\n    type: CLEAR_MAFIA_BOARD,\n  };\n}\n\nexport function chatUpdated(data) {\n  return {\n    game: 'mafia',\n    type: CHAT_UPDATED,\n    ...data,\n  }\n}\n\nexport function otherPlayerVotedMafia(data) {\n  return {\n    game: 'mafia',\n    type: OTHER_PLAYER_VOTED,\n    ...data,\n  }\n}\n\nexport function iVotedMafia(data) {\n  return {\n    game: 'mafia',\n    type: I_VOTED,\n    ...data,\n  };\n}\n\nexport function otherPlayerGuiltyVotedMafia(data) {\n  return {\n    game: 'mafia',\n    type: OTHER_PLAYER_GUILTY_VOTED,\n    ...data,\n  }\n}\n\nexport function iGuiltyVotedMafia(data) {\n  return {\n    game: 'mafia',\n    type: I_GUILTY_VOTED,\n    ...data,\n  }\n}\n\nexport function courtResult(data) {\n  return {\n    game: 'mafia',\n    type: COURT_RESULT,\n    data,\n  };\n}\n\nexport function usedPower(data) {\n  return {\n    game: 'mafia',\n    type: USED_POWER,\n    data,\n  };\n}\n\nexport function privateNightResult(data) {\n  return {\n    game: 'mafia',\n    type: PRIVATE_NIGHT_RESULT,\n    data,\n  };\n}\n\nexport function publicNightResult(data) {\n  return {\n    game: 'mafia',\n    type: PUBLIC_NIGHT_RESULT,\n    data,\n  };\n}\n\nexport function playerKilled(data) {\n  return {\n    game: 'mafia',\n    type: PLAYER_KILLED,\n    data,\n  };\n}\n\nexport function mafiaGameOver(data) {\n  return {\n    game: 'mafia',\n    type: MAFIA_GAME_OVER,\n    data,\n  };\n}\n\nexport function closeDialog() {\n  return {\n    game: 'mafia',\n    type: CLOSE_DIALOG,\n  };\n}","import { \n  UPDATE_MAIN_TIME,\n} from 'Games/redux-store/actions/specificGameActions/spyfallActions';\n\nimport {\n  START_GAME_MAFIA,\n  CHAT_UPDATED,\n  OTHER_PLAYER_VOTED,\n  BEGIN_TRIAL,\n  SECONDARY_TIME_UPDATE,\n  I_VOTED,\n  CLEAR_MAFIA_BOARD,\n  OTHER_PLAYER_GUILTY_VOTED,\n  I_GUILTY_VOTED,\n  COURT_RESULT,\n  USED_POWER,\n  PRIVATE_NIGHT_RESULT,\n  PUBLIC_NIGHT_RESULT,\n  PLAYER_KILLED,\n  MAFIA_GAME_OVER,\n  CLOSE_DIALOG,\n} from 'Games/redux-store/actions/specificGameActions/mafiaActions';\n\nexport const defaultMafiaState = process.env.REACT_APP_DESIGN === 'true' ? {\n  phase: 4,\n  isRecapPeriod: false,\n  secondaryTime: 0,\n  role: 1,\n  roleCount: {},\n  chatHistory: [\n    [{audience: 0, message: 'hi'},{audience: 0, message: 'hi'},{audience: 0, message: 'hi'},{audience: 0, message: 'hi'},{audience: 0, message: 'hi'},{audience: 0, message: 'hi'},{audience: 0, message: 'hi'},{audience: 0, message: 'hi'},{audience: 0, message: 'hi'},{audience: 0, message: 'hi'},{audience: 0, message: 'hi'},{audience: 0, message: 'hi'},{audience: 0, message: 'hi'},{audience: 0, message: 'hi'},],\n    [{audience: 0, message: 'bye'},{audience: 0, message: 'bye'},{audience: 0, message: 'bye'},{audience: 0, message: 'bye'},{audience: 0, message: 'bye'},{audience: 0, message: 'bye'},{audience: 0, message: 'bye'},{audience: 0, message: 'bye'},{audience: 0, message: 'bye'},{audience: 0, message: 'bye'},{audience: 0, message: 'bye'},{audience: 0, message: 'bye'},],\n    [{audience: 0, message: 'cya'},{audience: 0, message: 'cya'},{audience: 0, message: 'cya'},{audience: 0, message: 'cya'},{audience: 0, message: 'cya'},{audience: 0, message: 'cya'},{audience: 0, message: 'cya'},{audience: 0, message: 'cya'},{audience: 0, message: 'cya'},{audience: 0, message: 'cya'},{audience: 0, message: 'cya'},{audience: 0, message: 'cya'},{audience: 0, message: 'cya'},],\n    [{audience: 0, message: 'my name is alexander hamilton'},{audience: 0, message: 'my name is alexander hamilton'},{audience: 0, message: 'my name is alexander hamilton'},{audience: 0, message: 'my name is alexander hamilton'},{audience: 0, message: 'my name is alexander hamilton'},],\n    [{audience: 0, message: 'lafayette'}]\n  ],\n  playerProfiles: [\n    {numVotes: 0, isAlive: true, role: 2},\n    {numVotes: 0, isAlive: false, role: 0},\n    {numVotes: 0, isAlive: true, role: 0}, \n    {numVotes: 0, isAlive: true, role: 2},\n    {numVotes: 0, isAlive: false, role: 0},\n    {numVotes: 0, isAlive: true, role: 1}, \n    {numVotes: 0, isAlive: false, role: 4},\n    {numVotes: 0, isAlive: false, role: 3},\n    {numVotes: 0, isAlive: true, role: 2},\n    {numVotes: 0, isAlive: true, role: 3},\n    {numVotes: 0, isAlive: true, role: 5}\n  ],\n  numAbstain: 0,\n  myTarget: -1,\n  onTrial: -1,\n  isDefending: true,\n  myGuiltyDecision: '',\n  numGuilty: 0,\n  numNotGuilty: 0,\n  iAmDead: false,\n  gameOver: false,\n  showGameOverDialog: false,\n  winners: [1, 4, 6],\n} : {\n  phase: 0,\n  isRecapPeriod: true,\n  secondaryTime: 0,\n  role: -1,\n  roleCount: {},\n  chatHistory: [[]],\n  playerProfiles: [],\n  numAbstain: 0,\n  myTarget: -1,\n  onTrial: -1,\n  isDefending: true,\n  myGuiltyDecision: '',\n  numGuilty: 0,\n  numNotGuilty: 0,\n  wasSaved: false,\n  wasAttacked: false,\n  iAmDead: false,\n  gameOver: false,\n  showGameOverDialog: false,\n  winners: [],\n};\n\nexport function mafiaReducers(state, action) {\n  switch(action.type) {\n    case START_GAME_MAFIA: {\n      const {\n        role, \n        roleCount,\n        numPlayers,\n      } = action.gameState;\n      const playerProfiles = [];\n      for(var i=0; i<numPlayers; i++) {\n        playerProfiles.push({\n          numVotes: 0,\n          isAlive: true,\n          role: -1,\n        });\n      }\n      return {\n        ...state,\n        time: 0,\n        mafia: {\n          ...state.mafia,\n          role,\n          roleCount,\n          phase: 0,\n          playerProfiles,\n        }\n      }\n    }\n    case I_VOTED: //These two cases will be identical, apart from setting the myTarget field\n    case OTHER_PLAYER_VOTED: {\n      const {\n        audience,\n        phase,\n        message,\n        newTarget,\n        oldTarget,\n      } = action;\n\n      const oldChatHistory =  state.mafia.chatHistory;\n      const newChatHistory = oldChatHistory.filter(item => item);\n      let numAbstain = state.mafia.numAbstain;\n      newChatHistory[phase].push({audience, message});\n\n      const newProfiles = state.mafia.playerProfiles.filter(item => item);\n      if(oldTarget >= 0) {\n        newProfiles[oldTarget].numVotes--;\n      } \n      else if(oldTarget === -2) {\n        numAbstain--;\n      }\n\n      if(newTarget >= 0) {\n        newProfiles[newTarget].numVotes++;\n      }\n      else if(newTarget === -2) {\n        numAbstain++;\n      }\n\n      const newMafiaState = {\n        ...state.mafia,\n        chatHistory: newChatHistory,\n        playerProfiles: newProfiles,\n        numAbstain,\n      };\n\n      if (action.type === I_VOTED) {\n        newMafiaState.myTarget = newTarget;\n      }\n\n      return {\n        ...state,\n        mafia: newMafiaState,\n      }\n    }\n    \n    case I_GUILTY_VOTED: //These two cases will be identical, apart from setting the myGuiltyDecision field\n    case OTHER_PLAYER_GUILTY_VOTED: {\n      const {\n        audience,\n        phase,\n        message,\n        newDecision,\n        oldDecision,\n      } = action;\n\n      const oldChatHistory =  state.mafia.chatHistory;\n      const newChatHistory = oldChatHistory.filter(item => item);\n      newChatHistory[phase].push({audience, message});\n\n      let numGuilty = state.mafia.numGuilty;\n      let numNotGuilty = state.mafia.numNotGuilty;\n      if (oldDecision === '') {\n        if (newDecision[0] === 'g') {\n          numGuilty++;\n        }\n        else if (newDecision[0] === 'n') {\n          numNotGuilty++;\n        }\n      }\n      else if (oldDecision[0] === 'g') {\n        numGuilty--;\n        if (newDecision[0] === 'n') {\n          numNotGuilty++;\n        }\n      }\n      else if (oldDecision[0] === 'n') {\n        numNotGuilty--;\n        if (newDecision[0] === 'g') {\n          numGuilty++;\n        }\n\n      }\n\n      const newMafiaState = {\n        ...state.mafia,\n        chatHistory: newChatHistory,\n        numGuilty,\n        numNotGuilty,\n      };\n\n      if (action.type === I_GUILTY_VOTED) {\n        newMafiaState.myGuiltyDecision = newDecision;\n      }\n\n      return {\n        ...state,\n        mafia: newMafiaState,\n      }\n    }\n\n    case CHAT_UPDATED: {\n      const {audience, phase, message} = action;\n      const oldChatHistory =  state.mafia.chatHistory;\n      const newChatHistory = oldChatHistory.filter(item => item);\n      //Make sure that phase is valid index withing newChatHistory\n      //This will *hopefully* be handled by updating time\n      while(newChatHistory.length <= phase) {\n        newChatHistory.push([]);\n      }\n      newChatHistory[phase].push({audience, message});\n      return {\n        ...state,\n        mafia: {\n          ...state.mafia, \n          chatHistory: newChatHistory,\n        }\n      }\n    }\n    case UPDATE_MAIN_TIME: {\n      const [phase, time, isRecapPeriod] = action.data;\n      const oldChatHistory =  state.mafia.chatHistory;\n      let newChatHistory = oldChatHistory;\n      let newProfiles = state.mafia.playerProfiles;\n      let numAbstain = state.mafia.numAbstain;\n      let myTarget = state.mafia.myTarget;\n      let wasAttacked = state.mafia.wasAttacked;\n      let wasSaved = state.mafia.wasSaved;\n      if (phase !== state.mafia.phase) {\n        if (phase % 2 === 0) {\n          newProfiles = state.mafia.playerProfiles.map((val) => {\n            return {\n              ...val,\n              numVotes: 0,\n            };\n          });\n          numAbstain = 0;\n        }\n        myTarget = -1;\n        newChatHistory = oldChatHistory.filter(item => item);\n        newChatHistory.push([]);\n        wasAttacked = false;\n        wasSaved = false;\n\n      }\n      return {\n        ...state,\n        time,\n        mafia: {\n          ...state.mafia,\n          chatHistory: newChatHistory,\n          phase,\n          myTarget,\n          isRecapPeriod,\n          playerProfiles: newProfiles,\n          numAbstain,\n          wasAttacked, \n          wasSaved,\n        }\n      };\n    }\n    case BEGIN_TRIAL: {\n      const {audience, phase, name, onTrial} = action.data;\n      const oldChatHistory =  state.mafia.chatHistory;\n      const newChatHistory = oldChatHistory.filter(item => item);\n      newChatHistory[phase].push({audience, message: `${name} is on trial!`})\n      \n      return {\n        ...state,\n        mafia: {\n          ...state.mafia,\n          chatHistory: newChatHistory,\n          onTrial,\n        }\n      }\n    }\n    case SECONDARY_TIME_UPDATE: {\n      const [phase, secondaryTime, isDefending] = action.data;\n      return {\n        ...state,\n        mafia: {\n          ...state.mafia,\n          phase,\n          secondaryTime,\n          isDefending,\n        }\n      };\n    }\n    case COURT_RESULT: {\n      const {\n        message,\n        audience,\n        phase,\n        isAlive,\n        killedRole,\n        playerRoles,\n        killedIndex,\n      } = action.data;\n      const oldChatHistory =  state.mafia.chatHistory;\n      const newChatHistory = oldChatHistory.filter(item => item);\n      newChatHistory[phase].push({audience, message});\n      let myNewTarget = state.mafia.myTarget;\n      // If targeting player on trial, our new target will be nobody.\n      if (killedIndex === state.mafia.myTarget) {\n        myNewTarget = -1;\n      }\n      const newProfiles = state.mafia.playerProfiles.filter(item => item);\n      const profile = newProfiles[killedIndex];\n      profile.numVotes = 0;\n      profile.isAlive = isAlive;\n      let iAmDead = state.mafia.iAmDead;\n      if(!isAlive) {\n        profile.role = killedRole;\n        if (state.myIndex === killedIndex) {\n          iAmDead = true;\n          playerRoles.forEach((val, index) => {\n            const p = newProfiles[index];\n            p.role = val;\n          });\n        }\n      }\n      return {\n        ...state,\n        mafia: {\n          ...state.mafia,\n          chatHistory: newChatHistory,\n          myTarget: myNewTarget,\n          playerProfiles: newProfiles,\n          myGuiltyDecision: '',\n          numGuilty: 0,\n          numNotGuilty: 0,\n          onTrial: -1,\n          isDefending: true,\n          iAmDead,\n        }\n      };\n    }\n    case USED_POWER: {\n      const { message, audience, phase, myIndex, targetIndex } = action.data;\n      const oldChatHistory =  state.mafia.chatHistory;\n      const newChatHistory = oldChatHistory.filter(item => item);\n      newChatHistory[phase].push({audience, message});\n\n      const isMe = myIndex === state.myIndex;\n      return {\n        ...state,\n        mafia: {\n          ...state.mafia,\n          myTarget: isMe ? targetIndex : state.mafia.myTarget,\n          chatHistory: newChatHistory,\n        }\n      };\n    }\n    case PRIVATE_NIGHT_RESULT: {\n      const { audience, phase, message, wasSaved, wasAttacked } = action.data;\n      const oldChatHistory =  state.mafia.chatHistory;\n      const newChatHistory = oldChatHistory.filter(item => item);\n      newChatHistory[phase].push({audience, message});\n      return {\n        ...state,\n        mafia: {\n          ...state.mafia,\n          wasSaved,\n          wasAttacked,\n          chatHistory: newChatHistory,\n        }\n      }\n\n    }\n    case PUBLIC_NIGHT_RESULT: {\n      const { \n        phase, \n        index,\n        audience,\n        message,\n        wasKilled,\n        killedRole,\n        playerRoles,\n      } = action.data;\n      \n      let newPlayerProfiles = state.mafia.playerProfiles;\n      let iAmDead = state.mafia.iAmDead;\n\n      let newChatHistory =  state.mafia.chatHistory.filter(item => item);\n      while(newChatHistory.length <= phase) {\n        newChatHistory.push([]);\n      }\n      newChatHistory[phase].push({audience, message});\n\n      if(wasKilled) {\n        newPlayerProfiles = state.mafia.playerProfiles.filter(item => item);\n        newPlayerProfiles[index].isAlive = false;\n        newPlayerProfiles[index].role = killedRole;\n        if (index === state.myIndex) {\n          iAmDead = true;\n          newPlayerProfiles.forEach((profile, index) => {\n            profile.role = playerRoles[index];\n          });\n        }\n      }\n      \n      return {\n        ...state,\n        mafia: {\n          ...state.mafia,\n          playerProfiles: newPlayerProfiles,\n          chatHistory: newChatHistory,\n          iAmDead,\n        }\n      }\n    }\n    case PLAYER_KILLED: {\n      const { index, audience, message, phase, playerRoles, } = action.data;\n      \n      let newPlayerProfiles = state.mafia.playerProfiles.filter(item => item);\n      let iAmDead = state.mafia.iAmDead;\n\n      let newChatHistory =  state.mafia.chatHistory.filter(item => item);\n      while(newChatHistory.length <= phase) {\n        newChatHistory.push([]);\n      }\n      newChatHistory[phase].push({audience, message});\n\n      newPlayerProfiles[index].isAlive = false;\n      if (index === state.myIndex) {\n        iAmDead = true;\n        newPlayerProfiles.forEach((profile, index) => {\n          profile.role = playerRoles[index];\n        });\n      }\n\n      return {\n        ...state,\n        mafia: {\n          ...state.mafia,\n          iAmDead,\n          chatHistory: newChatHistory,\n          playerProfiles: newPlayerProfiles,\n        }\n      };\n    }\n    case MAFIA_GAME_OVER: {\n      const { audience, phase, message, winners, playerRoles, } = action.data;\n\n      let newChatHistory =  state.mafia.chatHistory.filter(item => item);\n      while(newChatHistory.length <= phase) {\n        newChatHistory.push([]);\n      }\n      newChatHistory[phase].push({audience, message});\n\n      let newPlayerProfiles = state.mafia.playerProfiles.filter(item => item);\n      newPlayerProfiles.forEach((profile, index) => {\n        profile.role = playerRoles[index];\n      });\n\n      return {\n        ...state,\n        mafia: {\n          ...state.mafia,\n          playerProfiles: newPlayerProfiles,\n          chatHistory: newChatHistory,\n          gameOver: true,\n          iAmDead: true,\n          showGameOverDialog: true,\n          winners,\n        }\n      }\n    }\n    case CLOSE_DIALOG: {\n      return {\n        ...state,\n        mafia: {\n          ...state.mafia,\n          showGameOverDialog: false,\n        }\n      };\n    }\n    case CLEAR_MAFIA_BOARD: {\n      return {\n        ...state,\n        mafia: defaultMafiaState\n      };\n    }\n    default: return state;\n  }\n}\n","\nimport {\n  HANDLE_LOCATION_SPYFALL,\n  ADD_NAME_SPYFALL,\n  REMOVE_NAME_SPYFALL,\n  START_GAME_SPYFALL,\n  UPDATE_MAIN_TIME,\n  CLEAR_SPYFALL_BOARD\n} from 'Games/redux-store/actions/specificGameActions/spyfallActions';\n\nexport const defaultSpyfallState = {\n  selectedLocations: new Map(),\n  selectedNamesByIndex: new Set(),\n  spyIndex: 0,\n  locations: [],\n  secretLocation: \"\",\n};\n\n\nconst NUM_STATES_LOCATIONS = 3;\n\n\nexport function spyfallReducers(state, action) {\n  switch(action.type) {\n    case START_GAME_SPYFALL: {\n      return {\n        ...state,\n        time: action.gameState.time,\n        spyfall: {\n          spyIndex: action.gameState.spyIndex,\n          selectedLocations: state.spyfall.selectedLocations,\n          selectedNamesByIndex: state.spyfall.selectedNamesByIndex,\n          locations: action.gameState.locations,\n          secretLocation: action.gameState.secretLocation,\n        },\n      };\n    }\n    case UPDATE_MAIN_TIME: {\n      return {\n        ...state,\n        time: action.time,\n      };\n    }\n    case ADD_NAME_SPYFALL: {\n      const {selectedNamesByIndex} = state.spyfall;\n      const clonedNames = new Set(selectedNamesByIndex);\n      clonedNames.add(action.data);\n      return Object.assign({}, state, {\n        spyfall: {\n          ...state.spyfall,\n          selectedNamesByIndex: clonedNames,\n        }\n      });\n    }\n    case REMOVE_NAME_SPYFALL: {\n      const {selectedNamesByIndex} = state.spyfall;\n      const clonedNames = new Set(selectedNamesByIndex);\n      clonedNames.delete(action.data);\n      return Object.assign({}, state, {\n        spyfall: {\n          ...state.spyfall,\n          selectedNamesByIndex: clonedNames,\n        }\n      });\n    }\n    case HANDLE_LOCATION_SPYFALL: {\n      const clonedLocations = new Map(state.spyfall.selectedLocations);\n      const oldVal = clonedLocations.get(action.data);\n      if(oldVal) {\n        clonedLocations.set(action.data, (oldVal+1) % NUM_STATES_LOCATIONS);\n      }\n      else {\n        clonedLocations.set(action.data, 1);\n      }\n      return Object.assign({}, state, {\n        spyfall: {\n          ...state.spyfall,\n          selectedLocations: clonedLocations,\n        }\n      })\n    }\n    case CLEAR_SPYFALL_BOARD: {\n      return Object.assign({}, state, {\n        spyfall: defaultSpyfallState,\n      });\n    }\n    default:\n      return state;\n  }\n}","import {defaultMafiaState, mafiaReducers } from './specificPlayReducers/mafiaPlayReducers';\nimport {defaultSpyfallState, spyfallReducers } from './specificPlayReducers/spyfallPlayReducers';\nexport const initialState = {\n  time: 0,\n  spyfall: defaultSpyfallState,\n  mafia: defaultMafiaState\n};\n\nexport function playState(state = initialState, action) {\n  switch(action.game) {\n    case 'mafia': {\n      return mafiaReducers(state, action);\n    }\n    default: { // spyfall\n      return spyfallReducers(state, action);\n    }\n  }\n}","import { gameCredentials, initialState as initialGameCredentialState } from './nameReducers';\nimport { gameData, initialState as initialGameData } from './gameReducers';\nimport { playState, initialState as initialPlayState } from './playReducers';\nexport const defaultState = {\n  gameData: initialGameData,\n  gameCredentials: initialGameCredentialState,\n  playState: initialPlayState,\n};\nfunction customReducer(state = defaultState, action) {\n  const myIndex = state.gameData.myIndex;\n  const playStateWithIndex = state.playState;\n  playStateWithIndex.myIndex = myIndex;\n  return {\n    gameCredentials: gameCredentials(state.gameCredentials, action),\n    gameData: gameData(state.gameData, action),\n    playState: playState(playStateWithIndex, action),\n  };\n}\n\nexport default customReducer;","import { createStore } from 'redux';\nimport MohiApp, {defaultState} from './reducers';\n\n/**\n * REDUX WORK FLOW\n * 1) Create an action. Follow the schema already defined.\n *  (Create a constant action type. Setup the data to be passed to reducer)\n * 2) Add to the reducer. Follow the schema already defined. \n *  (Make sure to return an object that has all keys as before.)\n * 3) You may now *dispatch* an action from anywhere.\n *  (Note: component must *subscribe* via the connect method in order to be refreshed)\n * Maybe 4) Sometimes you may want to create a whole separate data flow. Simply create the relevant files\n *  and then make sure to update this default state to include those changes. \n */\nexport const storageType = sessionStorage;\n\nfunction loadState() {\n  const gameData = JSON.parse(storageType.getItem('gameData'));\n  const username = storageType.getItem('username');\n  const gamename = storageType.getItem('gamename');\n  const userId = storageType.getItem('userId');\n\n  if (!username || !gamename || !userId) {\n    return defaultState;\n  }\n  const myState = {};\n  myState.gameCredentials = {\n    username,\n    gamename,\n    userId,\n    isConnected: false,\n    isUpdatingName: false,\n  }\n\n  if (gameData && gameData.isPlaying) {\n    myState.gameData = gameData;\n  }\n  else {\n    myState.gameData = defaultState.gameData;\n  }\n\n  myState.playState = defaultState.playState;\n\n  return myState;\n}\n\nconst store = process.env.REACT_APP_DESIGN === 'true' \n? createStore(MohiApp)\n: createStore(MohiApp, loadState());\n\n/**\n * Saves a piece of the state that will be useful in cases of refresh or disconnects.\n * @param {any} state The total state object kept track of by redux\n */\nexport function saveState(state) {\n  const { username, gamename, userId } = state.gameCredentials;\n  storageType.setItem('username', username);\n  storageType.setItem('gamename', gamename);\n  storageType.setItem('userId', userId);\n}\n\nexport function saveCurrentState() {\n  saveState(store.getState());\n}\n\nif (process.env.NODE_ENV === 'development') {\n  store.subscribe(() => {\n    console.log(store.getState());\n  })\n}\nexport default store;","import io from 'socket.io-client';\nimport store from 'Games/redux-store';\n\nimport {\n  setIsConnected,\n  setUserName,\n} from 'Games/redux-store/actions/nameActions';\n\nimport {\n  setIsLoadingRoom,\n  roomCreated,\n  visibleRooms,\n  roomJoined,\n  roomSpectated,\n  setMyIndex,\n  playerAdded,\n  playerLeft,\n  roomPrivacyToggled,\n  roomSettingsUpdated,\n} from 'Games/redux-store/actions/gameSetupActions';\n\nimport {\n  startSpyfall,\n  updateSpyfallTime,\n  clearSpyfallBoard,\n} from 'Games/redux-store/actions/specificGameActions/spyfallActions';\n\nimport {\n  startMafia,\n  clearMafiaBoard,\n  beginTrial,\n  updateMainMafiaTime,\n  secondaryTimeUpdate,\n  chatUpdated,\n  otherPlayerVotedMafia,\n  iVotedMafia,\n  otherPlayerGuiltyVotedMafia,\n  iGuiltyVotedMafia,\n  courtResult,\n  usedPower,\n  publicNightResult,\n  privateNightResult,\n  playerKilled,\n  mafiaGameOver,\n} from 'Games/redux-store/actions/specificGameActions/mafiaActions';\n\nvar socket = null;\nlet userId = null;\nlet prevGame = \"\";\n\nconst events = {\n  spyfall: ['timeUpdate'],\n  mafia: [\n    'mainTimeUpdate',\n    'mafiaChatUpdated',\n    'otherPlayerVotedMafia',\n    'iVotedMafia',\n    'otherPlayerVotedGuiltyDecision',\n    'iVotedGuiltyDecision',\n    'courtResult',\n    'usedPower',\n    'nightResult',\n    'publicNightResult',\n    'playerKilled',\n    'gameOver',\n  ],\n};\n\nfunction invalidSocket(socket) {\n  if (!socket) {throw new Error('Socket invalid!');}\n}\n\nfunction removePrevEventListeners(newSocket) {\n  if (!prevGame) return;\n\n  const eventNames = events[prevGame];\n  eventNames.forEach(event => {\n    newSocket.off(event);\n  });\n}\n\nfunction addSpyfallEventListeners(newSocket) {\n  if (prevGame !== 'spyfall') {\n    removePrevEventListeners(newSocket);\n    prevGame = 'spyfall';\n\n    newSocket.on('mainTimeUpdate', function(time) {\n      store.dispatch(updateSpyfallTime(time));\n    });\n  }\n}\n\nfunction addMafiaEventListeners(newSocket) {\n  if (prevGame !== 'mafia') {\n    removePrevEventListeners(newSocket);\n    prevGame = 'mafia';\n    \n    newSocket.on('mainTimeUpdate', function(time) {\n      store.dispatch(updateMainMafiaTime(time));\n    });\n\n\n    newSocket.on('beginTrial', function(name) {\n      store.dispatch(beginTrial(name));\n    })\n    newSocket.on('secondaryTimeUpdate', function(time) {\n      store.dispatch(secondaryTimeUpdate(time));\n    })\n    \n    newSocket.on('mafiaChatUpdated', function (data) {\n      store.dispatch(chatUpdated(data));\n    });\n\n    newSocket.on('otherPlayerVotedMafia', function(data) {\n      store.dispatch(otherPlayerVotedMafia(data));\n    });\n\n    newSocket.on('iVotedMafia', function(data){\n      store.dispatch(iVotedMafia(data));\n    });\n\n    newSocket.on('otherPlayerVotedGuiltyDecision', function(data) {\n      store.dispatch(otherPlayerGuiltyVotedMafia(data));\n    });\n\n    newSocket.on('iVotedGuiltyDecision', function(data) {\n      store.dispatch(iGuiltyVotedMafia(data));\n    });\n\n    newSocket.on('courtResult', function(data) {\n      store.dispatch(courtResult(data));\n    });\n    \n    newSocket.on('usedPower', function(data) {\n      store.dispatch(usedPower(data));\n    });\n\n    newSocket.on('nightResult', function(data) {\n      store.dispatch(privateNightResult(data));\n    });\n\n    newSocket.on('publicNightResult', function(data) {\n      store.dispatch(publicNightResult(data));\n    });\n\n    newSocket.on('playerKilled', function(data) {\n      store.dispatch(playerKilled(data));\n    });\n\n    newSocket.on('gameOver', function(data) {\n      store.dispatch(mafiaGameOver(data));\n    });\n\n  }\n}\n\nexport function connectToServer() {\n  console.log('connecting...');\n  const {userId: uid} = store.getState().gameCredentials;\n  userId = uid;\n  let a = `https://mohithefish.herokuapp.com`;\n  if (process.env.NODE_ENV === 'development') {\n    a = `http://localhost:5000`;\n  }\n  const newSocket = io.connect(a, {\n    reconnection: true,\n    reconnectionDelay: 1000,\n    reconnectionDelayMax : 5000,\n    reconnectionAttempts: 10,\n  });\n\n  newSocket.on('connect', function() {\n    console.log('The client connected');\n    socket = newSocket;\n\n    store.dispatch(setIsConnected(true));\n    socket.emit('initialConnection', userId);\n  });\n\n  newSocket.on('nameUpdated', function(name){\n    store.dispatch(setUserName(name));\n  });\n\n  newSocket.on('createdRoom', function(roomInfo){\n    store.dispatch(roomCreated(roomInfo));\n  });\n\n  newSocket.on('settingsUpdated', function(settings){\n    store.dispatch(roomSettingsUpdated(settings));\n  });\n  \n  newSocket.on('togglePrivate', function(newState){\n    store.dispatch(roomPrivacyToggled(newState));\n  })\n\n  newSocket.on('availableRooms', function(rooms) {\n    store.dispatch(visibleRooms(rooms));\n  });\n\n  newSocket.on('needId', function() {\n    console.log('you need an id to access this room!'); \n  });\n\n  newSocket.on('youJoined', function(roomInfo){\n    store.dispatch(roomJoined(roomInfo))\n  });\n\n  newSocket.on('youSpectated', function(roomInfo) {\n    store.dispatch(roomSpectated(roomInfo))\n  })\n\n  newSocket.on('othersJoined', function(roomInfo){\n    store.dispatch(playerAdded(roomInfo));\n  })\n\n  newSocket.on('gameStarted', function(gameState){\n    const gamename = store.getState().gameCredentials.gamename;\n    if (gamename === 'spyfall') {\n      addSpyfallEventListeners(newSocket);\n      store.dispatch(startSpyfall(gameState));\n    }\n    else if (gamename === 'mafia') {\n      addMafiaEventListeners(newSocket);\n      store.dispatch(startMafia(gameState));\n    }\n  });\n\n  newSocket.on('sentBackToLobby', function(){\n    const gamename = store.getState().gameCredentials.gamename;\n    if(gamename === 'spyfall') {\n      store.dispatch(clearSpyfallBoard());\n    }\n    else if (gamename === 'mafia') {\n      store.dispatch(clearMafiaBoard());\n    }\n  });\n\n  newSocket.on('myIndex', function(data){\n    store.dispatch(setMyIndex(data));\n  });\n\n  newSocket.on('roomReady', function() {\n    store.dispatch(setIsLoadingRoom(false));\n  });\n  \n  newSocket.on('playerLeft', function(index) {\n    store.dispatch(playerLeft(index));\n  });\n\n  newSocket.on('disconnect', function() {\n    socket = null;\n    store.dispatch(setIsConnected(false));\n  });\n}\n\nexport function isConnected() {\n  return !socket;\n}\n\nexport function updateMyName(name) {\n  invalidSocket(socket);\n\n  socket.emit('updateMyName', [userId, name]);\n}\n\nfunction getSpecificGameSettings(settings, gamename) {\n  const smallSettings = {\n    isPrivate: settings.isPrivate,\n  };\n  smallSettings[gamename] = settings[gamename];\n  return smallSettings;\n}\n\nexport function createRoomWithSettings(settings) {\n  invalidSocket(socket);\n\n  const gamename = store.getState().gameCredentials.gamename;\n  socket.emit('createRoom', [userId, gamename, getSpecificGameSettings(settings, gamename)]);\n}\n\nexport function updateRoomSettings(settings) {\n  invalidSocket(socket);\n  \n  socket.emit('updateSettings', [userId, settings]);\n}\n\n// export function forceDisconnect() {\n//   invalidSocket(socket);\n\n//   socket.emit('forceDisconnect');\n// }\n\nexport function getAvailableRooms() {\n  invalidSocket(socket);\n\n  store.dispatch(setIsLoadingRoom(true));\n  socket.emit('getAvailableRooms', store.getState().gameCredentials.gamename);\n}\n\nexport function ejectFromRoom() {\n  invalidSocket(socket);\n  \n  socket.emit('ejectPlayerFromRoom', userId);\n}\n\nexport function joinRoom(targetRoom) {\n  invalidSocket(socket);\n  const data = {\n    targetRoom: targetRoom.trim(),\n    userId,\n  };\n  socket.emit('joinRoom', data);\n}\n\nexport function returnToLobby() {\n  invalidSocket(socket);\n\n  socket.emit('returnToLobby', userId);\n}\n\nexport function startGame() {\n  invalidSocket(socket);\n\n  socket.emit('startGame', userId);\n}\n\nexport function sendMafiaMessage(message, myIndex) {\n  invalidSocket(socket);\n\n  socket.emit('sendMafiaMessage', {\n    userId,\n    message,\n    index: myIndex,\n  });\n}\n\nexport function votePlayer(myIndex, targetIndex) {\n  invalidSocket(socket);\n  \n  socket.emit('voteMafiaPlayer', {\n    userId,\n    myIndex,\n    targetIndex,\n  });\n}\n\nexport function voteGuiltyMafia(myIndex, decision) {\n  invalidSocket(socket);\n  socket.emit('voteMafiaGuilty', {\n    userId,\n    myIndex,\n    decision,\n  });\n}\n\nexport function interactMafia(myIndex, targetIndex) {\n  invalidSocket(socket);\n\n  socket.emit('interactMafia', {\n    userId,\n    myIndex,\n    targetIndex,\n  });\n}","import React, { useState, useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\n\nimport store from 'Games/redux-store';\nimport {connectToServer, updateMyName} from './socketHandlers';\nimport {\n  setGameName\n} from 'Games/redux-store/actions/nameActions';\n\nimport './games.scss';\nimport { gamesJourney } from 'constants/constants';\n\n/**\n * List of all games available to play. Make sure this matches up with the server\n */\nconst allGames = [\n  'spyfall',\n  'mafia',\n];\n\nfunction mapStateToProps(state) {\n  const gc = state.gameCredentials;\n  return {\n    isConnected: gc.isConnected,\n    isUpdatingName: gc.isUpdatingName,\n    gamename: gc.gamename,\n  };\n}\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setGameInfo: (name, gamename) => {\n      updateMyName(name);\n      dispatch(setGameName(gamename));\n    }\n  }\n}\nfunction Games(props) {\n  const { isConnected, gamename, isUpdatingName, setGameInfo } = props;\n  const [name, setName] = useState(store.getState().gameCredentials.username);\n\n  useEffect ( () => {\n    document.title = \"Games\";\n    \n    if (process.env.REACT_APP_DESIGN !== \"true\") {\n      if (!isConnected) { \n        connectToServer();\n      }\n    }\n  }, [isConnected]);\n\n  function handleChange(e) {\n    setName(e.target.value);\n  }\n\n  if (Boolean(gamename) && isConnected && isUpdatingName) {\n    if (((process.env.NODE_ENV === \"development\" && process.env.REACT_APP_DESIGN === 'false') || process.env.NODE_ENV===\"production\")) {\n      return (\n        <Redirect push to={`${gamesJourney}/games/${gamename}`}/>\n      );\n    }\n  }\n  return (\n    <div className=\"games-page-wrapper\">\n      <h1 className=\"header\">Games</h1>\n      <h3 className=\"input-message\">Please create your username before continuing.</h3>\n      <div className=\"input\">\n        <TextField\n          id=\"filled\"\n          label=\"Your Name\"\n          variant=\"filled\"\n          value={name}\n          onChange={handleChange}\n          helperText=\"If no name is given, a default one will be generated\"\n        />\n      </div>\n\n\n      <div className=\"buttons-wrapper\">\n        {\n          allGames.map(val =>\n            <Button \n              key={val}\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={!isConnected}\n              onClick={() => setGameInfo(name, val)}\n            >\n              {val}\n            </Button>\n          )\n        }\n      </div>\n      <div className=\"suggestions-wrapper\">\n        <h3>Wanna see a new feature or notice a bug? Open an issue on the repo:</h3>\n        <h4>Related to User Interface features or enhancements: <a href=\"https://github.com/MohiTheFish/mohithefish/issues/new\" target=\"_blank\" rel=\"noopener noreferrer\">Open an issue.</a></h4>\n        <h4>Related to Game Functionality: <a href=\"https://github.com/MohiTheFish/mohithefish-server/issues/new\" target=\"_blank\" rel=\"noopener noreferrer\">Open an issue.</a></h4>\n        <h4>Unsure/Other: <a href=\"https://github.com/MohiTheFish/mohithefish/issues/new\" target=\"_blank\" rel=\"noopener noreferrer\">Open an issue.</a></h4>\n      </div>\n    </div>\n  );\n}\n\nconst SubscribedGames = connect(mapStateToProps, mapDispatchToProps)(Games);\nexport default SubscribedGames;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\n\nimport { returnToLobby } from 'Games/socketHandlers';\n\nimport './backToLobby.scss';\n\nfunction goBack() {\n  returnToLobby();\n}\n\nfunction BackToLobby() {\n  return (\n    <div className=\"backToLobby-wrapper\">\n      <IconButton aria-label=\"go-back\" color=\"primary\" onClick={goBack}>\n        <ArrowBackIcon />\n      </IconButton>\n    </div>\n  )\n}\n\nexport default BackToLobby;","import React from 'react';\nimport {connect} from 'react-redux';\n\nfunction mapStateToPropsClock(state) {\n  return {\n    time: state.playState.time,\n  };\n}\nfunction Clock({time}) {\n  const minutes = Math.floor(time / 60); \n  const seconds = time % 60;\n\n  return (\n    <div className=\"time-wrapper\">\n      <h3>{minutes}:{seconds.toString().padStart(2, '0')}</h3>\n    </div>\n  );\n}\nconst SubscribedClock = connect(mapStateToPropsClock)(Clock);\nexport default SubscribedClock;","import React, {useState} from 'react';\nimport {connect} from 'react-redux';\nimport {Redirect} from 'react-router-dom';\nimport './spyfall.scss';\n\nimport BackToLobby from 'Games/components/BackToLobby/backToLobby';\nimport Clock from 'Games/components/GameClock/gameClock';\n\nimport { \n  handleLocationSpyfall,\n  addNameSpyfall,\n  removeNameSpyfall,\n} from 'Games/redux-store/actions/specificGameActions/spyfallActions';\nimport store from 'Games/redux-store';\nimport { gamesJourney } from 'constants/constants';\n\nfunction mapStateToProps(state) {\n  const gd = state.gameData;\n  const ps = state.playState;\n  const game = ps.spyfall;\n  \n  return {\n    gameCredentials: state.gameCredentials,\n    \n    time: ps.time,\n    gameType: gd.settings.spyfall.gameType,\n    isPlaying: gd.isPlaying,\n    selectedLocations: game.selectedLocations,\n    selectedNamesByIndex: game.selectedNamesByIndex,\n    isSpy: game.spyIndex === gd.myIndex,\n    locations: game.locations,\n    secretLocation: game.secretLocation,\n  };\n}\nfunction getValues() {\n  const gd = store.getState().gameData;\n  return {\n    members: gd.members,\n    myIndex: gd.myIndex,\n  };\n}\n\nfunction getDescriptor(gameType) {\n  switch(gameType) {\n    case 'Foods': {\n      return 'food';\n    }\n    case 'Animals' : {\n      return 'animal';\n    }\n    default: return 'location';\n  }\n}\nfunction Spyfall(props) {\n  const {\n    gameCredentials,\n    gameType,\n    selectedLocations,\n    selectedNamesByIndex,\n    isSpy,\n    locations,\n    secretLocation,\n    isPlaying,\n  } = props;\n  \n  const [obj, ] = useState(getValues());\n  const {\n    members, \n    myIndex\n  } = obj;\n\n  if(!isPlaying) {\n    return <Redirect to={`${gamesJourney}/games/spyfall`} />;\n  }\n\n\n  function getSelectedClassN(val, set, addCall, removeCall) {\n    const isSelected = set.has(val);\n    let callback = addCall;\n    let selectClass = \"\";\n    if (isSelected) {\n      callback = removeCall;\n      selectClass = \"selected\";\n    }\n    return [selectClass, (data) => store.dispatch(callback(val))];\n  }\n\n  function renderNames() {\n    return members.map( (name, index) => {\n      const [selectClass, callback] = getSelectedClassN(index, selectedNamesByIndex, addNameSpyfall, removeNameSpyfall);\n      return (\n        <h4 key={`${name}${index}`}\n         className={selectClass}\n         onClick={callback}>\n          {name}\n        </h4>\n      )\n    })\n  }\n\n  function locationSelectHandler(data) {\n    store.dispatch(handleLocationSpyfall(data));\n  }\n  function getSelectedClassL(val) {\n    const state = selectedLocations.get(val);\n    switch(state) {\n      case 0: {\n        return \"\";\n      }\n      case 1: {\n        return \"accept\";\n      }\n      case 2: {\n        return \"ignore\";\n      }\n      default: {\n        return \"\";\n      }\n    }\n  }\n  function renderLocations() {\n    return locations.map( (value, index) => {\n      const selectClass = getSelectedClassL(value);\n      return (\n        <div\n          key={value} \n          className={`location vertically-center-text ${selectClass}`}\n          onClick={locationSelectHandler}\n        > \n          <p>{value}</p>\n        </div>\n      );\n    });\n  }\n  \n  const headerRow = myIndex === 0\n  ? <div className=\"header-row\">\n      <BackToLobby />\n      <h1>Play Spyfall</h1>\n      {/* <BackToLobby /> */}\n    </div>\n  : <div className=\"header-row\">\n      <h1>Play Spyfall</h1>\n    </div>\n\n  return (\n    <div className=\"wrapper play-games-wrapper spyfall-page-wrapper\">\n      <div className=\"header\">\n        {headerRow}\n        <h4>Your name is: {gameCredentials.username}</h4>\n          {\n            isSpy \n            ? <h4>You ARE the spy! <span role=\"img\" aria-label=\"spy emoji\">🕵️</span> <br/> Figure out the secret {getDescriptor(gameType)}!</h4>\n            : <h4>You are NOT the spy. <br/> The {getDescriptor(gameType)} is <span className=\"secret-location\">{secretLocation}</span></h4>\n          }\n        \n        <Clock />\n      </div>\n\n      <div className=\"players-list\">\n        <h2 className=\"title\">Players</h2>\n        <div className=\"names\">\n          {\n            renderNames()\n          }\n        </div>\n      </div>\n\n      <div className=\"location-section\">\n        <h2 className=\"header\">{gameType}</h2>\n        <div className=\"location-wrapper\">\n          {\n            renderLocations()\n          }\n        </div>\n      </div>\n    </div>\n  );\n\n}\nconst SubscribedSpyfall = connect(mapStateToProps)(Spyfall);\nexport default SubscribedSpyfall;","import Spyfall from './spyfall';\r\n\r\n\r\nexport default Spyfall;","import React, {useState} from 'react';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\n\nimport store from 'Games/redux-store';\n\n// Enum from server\nexport const ROLES = {\n  VILLAGER : 0,\n  DETECTIVE : 1,\n  MEDIC : 2,\n  MAFIA : 3,\n  GODFATHER : 4,\n  SK : 5,\n  JOKER : 6,\n  NUM_ROLES : 7,\n};\n\nfunction TeamName(props) {\n  return <h2 className=\"team\">Team: {props.children}</h2>\n}\n\nfunction RoleName(props) {\n  return <h3 className=\"role\">Role: {props.children}</h3>\n}\n\nfunction PowerInfo(props) {\n  return <p className=\"power-info\">Power: {props.children}</p>\n}\n\nfunction WinCondition(props) {\n  return <h3 className=\"win-condition\">Winning Condition: {props.children}</h3>\n}\n\n/**\n * Function to return relevant string values for populating card information\n * The default case will be a villager. \n * @param {number} role \n */\nfunction getRoleDetails(role) {\n  switch(role) {\n    case ROLES.DETECTIVE: {\n      return {\n        teamName: 'Village',\n        roleName: 'Detective',\n        powerInfo: 'At night, you can check a player as to whether or not they are mafia.',\n        winCondition: 'All Non-Villagers are eliminated.',\n      }\n    }\n    case ROLES.MEDIC: {\n      return {\n        teamName: 'Village',\n        roleName: 'Medic',\n        powerInfo: 'At night, you can rescue a player from being executed. You will not know who was targeted.',\n        winCondition: 'All Non-Villagers are eliminated.',\n      }\n    }\n    case ROLES.MAFIA: {\n      return {\n        teamName: 'Mafia',\n        roleName: 'Mafia Member',\n        powerInfo: 'At night, you (and your team) vote to execute a single player.',\n        winCondition: 'All Villagers are eliminated.',\n      }\n    }\n\n    default: { //ROLES.VILLAGER\n      return {\n        teamName: 'Village',\n        roleName: 'Villager',\n        powerInfo: 'None',\n        winCondition: 'All Non-Villagers are eliminated.',\n      }\n    }\n\n  }\n}\n\nexport function RoleCard() {\n  const [isMini, setIsMini] = useState(true);\n  const [roleInfo, ] = useState(getRoleDetails(store.getState().playState.mafia.role));\n  \n  \n  const Icon = isMini ? ExpandMoreIcon : ExpandLessIcon;\n  const rwclass = `papermui ${roleInfo.teamName} ${isMini ? 'mini' : ''}`;\n  return (\n    <div id=\"role-wrapper\" className={rwclass}>\n      <div className=\"role-info\" onClick={\n        isMini\n        ? () => setIsMini(false)\n        : () => setIsMini(true)\n      }>\n        <TeamName>{roleInfo.teamName}</TeamName>\n        <RoleName>{roleInfo.roleName}</RoleName>\n        <Icon className=\"icon\" />\n      </div>\n      <PowerInfo>{roleInfo.powerInfo}</PowerInfo>\n      <WinCondition>{roleInfo.winCondition}</WinCondition>\n    </div>\n  );\n}","\r\nimport React from 'react';\r\n\r\nimport deadimg from 'assets/images/dead.png';\r\nimport { votePlayer, interactMafia } from 'Games/socketHandlers';\r\nimport {ROLES} from './role';\r\n\r\nconst DEAD_IMAGE = \r\n<div className=\"dead-img-wrapper\">\r\n  <img className=\"dead-img\" alt=\"dead\" src={deadimg} />\r\n</div>;\r\nfunction iHavePower(role) {\r\n  return role === 1 || role === 2 || role === 3;\r\n}\r\n\r\nfunction interpretRole(role) {\r\n  switch(role) {\r\n    case ROLES.VILLAGER : {\r\n      return 'VILLAGER';\r\n    }\r\n    case ROLES.DETECTIVE : {\r\n      return 'DETECTIVE';\r\n    }\r\n    case ROLES.MEDIC : {\r\n      return 'MEDIC';\r\n    }\r\n    case ROLES.MAFIA : {\r\n      return 'MAFIA';\r\n    }\r\n    case ROLES.GODFATHER : {\r\n      return 'GODFATHER';\r\n    }\r\n    case ROLES.SK : {\r\n      return 'SERIAL KILLER';\r\n    }\r\n    case ROLES.JOKER : {\r\n      return 'JOKER';\r\n    }\r\n    default: {\r\n      return 'VILLAGER';\r\n    }\r\n  }\r\n}\r\n\r\nfunction renderInteraction(profile, phase, index, myIndex, isSelected, isRecapPeriod, someoneOnTrial, iAmDead, role) {\r\n  if (iAmDead) {\r\n    const isDay = phase%2 === 0;\r\n    const isDead = !profile.isAlive;\r\n    return (\r\n      <div className=\"vote-button-wrapper\">\r\n        <div className=\"vote-count\">\r\n          <h4>Role:</h4>\r\n          <h4>{interpretRole(profile.role)}</h4>\r\n        </div>\r\n        {\r\n          isDead\r\n          ? DEAD_IMAGE\r\n          : (\r\n            isDay\r\n            ? <div className=\"vote-count\">\r\n                <h4>Total count</h4>\r\n                <h4 className=\"count\">{profile.numVotes}</h4>\r\n              </div>\r\n            : ''\r\n          )\r\n        }\r\n      </div>\r\n    )\r\n  }\r\n  \r\n  if (!profile.isAlive) {\r\n    return (\r\n      <div className=\"vote-button-wrapper\">\r\n      <div className=\"vote-count\">\r\n        <h4>Role:</h4>\r\n        <h4>{interpretRole(profile.role)}</h4>\r\n      </div>\r\n      {DEAD_IMAGE}\r\n    </div>\r\n    );\r\n  }\r\n\r\n  if (isRecapPeriod || phase === 0) {\r\n    return (\r\n      <div className=\"empty-area-wrapper\">\r\n        <div className=\"empty-area\">\r\n          <h2>Wait until Day!</h2>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  const isDay = phase % 2 === 0;\r\n  let selectClass = '';\r\n  if(isSelected) {\r\n    selectClass=\"selected \";\r\n  }\r\n  if(someoneOnTrial) {\r\n    selectClass +=\"disabled\";\r\n  }\r\n  if (isDay) {\r\n    function onClick() {\r\n      if(someoneOnTrial) {return;}\r\n      votePlayer(myIndex, index);\r\n    }\r\n    return (\r\n      <div className=\"vote-button-wrapper\">\r\n        <div className={`vote-button ${selectClass}`} onClick={onClick}><h2>Vote</h2></div>\r\n        <div className=\"vote-count\">\r\n          <h4>Total count</h4>\r\n          <h4 className=\"count\">{profile.numVotes}</h4>\r\n        </div>\r\n      </div>\r\n    );\r\n  } \r\n  else {\r\n    if(iHavePower(role)) {\r\n      function interact() {\r\n        interactMafia(myIndex, index);\r\n      }\r\n      return (\r\n        <div className=\"interact-button-wrapper\">\r\n          <div className={`interact-button ${selectClass}`} onClick={interact}>\r\n            <h2>Interact</h2>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n    else {\r\n      return (\r\n        <div className=\"interact-button-wrapper\">\r\n          <h2 style={{textAlign: 'center'}}>No Power</h2>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nfunction PlayerCard(props) {\r\n  const { member, index, myIndex, profile, phase, isSelected, isRecapPeriod, someoneOnTrial, iAmDead, role } = props;\r\n\r\n  const playerClass = `papermui player${index === myIndex ? ' my-player' : ''}`;\r\n  return (\r\n    <div className={playerClass}>\r\n      <div className=\"info\">\r\n        <h3 className=\"name\">{member}</h3>\r\n      </div>\r\n      {renderInteraction(profile, phase, index, myIndex, isSelected, isRecapPeriod, someoneOnTrial, iAmDead, role)}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport { PlayerCard };","import React, {useLayoutEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nconst SCROLL_THRESHOLD = 30;\r\nconst CHAT_BOX_HEIGHT = 550;\r\nfunction interpretPhase(phase) {\r\n  const isEven = phase % 2 === 0;\r\n  if (isEven) {\r\n    return `Day ${phase / 2}`;\r\n  }\r\n  return `Night ${(phase+1) / 2}`;\r\n}\r\nfunction EventRecap(props) {\r\n  const { chatHistory } = props;\r\n\r\n  useLayoutEffect(() => {\r\n    const element = document.getElementById(\"event-recap\");\r\n    \r\n    if (element.scrollHeight - element.scrollTop < SCROLL_THRESHOLD + CHAT_BOX_HEIGHT) {\r\n      element.scrollTo(0, element.scrollHeight);\r\n    }\r\n  });\r\n  \r\n  return (\r\n    <div id=\"event-recap\" className=\"papermui\">\r\n      <h3 className=\"description\">Event Recap: Recorded here will be all the game actions (votes made, time of murders).</h3>\r\n      {\r\n        chatHistory.map((messageList, phase) => {\r\n          const phaseText = interpretPhase(phase);\r\n          return (\r\n            <React.Fragment key={phaseText}>\r\n            <div className=\"new-phase\">\r\n              {phaseText}\r\n            </div>\r\n            <ul>\r\n              {\r\n                messageList.map((messageItem, index) => {\r\n                  const {audience, message} = messageItem;\r\n                  const messageClass = `message-${audience}`;\r\n                  return (\r\n                    <li className={messageClass} key={`${message}${index}`}>{message}</li>\r\n                  )\r\n                })\r\n              }\r\n            </ul>\r\n            </React.Fragment>\r\n          );\r\n        })\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    chatHistory: state.playState.mafia.chatHistory,\r\n  };\r\n}\r\n\r\n\r\nconst SubscribedEventRecap = connect(mapStateToProps)(EventRecap);\r\nexport default SubscribedEventRecap;","import React, {useState} from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport FormControl from '@material-ui/core/FormControl';\nimport ArrowForward from '@material-ui/icons/ArrowForward';\n\nimport store from 'Games/redux-store';\nimport { sendMafiaMessage } from 'Games/socketHandlers';\n\nconst ENTER_KEY = 13;\n\nexport default function TextInput() {\n  const [message, setMessage] = useState(\"\");\n  const [myIndex, ] = useState(store.getState().gameData.myIndex)\n  const preventDefault = (e) => {\n    e.preventDefault();\n  }\n\n  function handleKeyPress(e) {\n    if (e.which === ENTER_KEY || e.keyCode === ENTER_KEY) {\n      submit();\n    }\n  }\n\n  function submit() {\n    if(Boolean(message)) { //length greater than 0\n      sendMafiaMessage(message, myIndex);\n      setMessage(\"\");\n    }\n  }\n  \n  return (\n    <FormControl id=\"event-recap-input\" variant=\"outlined\">\n      <Input\n        className=\"event-input\"\n        id=\"standard-basic\"\n        value={message}\n        onChange={(e) => {setMessage(e.target.value);}}\n        onKeyPress={handleKeyPress}\n        endAdornment={\n          <InputAdornment position=\"end\">\n            <IconButton\n              className=\"icon-color\"\n              children={<ArrowForward />}\n              onClick={submit}\n              size=\"small\"\n              onMouseDown={preventDefault}\n              edge=\"end\"\n            />\n          </InputAdornment>\n        }\n      />\n    </FormControl>\n  )\n}\n\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nfunction RoleName(props) {\r\n  return (\r\n    <div className=\"name\">\r\n      <p>{props.children}</p>\r\n    </div>\r\n  )\r\n}\r\nfunction RoleValue(props) {\r\n  return (\r\n    <div className=\"value\">\r\n      <p>{props.children}</p>\r\n    </div>\r\n  );\r\n}\r\nfunction RoleItem(props) {\r\n  return (\r\n    <div className=\"role-item\">\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    roleCount: state.playState.mafia.roleCount\r\n  };\r\n}\r\nfunction RoleCount(props) {\r\n  const roles = [];\r\n  const { mafiaCount, villagerCount, jokerCount, skCount, crazyExCount} = props.roleCount;\r\n  if (mafiaCount) {\r\n    roles.push(\r\n      <RoleItem key=\"mafia\">\r\n        <RoleName>Mafia</RoleName>\r\n        <RoleValue>{mafiaCount}</RoleValue>\r\n      </RoleItem>\r\n    );\r\n  };\r\n  if (villagerCount) {\r\n    roles.push(\r\n      <RoleItem key=\"villager\">\r\n        <RoleName>Villager</RoleName>\r\n        <RoleValue>{villagerCount}</RoleValue>\r\n      </RoleItem>\r\n    );\r\n  };\r\n  if (jokerCount) {\r\n    roles.push(\r\n      <RoleItem key=\"joker\">\r\n        <RoleName>Joker</RoleName>\r\n        <RoleValue>{jokerCount}</RoleValue>\r\n      </RoleItem>\r\n    );\r\n  };\r\n  if (skCount) {\r\n    roles.push(\r\n      <RoleItem key=\"sk\">\r\n        <RoleName>SK</RoleName>\r\n        <RoleValue>{skCount}</RoleValue>\r\n      </RoleItem>\r\n    )\r\n  }\r\n  if (crazyExCount) {\r\n    roles.push(\r\n      <RoleItem key=\"crazy-ex\">\r\n        <RoleName>Crazy Ex</RoleName>\r\n        <RoleValue>{crazyExCount}</RoleValue>\r\n      </RoleItem>\r\n    )\r\n  }\r\n  return (\r\n    <div className=\"papermui role-count-wrapper\">\r\n      <h2>Role Distribution</h2>\r\n      {roles}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst SubscribedRoleCount = connect(mapStateToProps)(RoleCount);\r\nexport default SubscribedRoleCount;","import React, {useState} from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport { connect } from 'react-redux';\nimport {closeDialog} from 'Games/redux-store/actions/specificGameActions/mafiaActions';\nimport store from 'Games/redux-store';\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n  const { children, classes, onClose, ...other } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\n      <h1>{children}</h1>\n      {onClose ? (\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\n\nfunction GameOverDialog(props) {\n  const {showGameOverDialog, winners, closeDialog} = props;\n  const [members, ] = useState(store.getState().gameData.members);\n  // const [profiles, ] = useState(store.getState().playState.playerProfiles);\n  let iWin = winners.indexOf(store.getState().gameData.myIndex) >= 0;\n  return (\n    <div>\n      <Dialog className=\"my-dialog\" onClose={closeDialog} aria-labelledby=\"customized-dialog-title\" open={showGameOverDialog}>\n        <DialogTitle>Game Over!</DialogTitle>\n        <DialogContent dividers>\n          <h2>{iWin ? \"You've won!\" : \"You've lost!\"}</h2>\n          <div className=\"winners-wrapper\">\n            <h3 className=\"header\">All winners:</h3>\n            <div className=\"winners-list\">\n              {\n                winners.map(index => {\n                  const name = members[index];\n                  return <h3>{name}</h3>;\n                })\n              }\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n\nfunction mapStateToProps(state) {\n  const ps = state.playState;\n  const game = ps.mafia;\n  return {\n    showGameOverDialog: game.showGameOverDialog,\n    winners: game.winners,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    closeDialog: () => {\n      dispatch(closeDialog())\n    }\n  };\n}\n\nconst SubscribedGameOverDialog = connect(mapStateToProps, mapDispatchToProps)(GameOverDialog);\nexport default SubscribedGameOverDialog;","import React from 'react';\r\n\r\nimport { \r\n  votePlayer,\r\n  voteGuiltyMafia,\r\n} from 'Games/socketHandlers';\r\nimport { connect } from 'react-redux';\r\n\r\nfunction mapStateToPropsClock(state) {\r\n  return {\r\n    time: state.playState.mafia.secondaryTime,\r\n  };\r\n}\r\nfunction Clock({time}) {\r\n  const minutes = Math.floor(time / 60); \r\n  const seconds = time % 60;\r\n\r\n  return (\r\n    <div className=\"time-wrapper\">\r\n      <h3>{minutes}:{seconds.toString().padStart(2, '0')}</h3>\r\n    </div>\r\n  );\r\n}\r\nconst SubscribedClock = connect(mapStateToPropsClock)(Clock);\r\n\r\nfunction Court(props) {\r\n  const {\r\n    onTrialName,\r\n    onTrialIndex,\r\n    isDefending,\r\n    myIndex,\r\n    phase,\r\n    isRecapPeriod,\r\n    isSelected,\r\n    numAbstain,\r\n    numGuilty,\r\n    numNotGuilty,\r\n    myGuiltyDecision,\r\n    iAmDead,\r\n  } = props;\r\n\r\n  if (iAmDead) {\r\n    const isDay = phase%2 === 0;\r\n    return (\r\n      <div className=\"vertically-center-text empty-court\">\r\n        <h2>You have died. You can no longer interact.</h2>\r\n        {isDay \r\n        ? <h2>Number of abstainees: {numAbstain}</h2>\r\n        : ''}\r\n      </div>\r\n    )\r\n  }\r\n  function voteGuilty() {\r\n    voteGuiltyMafia(myIndex, 'guilty');\r\n  }\r\n\r\n  function voteNotGuilty() {\r\n    voteGuiltyMafia(myIndex, 'not guilty');\r\n  }\r\n  if(phase%2 === 0){ //isDay\r\n    if (!onTrialName) { //no one on trial && isDay\r\n      if (!isRecapPeriod) { // is not RecapPeriod && no one on trial && isDay\r\n        return (\r\n          <div className=\"vertically-center-text empty-court\">\r\n            <h2>You need to vote for someone to lynch!</h2>\r\n            <h3>Or you can decide against voting today</h3>\r\n            <div className={ `abstain papermui${isSelected ? ' selected' : ''}`} onClick={() => {votePlayer(myIndex, -2)}}>\r\n              <h2>Abstain</h2>\r\n            </div>\r\n            <h5>*Need a majority to abstain in order to pass the day.</h5>\r\n            <h2>Number of abstainees: {numAbstain}</h2>\r\n          </div>\r\n        )\r\n      }\r\n      // IS RecapPeriod && no one on trial && isDay\r\n      return (\r\n        <div className=\"vertically-center-text empty-court\">\r\n          <h3>Wait until night time.</h3>\r\n        </div>\r\n      );\r\n    }\r\n    // IS on trial && isDay\r\n    const iAmOnTrial = onTrialIndex === myIndex;\r\n    // const iAmOnTrial = false;\r\n    let notGuiltyClass = `papermui button-padding`;\r\n    let guiltyClass = `papermui button-padding`;\r\n    if (!iAmOnTrial) {\r\n      notGuiltyClass += ' button';\r\n      guiltyClass += ' button';\r\n      const isG = myGuiltyDecision[0] === 'g';\r\n      const isN = myGuiltyDecision[0] === 'n';\r\n      if(isG) {\r\n        notGuiltyClass += ' inactive';\r\n        guiltyClass += ' active';\r\n      }\r\n      else if(isN){\r\n        notGuiltyClass += ' active';\r\n        guiltyClass += ' inactive';\r\n      }\r\n    }\r\n    let guiltyButtons = '';\r\n    if (!isDefending) {\r\n      if (!iAmOnTrial) {\r\n        guiltyButtons = (\r\n          <>\r\n          <div className=\"court-decision not-guilty-wrapper\">\r\n            <div className={notGuiltyClass} onClick={voteNotGuilty}>\r\n              <h2>Not Guilty</h2>\r\n            </div>\r\n            <div className=\"voters\">\r\n              <h3>Total Votes</h3>\r\n              <h2>{numNotGuilty}</h2>\r\n            </div>\r\n          </div>\r\n          <div className=\"court-decision guilty-wrapper\">\r\n            <div className={guiltyClass} onClick={voteGuilty}>\r\n              <h2>Guilty</h2>\r\n            </div>\r\n            <div className=\"voters\">\r\n              <h3>Total Votes</h3>\r\n              <h2>{numGuilty}</h2>\r\n            </div>\r\n          </div>\r\n          </>\r\n        );\r\n      }\r\n      else {\r\n        guiltyButtons = (\r\n          <>\r\n          <div className=\"court-decision not-guilty-wrapper\">\r\n            <div className={notGuiltyClass}>\r\n              <h2>Not Guilty</h2>\r\n            </div>\r\n            <div className=\"voters\">\r\n              <h3>Total Votes</h3>\r\n              <h2>{numNotGuilty}</h2>\r\n            </div>\r\n          </div>\r\n          <div className=\"court-decision guilty-wrapper\">\r\n            <div className={guiltyClass}>\r\n              <h2>Guilty</h2>\r\n            </div>\r\n            <div className=\"voters\">\r\n              <h3>Total Votes</h3>\r\n              <h2>{numGuilty}</h2>\r\n            </div>\r\n          </div>\r\n          </>\r\n        )\r\n      }\r\n    }\r\n    return (\r\n      <div className=\"court\">\r\n        <div className=\"on-trial\">\r\n          <h2>On Trial</h2>\r\n          <h1>{onTrialName}</h1>\r\n          <SubscribedClock />\r\n          <h4>Need a simple majority (more guilty votes than non-guilty).</h4>\r\n        </div>\r\n        {guiltyButtons}\r\n      </div>\r\n    );\r\n  }\r\n  // isNight\r\n  return ( \r\n    <div className=\"flex vertically-center-text empty-court\">\r\n      <h2>Use your power, if you can! Otherwise, wait until day time to vote.</h2>\r\n      <h5>If you are attacked, your screen will flash red! If you are saved, your screen will afterwards flash green. </h5>\r\n    </div>\r\n  )\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n  const members = state.gameData.members;\r\n  const { numAbstain, onTrial, isDefending, numGuilty, numNotGuilty, myGuiltyDecision} = state.playState.mafia;\r\n  return {\r\n    ...ownProps,\r\n    numAbstain,\r\n    onTrialName: members[onTrial],\r\n    onTrialIndex: onTrial,\r\n    isDefending,\r\n    numGuilty,\r\n    numNotGuilty,\r\n    myGuiltyDecision,\r\n  }\r\n}\r\n\r\nconst SubscribedCourt = connect(mapStateToProps)(Court);\r\nexport default SubscribedCourt;","import React, {useState, useEffect} from 'react';\nimport {connect} from 'react-redux';\nimport {Redirect} from 'react-router-dom';\nimport Brightness2Icon from '@material-ui/icons/Brightness2';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\n\nimport BackToLobby from 'Games/components/BackToLobby/backToLobby';\nimport Clock from 'Games/components/GameClock/gameClock';\nimport {RoleCard} from './components/role';\nimport {PlayerCard} from './components/player';\nimport EventRecap from './components/eventRecap';\nimport EventInput from './components/eventRecapInput';\nimport RoleCount from './components/roleCount';\nimport GameOverDialog from './components/gameOverDialog';\nimport Court from './components/court';\nimport store from 'Games/redux-store';\nimport './mafia.scss';\nimport { gamesJourney } from 'constants/constants';\n// window.onscroll = function(ev) {\n//   if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\n//       // you're at the bottom of the page\n//   }\n// };\n\nfunction interpretPhase(phase) {\n  const isEven = phase % 2 === 0;\n  if (isEven) {\n    return `day`;\n  }\n  else {\n    return `night`;\n  }\n}\n\nfunction Column3({isDay}) {\n  return (\n    <div className=\"column3\">\n      \n      <div className=\"day-night-time\">\n        <div className=\"row\">\n          <h1>{isDay ? 'Day' : 'Night  '}</h1>\n          {isDay ? <Brightness7Icon/> : <Brightness2Icon/>}\n        </div>\n      </div>\n\n      <RoleCard />\n      <RoleCount />\n\n    </div>\n  )\n}\n\nfunction mapStateToPropsC2(state, ownProps) {\n  const { myTarget, isRecapPeriod, iAmDead } = state.playState.mafia;\n  return {\n    ...ownProps,\n    targetIndex: myTarget,\n    isRecapPeriod, \n    iAmDead,\n  };\n}\nfunction Column2({myIndex, phase, targetIndex, isRecapPeriod, iAmDead}) {\n  return (\n    <div className=\"column2\">\n      <SubscribedPlayerList\n        phase={phase}\n        isRecapPeriod={isRecapPeriod}\n        myIndex={myIndex}\n        targetIndex={targetIndex}\n        iAmDead={iAmDead}\n      />\n      <Court\n        myIndex={myIndex}\n        phase={phase}\n        isRecapPeriod={isRecapPeriod}\n        isSelected={targetIndex === -2}\n        iAmDead={iAmDead}\n      />\n    </div>\n  );\n}\nconst SubcribedColumn2 = connect(mapStateToPropsC2)(Column2);\n\nfunction Column1() {\n  return (\n    <div className=\"column1\">\n      <EventRecap />\n      <EventInput />\n    </div>\n  )\n}\n\nfunction mapStateToPropsPL(state, ownProps) {\n  return {\n    ...ownProps,\n    role: state.playState.mafia.role,\n    someoneOnTrial: state.playState.mafia.onTrial>=0,\n    playerProfiles: state.playState.mafia.playerProfiles,\n  }\n}\nfunction PlayerList(props) {\n  const {\n    phase,\n    role,\n    myIndex,\n    playerProfiles,\n    isRecapPeriod,\n    targetIndex,\n    someoneOnTrial,\n    iAmDead,\n  } = props;\n  \n  const [members,] = useState(store.getState().gameData.members);\n  return (\n    <div className=\"player-list\">\n      {\n        members.map( (member, index) => {\n          return <PlayerCard \n            key={`${member}${index}`} \n            phase={phase}\n            isRecapPeriod={isRecapPeriod}\n            member={member} \n            profile={playerProfiles[index]}\n            index={index}\n            isSelected={targetIndex === index}\n            myIndex={myIndex}\n            someoneOnTrial={someoneOnTrial}\n            iAmDead={iAmDead}\n            role={role}\n          />\n        })\n      }\n    </div>\n  );\n}\nconst SubscribedPlayerList = connect(mapStateToPropsPL)(PlayerList);\n\nfunction Mafia(props) {\n  useEffect(() => {\n    document.title = 'Mafia';\n  });\n  const [myIndex, ] = useState(store.getState().gameData.myIndex);\n  const {\n    phase,\n    isPlaying,\n    wasAttacked,\n    wasSaved,\n  } = props;\n\n  if(!isPlaying && (process.env.NODE_ENV === 'production' || (process.env.NODE_ENV === 'development' && process.env.REACT_APP_DESIGN === 'false'))) {\n    return (\n      <Redirect to={`${gamesJourney}/games/mafia`} />\n    );\n  }\n  \n  const theme = interpretPhase(phase);\n  const isDay = theme === 'day';\n\n  const headerRow = myIndex === 0\n  ? <div className=\"header-row\">\n      <BackToLobby />\n      <h1>Play Mafia</h1>\n      {/* <BackToLobby /> */}\n    </div>\n  : <div className=\"header-row\">\n      <h1>Play Mafia</h1>\n    </div>\n\n  const savedClass = wasSaved ? 'saved' : '';\n  const attackedClass = wasAttacked ? 'attacked' : '';\n\n  return (\n    <div className={`wrapper play-games-wrapper mafia-page-wrapper ${theme} ${savedClass} ${attackedClass}`}>\n      <GameOverDialog/> \n      <div className=\"header\">\n        {headerRow}\n        <Clock />\n      </div>\n\n      <div className=\"mafia-game-info\">\n        <Column1 />\n        <SubcribedColumn2 myIndex={myIndex} phase={phase} />\n        <Column3 isDay={isDay}/>\n      </div>\n    </div>\n  );\n}\n\nfunction mapStateToProps(state) {\n  const gd = state.gameData;\n  const ps = state.playState;\n  const game = ps.mafia;\n  return {\n    phase: game.phase,\n    isPlaying: gd.isPlaying,\n    wasAttacked: game.wasAttacked,\n    wasSaved: game.wasSaved,\n  };\n}\n\n\nconst SubscribedMafia = connect(mapStateToProps)(Mafia);\nexport default SubscribedMafia;","import Mafia from './mafia';\r\n\r\n\r\nexport default Mafia;","import React from 'react';\nimport IconButton from '@material-ui/core/IconButton';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport store from 'Games/redux-store';\nimport { ejectFromRoom } from 'Games/socketHandlers';\nimport { returnToGameSelect } from 'Games/redux-store/actions/nameActions';\n\nimport './backToGameSelect.scss';\n\nfunction goBack() {\n  ejectFromRoom();\n  store.dispatch(returnToGameSelect());\n}\n\nfunction BackToGameSelect() {\n  return (\n    <div className=\"backToLobby-wrapper\">\n      <IconButton aria-label=\"go-back\" color=\"primary\" onClick={goBack}>\n        <ArrowBackIcon />\n      </IconButton>\n    </div>\n  )\n}\n\nexport default BackToGameSelect;","import React, {useState} from 'react';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport ArrowForward from '@material-ui/icons/ArrowForward';\r\n\r\nimport {joinRoom} from '../../socketHandlers';\r\n\r\nconst ENTER_KEY = 13;\r\n\r\nexport default function TextInput() {\r\n  const [roomId, setRoomId] = useState(\"\");\r\n  const preventDefault = (e) => {\r\n    e.preventDefault();\r\n  }\r\n\r\n  function submit() {\r\n    joinRoom(roomId);\r\n  }\r\n  function handleKeyPress(e) {\r\n    if (e.which === ENTER_KEY || e.keyCode === ENTER_KEY) {\r\n      submit();\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <FormControl className=\"form-wrapper\" variant=\"outlined\">\r\n      <InputLabel htmlFor=\"outlined-adornment-roomid\">Room ID</InputLabel>\r\n      <OutlinedInput\r\n        id=\"outlined-adornment-roomid\"\r\n        value={roomId}\r\n        onChange={(e) => {setRoomId(e.target.value);}}\r\n        onKeyPress={handleKeyPress}\r\n        endAdornment={\r\n          <InputAdornment position=\"end\">\r\n            <IconButton\r\n              children={<ArrowForward />}\r\n              onClick={submit}\r\n              onMouseDown={preventDefault}\r\n              edge=\"end\"\r\n            />\r\n          </InputAdornment>\r\n        }\r\n        labelWidth={70}\r\n      />\r\n    </FormControl>\r\n  )\r\n}\r\n\r\n","import React from 'react';\nimport {connect} from 'react-redux';\nimport Button from '@material-ui/core/Button';\n\nimport store from 'Games/redux-store';\nimport { createRoomWithSettings, updateRoomSettings } from 'Games/socketHandlers';\nimport { setSettingsIsUpdating, lobbyStates } from 'Games/redux-store/actions/gameSetupActions';\n\nfunction mapStateToProps(state, ownProps) {\n  const selectedChoice = state.gameData.selectedChoice;\n  const isUpdating = state.gameData.isUpdating;\n  return {\n    ...ownProps,\n    selectedChoice,\n    isUpdating,\n  };\n}\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    setIsUpdating: () => {\n      dispatch(setSettingsIsUpdating());\n    }\n  }\n}\n\nfunction SubmitSettings(props) {\n  const {settings, selectedChoice, isUpdating, setIsUpdating, isValid} = props;\n  const isCreating = selectedChoice === lobbyStates.CREATE;\n\n  function createRoom() {\n    if (isCreating) {\n      createRoomWithSettings(store.getState().gameData.settings);\n    }\n    else {\n      setIsUpdating();\n      updateRoomSettings(settings);\n    }\n  }\n\n  return(\n    <Button disabled={!isValid || (!isCreating && isUpdating)} variant=\"contained\" onClick={createRoom}>\n      {isCreating ? 'Create' : 'Save'} \n    </Button>\n  );\n}\n\nconst SubscribedSubmitSettings = connect(mapStateToProps, mapDispatchToProps)(SubmitSettings);\nexport default SubscribedSubmitSettings;","import React from 'react';\nimport { connect } from 'react-redux';\nimport Switch from '@material-ui/core/Switch';\n\nimport { roomPrivacyToggled } from \"Games/redux-store/actions/gameSetupActions\";\n\nimport './aloneSwitch.scss';\n\nconst mapStateToProps = (state) => {\n  const {settings} = state.gameData;\n  return {\n    isPrivate: settings.isPrivate,\n  };\n}\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    handleSwitch: (e) => {\n      dispatch(roomPrivacyToggled());\n    }\n  }\n}\n\nfunction PrivateSwitch(props) {\n  const {isPrivate, handleSwitch} = props;\n\n  return (\n    <div className=\"setting\">\n      <h3>Do you want a public or private room?</h3>\n      <div className=\"switch-wrapper\">\n        <p>Public</p>\n        <Switch\n          checked={isPrivate}\n          onChange={handleSwitch}\n          color=\"primary\"\n          name=\"checked\"\n          inputProps={{ 'aria-label': 'primary checkbox' }}\n        />\n        <p>Private</p>\n      </div>\n      <h6>*At this time, this setting cannot be later changed.</h6>\n    </div>\n  );\n}\n\nconst SubscribedPrivateSwitch = connect(mapStateToProps, mapDispatchToProps)(PrivateSwitch);\nexport default SubscribedPrivateSwitch;","import React from 'react';\r\n\r\nexport function SettingsItem({children}) {\r\n  return (\r\n    <div className=\"settings-item\">\r\n      {children}\r\n    </div>\r\n  )\r\n} \r\n\r\nexport function SettingsName({children}) {\r\n  return (\r\n    <div className=\"item-name\">\r\n      <h3>{children}</h3>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function SettingsValue({children}) {\r\n  return (\r\n    <div className=\"item-value\">\r\n      <h3>{children}</h3>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {SettingsItem, SettingsName, SettingsValue} from '../settingsView';\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    ...state.gameData.settings.mafia\r\n  };\r\n}\r\n\r\nfunction interpretDuration(num) {\r\n  if (num <0) {\r\n    return 'Infinite';\r\n  }\r\n  return `${num} seconds`;\r\n}\r\n\r\nfunction interpretNumMafia(num) {\r\n  if (num <= 0) {\r\n    return 'Server decides';\r\n  }\r\n  return num;\r\n}\r\nfunction MafiaView(props) {\r\n  const { dayTimeLimit, nightTimeLimit, defenseTimeLimit, numMafia} = props;\r\n  return (\r\n    <div className=\"settings-list\">\r\n      <SettingsItem>\r\n        <SettingsName>Day Time Duration</SettingsName>\r\n        <SettingsValue>{interpretDuration(dayTimeLimit)}</SettingsValue>\r\n      </SettingsItem>\r\n      <SettingsItem>\r\n        <SettingsName>Night Time Duration</SettingsName>\r\n        <SettingsValue>{interpretDuration(nightTimeLimit)}</SettingsValue>\r\n      </SettingsItem>\r\n      <SettingsItem>\r\n        <SettingsName>Defense Time Duration</SettingsName>\r\n        <SettingsValue>{interpretDuration(defenseTimeLimit)}</SettingsValue>\r\n      </SettingsItem>\r\n      <SettingsItem>\r\n        <SettingsName>Number of Mafia</SettingsName>\r\n        <SettingsValue>{ interpretNumMafia(numMafia)}</SettingsValue>\r\n      </SettingsItem>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst SubscribedMafiaView = connect(mapStateToProps)(MafiaView);\r\nexport default SubscribedMafiaView;","import React, {useState} from 'react';\nimport {connect} from 'react-redux';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\n// import Switch from '@material-ui/core/Switch';\n\nimport SubmitSettings from 'Games/Settings/submitSettings';\nimport PrivateSwitch from '../privateSwitch';\nimport store from 'Games/redux-store';\n\nimport './mafiaSettings.scss';\n\n\nconst MAX_TIME = 600;\nexport function isValidTimeLimit(time) {\n  return /^\\d+$/.test(time) && Number.parseInt(time) <= MAX_TIME;\n}\nexport function isValidDayTimeLimit(time) {\n  const isInteger = /^(\\+|-)?\\d+$/.test(time);\n  if (!isInteger) {\n    return 'Must be an integer at most 600.';\n  }\n  const sizeMet = Number.parseInt(time) <= MAX_TIME;\n  if (!sizeMet) {\n    return 'Too large';\n  }\n  return '';\n\n}\nexport function isValidMafia(num) {\n  const isInteger = /^(\\+|-)?\\d+$/.test(num);\n  if (!isInteger) {\n    return 'Must be an integer.';\n  }\n  const sizeMet = Number.parseInt(num) < store.getState().gameData.members.length;\n  if (!sizeMet) {\n    return 'Too large';\n  }\n  return '';\n}\n\n\nfunction TimeLimit(props) {\n  const { time, validTime, setTime, children, quantity } = props;\n  const question = children[0];\n  const errormsg = children[1];\n  const explanation = children[2];\n  let error = !validTime;\n\n  let inputProps = {\n    className: \"time-input\",\n    label: \"Time\",\n    value: time,\n    onChange: handleChange,\n    endAdornment: <InputAdornment position=\"end\">sec</InputAdornment>, \n  }\n  if (quantity) {\n    inputProps.className = \"quantity-input\";\n    delete inputProps.endAdornment;\n  }\n\n  function handleChange(e) {\n    setTime(e.target.value);\n  }\n  return (\n    <div className=\"setting\">\n      {question}\n      {explanation}\n      <FormControl error={error}>\n        <Input\n          {...inputProps}\n        />\n        {\n          error\n          ? errormsg\n          : ''\n        }\n      </FormControl>\n    </div>\n  );\n}\n\n// function FormSwitch(props) {\n//   const {isActive, setIsActive, children} = props;\n//   const question = children[0];\n//   const explanation = children[1];\n//   function handleChange(e) {\n//     setIsActive(!isActive);\n//   }\n//   return (\n//     <div className=\"setting\">\n//       {question}\n//       <div className=\"switch-wrapper\">\n//         <p>Public</p>\n//         <Switch\n//           checked={true}\n//           onChange={()=>{console.log('switched')}}\n//           color=\"primary\"\n//           name=\"checked\"\n//           inputProps={{ 'aria-label': 'primary checkbox' }}\n//         />\n//         <p>Private</p>\n//       </div>\n//     </div>\n//   )\n// }\n\nfunction mapStateToPropsMS(state, ownProps) {\n  return {\n    numMembers: state.gameData.members.length,\n    ...ownProps\n  };\n}\n\nfunction MafiaSettings(props) {\n  const { showPrivacy, isLobbyPrivate } = props;\n\n  const [dayTimeLimit, setDayTimeLimit] = useState(store.getState().gameData.settings.mafia.dayTimeLimit);\n  const [nightTimeLimit, setNightTimeLimit] = useState(store.getState().gameData.settings.mafia.nightTimeLimit);\n  const [defenseTimeLimit, setDefenseTimeLimit] = useState(store.getState().gameData.settings.mafia.defenseTimeLimit);\n  const [numMafia, setNumMafia] = useState(store.getState().gameData.settings.mafia.numMafia);\n\n  const dayTimeMessage = isValidDayTimeLimit(dayTimeLimit);\n  const isValidNightTime = isValidTimeLimit(nightTimeLimit);\n  const isValidDefenseTime = isValidTimeLimit(defenseTimeLimit);\n  const mafiaMessage = isValidMafia(numMafia);\n\n  const allValid = !dayTimeMessage && isValidNightTime && isValidDefenseTime && !mafiaMessage;\n  \n  const settings = {\n    isPrivate: isLobbyPrivate, \n    mafia: {\n      dayTimeLimit, \n      nightTimeLimit,\n      defenseTimeLimit,\n      numMafia,\n      allowJoker: false,\n      allowSK: false,\n    }\n  };\n  return (\n    <>\n      <div className=\"settings-wrapper mafia-settings\">\n        { showPrivacy ? <PrivateSwitch /> : ''}\n\n        <TimeLimit time={dayTimeLimit} setTime={setDayTimeLimit} validTime={!dayTimeMessage}>\n          <h3>How long is the day phase?</h3>\n          <FormHelperText>{dayTimeMessage}</FormHelperText>\n          <h6>A negative value will have day time continue until everyone abstains or someone is killed.</h6>\n        </TimeLimit>\n\n        <TimeLimit time={nightTimeLimit} setTime={setNightTimeLimit} validTime={isValidNightTime}>\n          <h3>How long is the night phase?</h3>\n          <FormHelperText>Must be an integer at most {MAX_TIME}</FormHelperText>\n        </TimeLimit>\n\n        <TimeLimit time={defenseTimeLimit} setTime={setDefenseTimeLimit} validTime={isValidDefenseTime}>\n          <h3>How long is the defense?</h3>\n          <FormHelperText>Must be an integer at most {MAX_TIME}</FormHelperText>\n        </TimeLimit>\n\n        <TimeLimit time={numMafia} setTime={setNumMafia} validTime={!mafiaMessage} quantity>\n          <h3>How many mafia are there?</h3>\n          <FormHelperText>{mafiaMessage}</FormHelperText>\n          <h6>A negative value will have the server pick an optimal number of mafia.</h6>\n        </TimeLimit>\n\n      </div>\n      <SubmitSettings isValid={allValid} settings={settings}/>\n    </> \n  )\n}\n\n\nconst SubscribedMafiaSettings = connect(mapStateToPropsMS)(MafiaSettings);\nexport default SubscribedMafiaSettings;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {SettingsItem, SettingsName, SettingsValue} from '../settingsView';\r\nfunction mapStateToProps(state) {\r\n  const {settings} = state.gameData;\r\n  \r\n  return {\r\n    time: settings.spyfall.time,\r\n    gameType: settings.spyfall.gameType,\r\n  };\r\n}\r\nfunction SpyfallView(props) {\r\n  const { time, gameType } = props;\r\n  return (\r\n    <div className=\"settings-list\">\r\n      <SettingsItem>\r\n        <SettingsName>Time Length</SettingsName>\r\n        <SettingsValue>{`${time} minutes`}</SettingsValue>\r\n      </SettingsItem>\r\n      <SettingsItem>\r\n        <SettingsName>Game Type</SettingsName>\r\n        <SettingsValue>{gameType}</SettingsValue>\r\n      </SettingsItem>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst SubscribedSpyfallView = connect(mapStateToProps)(SpyfallView);\r\nexport default SubscribedSpyfallView;","import React, {useState} from 'react';\nimport {connect} from 'react-redux';\nimport FormControl from '@material-ui/core/FormControl';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport Input from '@material-ui/core/Input';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\n\nimport SubmitSettings from 'Games/Settings/submitSettings';\nimport PrivateSwitch from '../privateSwitch';\nimport store from 'Games/redux-store';\n\nimport './spyfallSettings.scss';\n\nconst MAX_SPYFALL_TIME = 100;\nexport function isValidTime(time) {\n  return /^\\d+$/.test(time) && Number.parseInt(time) < MAX_SPYFALL_TIME;\n}\n\nconst mapStateToPropsTL = (state, ownProps) => {\n  return {...ownProps};\n}\nfunction TimeLimit(props) {\n  const { time, validTime, setTime } = props;\n  let error = !validTime;\n\n  function handleChange(e) {\n    setTime(e.target.value);\n  }\n  return (\n    <div className=\"setting\">\n      <h3>How long is the game?</h3>\n      <FormControl error={error}>\n        <Input\n          className=\"time-input\"\n          id=\"standard\"\n          label=\"Time\"\n          value={time}\n          onChange={handleChange}\n          endAdornment={<InputAdornment position=\"end\">min</InputAdornment>}\n        />\n        {\n          error\n          ? <FormHelperText id=\"component-error-text\">Must be an integer less than {MAX_SPYFALL_TIME}</FormHelperText>\n          : ''\n        }\n      </FormControl>\n      \n    </div>\n  );\n}\nconst SubscribedTimeLimit = connect(mapStateToPropsTL)(TimeLimit);\n\nfunction mapStateToPropsGTS(state, ownProps) {\n  return {...ownProps};\n}\nfunction GameTypeSelector(props) {\n  const { gameType, setGameType } = props;\n  function handleChange(e) {\n    setGameType(e.target.value);\n  }\n  return (\n    <div className=\"setting\">\n      <h3>What category are the options?</h3>\n      <FormControl>\n        <Select\n          className=\"game-type-input\"\n          value={gameType}\n          onChange={handleChange}\n          inputProps={{ 'aria-label': 'Game Type' }}\n        >\n          <MenuItem value=\"Locations\">Locations</MenuItem>\n          <MenuItem value=\"Foods\">Foods</MenuItem>\n          <MenuItem value=\"Animals\">Animals</MenuItem>\n        </Select>\n        <FormHelperText>Game Type</FormHelperText>\n      </FormControl>\n    </div>\n  )\n}\nconst SubscribedGameTypeSelector = connect(mapStateToPropsGTS)(GameTypeSelector);\n\nexport default function SpyfallSettings(props) {\n  const { showPrivacy, isLobbyPrivate } = props;\n  const [time, setTime] = useState(store.getState().gameData.settings.spyfall.time);\n  const [gameType, setGameType] = useState(store.getState().gameData.settings.spyfall.gameType);\n  let validTime = isValidTime(time);\n\n  const settings = {\n    isPrivate: isLobbyPrivate,\n    spyfall: {\n      time,\n      gameType,\n    },\n  };\n  return (\n    <>\n      <div className=\"settings-wrapper spyfall-settings\">\n        { showPrivacy ? <PrivateSwitch /> : ''}\n        <SubscribedTimeLimit time={time} setTime={setTime} validTime={validTime}/>\n        <SubscribedGameTypeSelector gameType={gameType} setGameType={setGameType}/>\n      </div>\n      <SubmitSettings isValid={validTime} settings={settings}/>\n    </> \n  )\n}\n","import React from 'react';\nimport Paper from '@material-ui/core/Paper';\n\nimport MafiaView from './MafiaSettings/mafiaView';\nimport MafiaSettings from './MafiaSettings/mafiaSettings';\nimport SpyfallView from './SpyfallSettings/spyfallView';\nimport SpyfallSettings from './SpyfallSettings/spyfallSettings';\nimport store from 'Games/redux-store';\n\nimport './settingsBoard.scss';\nimport { connect } from 'react-redux';\n\nfunction renderCurrentSettings(GameView) {\n  return <GameView />\n}\n\nfunction renderEditSettings(GameSettings, showPrivacy) {\n  return <GameSettings showPrivacy={showPrivacy} isLobbyPrivate={store.getState().gameData.settings.isPrivate} />;\n}\n\nfunction mapStateToProps(state) {\n  const isUpdating = state.gameData.isUpdating;\n  return {\n    isUpdating,\n  };\n}\n\nfunction renderStatusMessage(isUpdating, canEdit) {\n  if (canEdit) {\n    if(isUpdating) {\n      return <h3 className=\"status\">Updating...</h3>;\n    }\n    return <h3 className=\"status fade-out\">Updated</h3>;\n  }\n  return '';\n}\n\nfunction SettingsBoard(props) {\n  const { canEdit, isUpdating } = props;\n  const { gamename } = store.getState().gameCredentials;\n  let GameSettings = undefined;\n  let GameView = undefined; \n  switch(gamename) {\n    case 'spyfall': {\n      GameSettings = SpyfallSettings;\n      GameView = SpyfallView; \n      break;\n    }\n    case 'mafia': {\n      GameSettings = MafiaSettings;\n      GameView = MafiaView;\n      break;\n    }\n    default: {\n      throw new Error('Not accepted game type');\n    }\n  }\n  return (\n    <Paper className=\"board-wrapper settings-board-wrapper\">\n      <div className=\"settings-header\">\n        <h1>Game Settings</h1>\n        {renderStatusMessage(isUpdating, canEdit)}\n      </div>\n      <div className=\"room-settings\">\n        {\n          canEdit \n          ? renderEditSettings(GameSettings, false)\n          : renderCurrentSettings(GameView)\n        }\n      </div>\n    </Paper>\n  );\n}\n\nconst SubscribedSettingsBoard = connect(mapStateToProps)(SettingsBoard);\nexport default SubscribedSettingsBoard;\n","import React from 'react';\nimport Paper from '@material-ui/core/Paper';\nimport store from 'Games/redux-store';\nimport './rulesBoard.scss';\n\nconst SpyfallRules = \n<ul>\n  <li>The spy, at any time, can reveal they are a spy and try and guess the location. If they are correct, they win! Otherwise, the players win. </li> \n  <li>Additionally, at any time, or after the round end timer goes off, any member can accuse a player of being a spy. \n  When this happens, a vote is made to see if every other player agrees with the accusation. \n  When voting, each player may also give a reason for their vote, or any other statement they may like.  \n  In a mid-round vote every player must agree unanimously for the accusation to stand, at which point the player is revealed. \n  If they are a spy, the team wins, if not, the spy wins. </li>\n  <li>If the game makes it to the end, the spy still may come forward before end-game voting is called to guess the location, at which point the same rules apply. \n  Once the final bell rings and players are called to vote, however, it is too late for the spy to win by guessing the location. </li>\n  <li>At the end of the game, the player with the most votes is revealed, if they are a spy, the team wins. If they are not, the spy wins!</li>\n</ul>\n\n\nconst MafiaRules = \n<ul>\n  <li>Require a minimum of 3 players.</li>\n  <li>\n    During the day, you may discuss and vote on a player to kill. \n    If an absolute majority votes for a single player (that is, at minimum, half of all remaining members) they will be put on trial. \n    They will be allowed to defend themselves (for the length of duration as specified by DefenseTimeLimit). \n    Afterwards, players can choose to decide whether that player is killed. \n  </li>\n  <li>For this second round of voting, a SIMPLE majority is sufficient (more Guilty votes than Not Guilty Vote) to kill the player. Choosing to ignore voting will allow the larger side to win!</li>\n  <li>There is a chat box provided for convenience. </li>\n  <li>Note: For the chatbox, during the day, EVERYONE can see your messages. At night, only you can see your messages (UNLESS you are mafia, in which case all mafia communicate at night)</li>\n  <li></li>\n</ul>\n\nfunction pickRules() {\n  const gamename = store.getState().gameCredentials.gamename;\n  switch(gamename) {\n    case 'mafia': {\n      return MafiaRules;\n    }\n    default: {\n      return SpyfallRules;\n    }\n  }\n}\nexport default function RulesBoard() {\n  return (\n    <Paper className=\"board-wrapper rules-board-wrapper\">\n      <div className=\"settings-header\">\n        <h1>Rules</h1>\n      </div>\n      {pickRules()}\n    </Paper>\n  )\n}","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport Grid from \"@material-ui/core/Grid\";\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport RefreshIcon from '@material-ui/icons/Refresh';\n\nimport Loading from 'components/Loading/loading';\nimport MyInput from './RoomInfoComponents/myInput';\nimport SubmitSettings from '../Settings/submitSettings';\nimport { joinRoom, getAvailableRooms, startGame } from '../socketHandlers';\nimport PrivateSwitch from 'Games/Settings/privateSwitch';\nimport SettingsBoard from 'Games/Settings/settingsBoard';\nimport RulesBoard from 'Games/Rules/rulesBoard';\n\nimport { lobbyStates } from 'Games/redux-store/actions/gameSetupActions';\n\n\nfunction mapStateToPropsRI(state) {\n  const gd = state.gameData;\n  const gc = state.gameCredentials;\n  return {\n    username: gc.username,\n    gamename: gc.gamename,\n    isConnected: gc.isConnected,\n    selectedChoice: gd.selectedChoice,\n    isLoadingRoom: gd.isLoadingRoom,\n    members: gd.members,\n    spectators: gd.spectators,\n    isSpectator: gd.isSpectator,\n    roomId: gd.roomId,\n    myIndex: gd.myIndex,\n    rooms: gd.rooms,\n  };\n}\n\nfunction renderMembers(members, myIndex, spectators, isSpectator) {\n  if (members.length === 0) {\n    return (\n      <div className=\"members\">\n        <h3>Share your room id to let others join!</h3>\n      </div>\n    );\n  }\n  return (\n    <div className=\"members\">\n      <h3 className=\"others\">Other players</h3>\n      {\n        members.map((m, index) => {\n          if (index === 0) {\n            return '';\n          }\n          else {\n            return (\n              <h4 \n                className={index === myIndex && !isSpectator ? \"my-name\" : \"\"}\n                key={`${m}${index}`}>\n                  {m}\n              </h4>\n            );\n          }\n        })\n      }\n      {\n        spectators.length > 0 \n        ? (<>\n          <h3 className=\"others spectators\">Spectators</h3>\n          {\n            spectators.map((spectator, index) => {\n              return (\n                <h4 \n                className={index === myIndex && isSpectator ? \"my-name\" : \"\"}\n                key={`${spectator}${index}`}>\n                  {spectator}\n                </h4>\n              );\n            })\n          }\n          </>)\n        : ''\n      }\n      \n    </div>\n  );\n}\n\nfunction renderAvailableRooms(rooms, isLoadingRoom) {\n  if (isLoadingRoom) {\n    return <Loading />;\n  }\n  if (rooms.length === 0) {\n    return <h3 className=\"no-avail-rooms\">Sorry. No other rooms were found at this time.</h3>\n  }\n  return rooms.map(room => {\n    return (\n      <Grid item key={room.hostname} xs={12} className=\"room\">\n        <Button className=\"data\" onClick={()=>{joinRoom(room.roomId)}}>\n          <h3 className=\"left\">\n            Host: &nbsp;\n            <span className=\"bold\">{room.hostname}</span>\n          </h3>\n          <h3 className=\"right\">\n            Number of Players: &nbsp;\n            <span className=\"bold\">{room.numPlayers}</span>\n          </h3>\n        </Button>\n      </Grid>\n    )\n  })\n}\n\nfunction renderStartButton(canEdit, numMembers) {\n  if (canEdit) {\n    if (numMembers > 0) {\n      return (\n        <Button variant=\"contained\" onClick={startGame} className=\"host-control-panel\">\n          Play\n        </Button>\n      );\n    }\n    else {\n      return <h4 className=\"ask-host\">Invite friends to your lobby to start!</h4>;\n    }\n  }\n  else {\n    return <h4 className=\"ask-host\">Ask the host to start the game!</h4>;\n  }\n}\n\nfunction RoomInfo(props) {\n  const { isConnected, selectedChoice, roomId, members, spectators, isSpectator, myIndex, rooms, isLoadingRoom } = props;\n  if (!isConnected || !selectedChoice) { return \"\"; }\n\n  function copyToClipboard(e) {\n    navigator.clipboard.writeText(roomId);\n  }\n\n  if (selectedChoice === lobbyStates.CREATE) {\n    return (\n      <div className=\"room-settings\">\n        <div className=\"settings-wrapper\">\n          <PrivateSwitch />\n          <SubmitSettings isValid />\n        </div>\n      </div>\n    );\n  }\n  else if(selectedChoice === lobbyStates.JOIN) {\n    return (\n      <div className=\"room-list\">\n        <div className=\"input\">\n          <h4>Enter the room id you would like to join:</h4>\n          <MyInput />\n        </div>\n        <div className=\"refresh-row\">\n          <h4>Otherwise, click on one of the available rooms to join.</h4>\n          <IconButton color=\"primary\" aria-label=\"refresh\" \n            onClick={getAvailableRooms}>\n            <RefreshIcon />\n          </IconButton>\n        </div>\n        <Grid container spacing={3} className=\"rooms-wrapper\">\n          { renderAvailableRooms(rooms, isLoadingRoom) }\n        </Grid>\n      </div>\n    );\n  }\n  else {\n    let hostClass = \"\";\n    let canEdit = selectedChoice === lobbyStates.CREATED;\n    if (canEdit) {\n      hostClass = \"my-name\";\n    }\n    return (\n      <div className=\"room-info\">\n        <SettingsBoard canEdit={canEdit}/>\n        <div className=\"room-title\">\n          <h2>Host: <span className={hostClass}>{members[0]}</span></h2>\n          <h2>Room id: <span className=\"roomId\" onClick={copyToClipboard}>{roomId}</span></h2>\n        </div>\n        <RulesBoard />\n        {renderStartButton(canEdit, members.length)}\n        {renderMembers(members, myIndex, spectators, isSpectator)}\n      </div>\n    );\n  }\n}\n\n\nconst SubscribedRoomInfo = connect(mapStateToPropsRI)(RoomInfo);\nexport default SubscribedRoomInfo;","import React from 'react';\nimport { connect } from 'react-redux';\nimport Button from '@material-ui/core/Button';\n\nimport Loading from 'components/Loading/loading';\nimport { setSelectedChoiceAndLoadingRoom } from 'Games/redux-store/actions/gameSetupActions';\nimport { getAvailableRooms, ejectFromRoom } from '../socketHandlers';\nimport { lobbyStates } from 'Games/redux-store/actions/gameSetupActions';\n\nfunction setDisableProps(obj) {\n  obj.className += \" disabled\";\n  obj.variant = \"outlined\";\n}\n\nfunction ConnectedChoices(props) {\n  const { isConnected, selectedChoice, handleSelect } = props;\n  if (!isConnected) { return <Loading />; }\n\n  const createButtonProps = {\n    variant: \"contained\",\n    className: \"button\",\n    onClick: () => handleSelect(lobbyStates.CREATE),\n  };\n  const joinButtonProps = {\n    variant: \"contained\",\n    className: \"button\",\n    onClick: () => handleSelect(lobbyStates.JOIN),\n  };\n\n\n  if (selectedChoice === lobbyStates.CREATE || selectedChoice === lobbyStates.CREATED) {\n    setDisableProps(joinButtonProps);\n    createButtonProps.disableRipple = true;\n  }\n  else if (selectedChoice === lobbyStates.JOIN || selectedChoice === lobbyStates.JOINED) {\n    setDisableProps(createButtonProps);\n    joinButtonProps.disableRipple = true;\n  }\n  return (\n    <div className=\"connected-choices\">\n      <Button \n        color=\"primary\"\n        disableElevation\n        {...createButtonProps}\n        >Create Room</Button>\n      <Button \n        color=\"primary\"\n        disableElevation\n        {...joinButtonProps}\n        >Join Room</Button>\n    </div>\n  );\n}\n\nfunction mapStateToPropsCC(state) {\n  return {\n    isConnected: state.gameCredentials.isConnected,\n    selectedChoice: state.gameData.selectedChoice,\n  }\n}\n\nfunction mapDispatchToPropsCC(dispatch) {\n  return {\n    handleSelect: (e) => {\n      if(e === lobbyStates.CREATE) {\n        ejectFromRoom();\n      }\n      if(e === lobbyStates.JOIN) {\n        getAvailableRooms();\n      }\n      dispatch(setSelectedChoiceAndLoadingRoom(e));\n    }\n  }\n}\nconst SubscribedConnectedChoices = connect(mapStateToPropsCC, mapDispatchToPropsCC)(ConnectedChoices);\nexport default SubscribedConnectedChoices;","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport Testing from 'pages/testing'\r\nimport Games from 'Games/games';\r\nimport Spyfall from 'Games/Spyfall';\r\nimport Mafia from 'Games/Mafia';\r\nimport WaitingRoom from 'Games/WaitingRoom/waitingRoom';\r\nimport store from 'Games/redux-store';\r\n\r\nfunction ComebackGame(props) {\r\n  const { match: {params}} = props;\r\n  return (\r\n    <div>\r\n      <h1>\r\n        <span style={{textTransform: \"uppercase\"}}>{params.name}</span> is not yet built. Come back soon.\r\n        </h1>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst routes = [\r\n  {\r\n    path: '/testing',\r\n    component: Testing,\r\n  },\r\n  {\r\n    path: '/testcomponent',\r\n    component: Testing,\r\n  },\r\n  {\r\n    path: '/games/mafia/play',\r\n    component: Mafia,\r\n  },\r\n  {\r\n    path: '/games/spyfall/play',\r\n    component: Spyfall,\r\n  },\r\n  {\r\n    path: '/games/:name',\r\n    component: WaitingRoom,\r\n  },\r\n  {\r\n    path: '/games',\r\n    component: Games,\r\n  },\r\n  {\r\n    path: undefined, \r\n    component: ComebackGame\r\n  }\r\n]\r\n\r\nexport default function GamesJourney({ match }) {\r\n  const base = match.url;\r\n  return (\r\n    <Provider store={store}>\r\n      <Switch>\r\n        {\r\n          routes.map(( {path, component }) => <Route key={path ? path : 'undefined'} path={`${base}${path}`} component={component} /> )\r\n        }\r\n      </Switch>\r\n    </Provider>\r\n  )\r\n}","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport {Redirect} from 'react-router-dom';\n\nimport './waitingRoom.scss';\n\nimport BackToGameSelect from 'Games/components/BackToGameSelect/backToGameSelect';\nimport RoomInfo from './roomInfo';\nimport ConnectedChoices from './connectedChoices';\nimport { clearRoomInfo } from 'Games/redux-store/actions/gameSetupActions';\nimport { connectToServer } from '../socketHandlers';\nimport store, { saveState } from 'Games/redux-store';\nimport {gamesJourney} from 'constants/constants';\n\n// const storageType = sessionStorage;\n\nfunction mapStateToPropsWR(state) {\n  const { gamename, username, isConnected } = state.gameCredentials\n  return {\n    gamename,\n    username,\n    isConnected,\n    isPlaying: state.gameData.isPlaying,\n  };\n}\n\nfunction WaitingRoom(props) {\n  const { gamename, username, isConnected, isPlaying } = props;\n  \n  useEffect(() => {\n    if (!isConnected && (process.env.NODE_ENV === 'production' || process.env.REACT_APP_DESIGN === 'false')) {\n      connectToServer();\n    }\n  }, [isConnected, username]);\n\n  useEffect(() => {\n    saveState(store.getState());\n  }, [username]);\n\n  if(!gamename) {\n    store.dispatch(clearRoomInfo());\n    return <Redirect to={`${gamesJourney}/games`} />;\n  }\n\n  if (isPlaying) {\n    // storageType.setItem('gameData', JSON.stringify(store.getState().gameData));\n    return (\n      <Redirect to={`${gamesJourney}/games/${gamename}/play`} />\n    );\n  }\n\n  return (\n    <div className=\"wrapper waiting-room-wrapper\">\n      <div className=\"header\">\n        <div className=\"header-row\">\n          <BackToGameSelect/>\n          <h1>Play {gamename}</h1>\n        </div>\n        <h3>Your name is: {username}</h3>\n      </div>\n      <ConnectedChoices />\n\n      <RoomInfo\n        username={username}\n      />\n    </div>\n  );\n}\n\n\nconst SubscribedWaitingRoom = connect(mapStateToPropsWR)(WaitingRoom);\nexport default SubscribedWaitingRoom;","import React from 'react';\r\nimport { HashRouter, Route, Switch, Redirect } from 'react-router-dom';\r\n\r\nimport LandingPage from 'pages/LandingPage';\r\nimport About from 'pages/AboutJourney';\r\nimport GamesJourney from 'pages/GamesJourney';\r\nimport {gamesJourney} from 'constants/constants';\r\n\r\nimport './App.css';\r\n\r\nimport { ThemeProvider } from '@material-ui/core';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport green from '@material-ui/core/colors/green';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: blue,\r\n    secondary: green,\r\n  },\r\n  status: {\r\n    danger: 'orange',\r\n  },\r\n});\r\n\r\nfunction App() {  \r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n    <HashRouter basename=\"/\">\r\n      <Switch>\r\n        <Route exact path=\"/\" component={LandingPage} />\r\n        <Route path={gamesJourney} component={GamesJourney} />\r\n        <Route path=\"/about-me\" component={About} />\r\n        \r\n        <Route>\r\n          <Redirect to=\"/\" />\r\n        </Route>\r\n      </Switch>\r\n    </HashRouter>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}