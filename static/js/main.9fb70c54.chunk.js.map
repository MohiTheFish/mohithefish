{"version":3,"sources":["assets/images/dead.png","components/Loading/loading.jsx","pages/testing.jsx","pages/MainPage/mainPage.jsx","redux-store/actions/nameActions.js","redux-store/reducers/nameReducers.js","redux-store/actions/gameSetupActions.js","redux-store/actions/spyfallActions.js","redux-store/reducers/gameReducers.js","redux-store/reducers/playReducers.js","redux-store/actions/mafiaActions.js","redux-store/reducers/index.js","redux-store/index.js","Games/socketHandlers.js","pages/games.jsx","components/BackToLobby/backToLobby.jsx","Games/Spyfall/spyfall.jsx","Games/Spyfall/index.jsx","Games/Mafia/components/role.jsx","Games/Mafia/components/player.jsx","Games/Mafia/components/eventRecap.jsx","Games/Mafia/components/eventRecapInput.jsx","Games/Mafia/components/roleCount.jsx","Games/Mafia/components/court.jsx","Games/Mafia/mafia.jsx","Games/Mafia/index.jsx","components/BackToGameSelect/backToGameSelect.jsx","Games/WaitingRoom/RoomInfoComponents/myInput.jsx","Games/Settings/submitSettings.jsx","Games/Settings/privateSwitch.jsx","Games/Settings/settingsView.jsx","Games/Settings/MafiaSettings/mafiaView.jsx","Games/Settings/MafiaSettings/mafiaSettings.jsx","Games/Settings/SpyfallSettings/spyfallView.jsx","Games/Settings/SpyfallSettings/spyfallSettings.jsx","Games/Settings/settingsBoard.jsx","Games/Rules/rulesBoard.jsx","Games/WaitingRoom/roomInfo.jsx","Games/WaitingRoom/connectedChoices.jsx","Games/WaitingRoom/waitingRoom.jsx","App.js","serviceWorker.js","index.js"],"names":["module","exports","Loading","className","MainPage","useState","count","setCount","email","setEmail","number","setNumber","imageName","setImageName","useEffect","a","fetch","method","headers","then","res","json","image","response","document","title","fetchData","onClick","type","value","onChange","e","target","src","alt","to","setIsConnected","isConnected","storageType","sessionStorage","initialState","username","gamename","isUpdatingName","userId","getItem","uuid","setItem","existUserId","lobbyStates","addNameSpyfall","index","game","data","removeNameSpyfall","process","REACT_APP_DESIGN","selectedChoice","myIndex","isLoadingRoom","numPlayers","members","roomId","rooms","isPlaying","isUpdating","settings","isPrivate","spyfall","time","gameType","mafia","dayTimeLimit","nightTimeLimit","defenseTimeLimit","numMafia","allowSK","allowJoker","selectedLocations","Map","selectedNamesByIndex","Set","spyIndex","locations","secretLocation","phase","roleCount","chatHistory","mafiaReducers","state","action","gameState","audience","message","newChatHistory","filter","item","length","push","spyfallReducers","clonedNames","add","Object","assign","delete","clonedLocations","oldVal","get","set","combineReducers","gameCredentials","name","gameData","newSettings","deletedIndex","newState","m","playState","defaultState","initialGameData","initialGameCredentialState","initialPlayState","store","createStore","MohiApp","JSON","parse","myState","loadState","saveState","socket","prevGame","events","invalidSocket","Error","removePrevEventListeners","newSocket","forEach","event","off","addMafiaEventListeners","on","dispatch","updateMainMafiaTime","chatUpdated","connectToServer","console","log","uid","getState","io","connect","reconnection","reconnectionDelay","reconnectionDelayMax","reconnectionAttempts","emit","setUserName","roomInfo","hostname","roomSettingsUpdated","updateSpyfallTime","addSpyfallEventListeners","startSpyfall","startMafia","playerLeft","getSpecificGameSettings","smallSettings","getAvailableRooms","ejectFromRoom","joinRoom","targetRoom","trim","startGame","allGames","SubscribedGames","gc","setGameInfo","updateMyName","props","setName","Boolean","TextField","id","label","variant","helperText","map","val","Button","key","color","disabled","goBack","BackToLobby","IconButton","aria-label","getDescriptor","Spyfall","gd","ps","isSpy","getValues","obj","locationSelectHandler","textContent","headerRow","role","minutes","Math","floor","seconds","toString","padStart","renderTime","addCall","removeCall","isSelected","has","callback","selectClass","getSelectedClassN","getSelectedClassL","RoleCard","isMini","setIsMini","Icon","ExpandMoreIcon","ExpandLessIcon","rwclass","aliveStatus","deadStatus","PlayerCard","member","isMe","isAlive","otherProps","playerClass","deadimg","renderInteraction","SubscribedEventRecap","useLayoutEffect","element","getElementById","scrollTo","scrollHeight","messageList","phaseText","interpretPhase","Fragment","messageItem","messageClass","TextInput","setMessage","submit","sendMafiaMessage","FormControl","Input","onKeyPress","which","keyCode","endAdornment","InputAdornment","position","children","size","onMouseDown","preventDefault","edge","RoleName","RoleValue","RoleItem","RoleCount","Court","onTrial","Column3","isDay","Column1","renderMembers","handlePlayerClick","Mafia","gameObj","theme","BackToGameSelect","setRoomId","InputLabel","htmlFor","OutlinedInput","labelWidth","SubscribedSubmitSettings","ownProps","setIsUpdating","isValid","isCreating","createRoomWithSettings","updateRoomSettings","SubscribedPrivateSwitch","handleSwitch","Switch","checked","inputProps","SettingsItem","SettingsName","SettingsValue","SubscribedMafiaView","isValidTimeLimit","test","Number","parseInt","TimeLimit","validTime","setTime","quantity","question","errormsg","explanation","error","SubscribedMafiaSettings","numMembers","num","showPrivacy","isLobbyPrivate","setDayTimeLimit","setNightTimeLimit","setDefenseTimeLimit","setNumMafia","isValidDayTime","isValidNightTime","isValidDefenseTime","mafiaMessage","allValid","FormHelperText","SubscribedSpyfallView","SubscribedTimeLimit","SubscribedGameTypeSelector","setGameType","Select","MenuItem","SpyfallSettings","isValidTime","SubscribedSettingsBoard","canEdit","GameSettings","undefined","GameView","SpyfallView","MafiaSettings","MafiaView","Paper","renderStatusMessage","renderEditSettings","renderCurrentSettings","SpyfallRules","RulesBoard","SubscribedRoomInfo","Grid","container","spacing","room","xs","renderAvailableRooms","hostClass","navigator","clipboard","writeText","renderStartButton","setDisableProps","SubscribedConnectedChoices","handleSelect","createButtonProps","joinButtonProps","disableRipple","disableElevation","SubscribedWaitingRoom","stringify","createMuiTheme","palette","primary","blue","secondary","green","status","danger","App","ThemeProvider","basename","exact","path","component","Testing","WaitingRoom","Games","window","location","match","ReactDOM","render","StrictMode","serviceWorker","ready","registration","unregister","catch"],"mappings":"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","file":"static/js/main.9fb70c54.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAhFBMVEX///8AAADb29v8/Pzs7Ox6enrw8PDg4OBWVlb6+vr19fXAwMDa2trT09NNTU3Dw8OIiIgzMzMtLS2mpqZvb2/Jycmvr6+BgYGtra3l5eUJCQmUlJS6urpLS0tjY2NSUlKenp6QkJA8PDwUFBRDQ0NqamogICA4ODgwMDAnJyddXV0QEBDOEClMAAAN4UlEQVR4nN1daWOiMBCt4q3U+7YWtHVb+///39b7zSTkgESg79u6BfIImSszk5cX32g3et3ZelDffgy/D/tVZbU/fA8/tvXBetbtNdren+8VvVn8PqqoMXqPN9W8B5oGzdn8Q8MN8THfNPMesgV6UcuC3APHqAwsO91JKnZX/NT7nbwpqNBYvGahd0Vr1sibiBzt2bsDeleSmyBvOgLCT2f0LpiEeVNCBONvx/xOGC7y5nXDcu6B3gVxLW9yv+htvfE7YZK3AgmN1PrHNh7PumG1uaydsGxWw+5sHG+NLn7vFZnf6jjYhCoF1wk3g9aqqByrau1wjEJTvdYINVbQdumVScKoVLbL+9h++VTHKnNh/nRTJ0oeTHrDS2nyPVd3hIdEetOMt57Wk249fJ6T1U6yX45dF8ZW0E1alHUHdzdBV/74feTOX++sE+TrM0y5QL5Udl3Hz9kMpc+ZO36MiFD6cic+NFYotZa+Pa/GgeyhdV/W41K64CNPTzuhJgsrTXxax03ZPL550419ydOOvq0NqeXkyYxbi0/6eoZs60uUrw/1HxzF54w9PEcGybt1rxob4hJsPS9gtHwTF6PjSE5PfIuuFaAaC+H5e6cSTpQxn8/ecGiIEsehvBkLN++7u7kxZv5GISz013zi0rV/fCAbNzcW7Ji1m/umgOBZOZHmAsGsHmAWbDxQ5ARH+W4qNLnln5lizG64dTHMLGhz1TjLdj8ejondDDMTuIOaSTFzPZvxfTkCf+0ZBAOPV+QpYxD8xad2ikN2o+Lsd3GRmtKFq7l6Ux7AzMifVGZ4wNyyvDeBKKZ0cK9p7vFeZIICxRT+ItP0RfpEL2AfqrWYZ2s5zz28JLAhWs7Bkl5dFDVBQZ06S2lDpUwxFL0I6ta1bC6lhlF+3pIONGJsYYTTL3zib4SZQc1w46XYIZftfI4wK9rEmfo2vYxu3xU6k+6lScY6MLuIRnyKY4zKkWK09BuN/I7PAYhUPJhcQaL3VhI4J5CcOgMXnRpDxV6EF9ClqHekyJ8X05bhILbNm+6vY/xr/5vmbkBSjTRhG2KPGi3bIqCBo16p/5ZsKhddUTxAAjdKI5NEZp6Vn+MCO1PxSLIpy1Sw0zScGqIpiuoyyUEysZP3TnEnu9AGt4gAGX4m/RUJAJdHzFxA7NMktY9TWGSnUI6hfvRkFRa0MEeBqX74KEgNHa1CAS0bqTVGdGEZLG4OLQE0Z8o4hTRKH4n/3dC9geKDTKL437HuKy4BMPIm5tqUW5BegOJUiE6gtk80CQoPDNVzrY+itnj7TKZAL4o5Ubjf+5HP6FygnSxrML3BUbJYLsC0MBpk+lLK2fIA/cS60X9IsJD7VbvI0SDP6Ml9vLk2JWuUMFW4EafZ7p3JF+qr06zvU0qyhOJA7/NgZBE/U2Cu2b85u2FiTPKsa51RrJ5HIlA8pxZoKKJpBl8jxhAj5Q1mcnF7NSYcUaxeh8IoXnMnNNoaN84ev+LUKqPid0eazuJdmTqheBcKK0LxnhyinkX09R8LDuy5keHVOItwuQOK1cfdcBYh+0U5i7h1dt+mQT2pCqeSUMgjC4mkFmUuZiFxwccskvQe5SzCcO7TgAarQpKy/JXbh8oyWjMGIVmay20WWf6SiiIuuZsXCJf/KC5ts1T5C0WWHDbM6lry/NiahKDScsZ3dNulgSiVcv4DCUU2g8PstTosH//0oXKC6j1CcDCusQpUIRqblFWuvgVsBv+5KEbis9iI2Q+aJEIIf39dfsFlqPF9+SwyOJhBGUU7gsTVvfABk+1L+3QVRUcEJYUjNgSJvrgYbmAF6DfUAnmJ9Qkjd5tVilk0yHMFRyk6/wCXm4j6pFn8clkQmEjRJJEXPoGzL7K0vD5hFr/cbjcmUDTKVAbL5Kz9cLvC6OFSceN0Bk+QUjRLxUaz6KSeIYChzdS4QDKLQ/cbxhKKhrnmaIWG9E6mwfyA1x59+GivxiXqyriqAtzdk50ME2JsU/I+AMdUFDTghZ0HY4MQ3s2Abg+b7vuK3VU85L/FwkP2prH4iAwMbTbDlyRrH5OqpEMFkeDvd2pIEYTniG7YmF0v74/jeBZlBI1nEZ3oNlpxZqI0qcOX01mUEzSdRRSmDQz1G9WHSppHuJ9FSZsIq1mEC5r4tkwKRFV91d4z8rojmeCvlWJCEVISpihZDcJIyTN4gqNZVBE0owjzsEHVpt+SYTO467C2gk4ocoI11lvT4EMFK2aME6pVh5xgwJICnXyonOBSDGxoKcI9YswD1+2MMoKXkAWjmHkWY5GgQFE7ixBvm7+s2M2SwTpv3LagGMWMMWGaln4fE6Ook/qgIOooWHVvhnw/j6AToZi5YJ/Wht5fOqGo/VAgtDtBhlqjDew93ESEpeygIwEaWfBVAUX9SgCz7YgM9U+/U6Rhw/ssOmm58JhFsmzuFA0cGXhLr8jQwMm7Uhyyn68UHRUq3sbH5ELdmCAapkOrr/TlSlEM/O4cErxRFARf3ZQgxp72NpLmjEge2d45LQILZQTPFM18bUyeQW1h1jwrGkm/5pHTWtpQrromhsEEYLiyZ/giX66OIzXZbkcY/jz+kUfDZT8g6xD2oorWGCI9wDI6YJD/7zAk2sLGtygNQON/oE+bRyM9P4Dg0xbtvXJVOqkAblAd94Sf1Y7UP8BFmKNLVM4aBBkgtSHCCc2925wzQPBpZh8RLgNAQfRRsJamslkLMNR6ZGemTHWxKtCoPv7rrxg12PU4IBumz21+7A8QiDpFIyAKWtx2SXaIqX6Af5avNFaOLZ00UIh/RZiCKD3txeCyLGfdIQeqh/NOBfz7b/hPGDY//yAkupUdYGpfMr15olvpAdrhUg2Le0o5j80NgM9l0xdzM/6CVYOi8xo+hF/+ghMM7u+t3xB8t14S1J4MSCu8VddgAWnxznC1BaZ53yp48MMtR/8yFTBV/x7Fh9/K2mzgAcg02d9/xEanOY7NDYDLo/QAa7bKbrihyfYIcePiLHtIEZM2QGxCRwVNy7qiA1Oe0QbFbgvllqYoSTFPD/e9y9v34wTM7yXeLjb+KHNMEZ1fap+hf+HHNg2am2hybL2+vR8/17Oep2gCJqbRZFKUpspy7nQIB8LBdKt618PHAhEartlR6TtWidV50sHbn66lGsoZXmmI+XJOCwu6spM9fS0JTJMUsmWxo7K7tBMNP8cccZrEDixYxu6qN+tSd7r8GXtn3yqWY4lb9qQBkZtmX4rTySkcxdpJtwLJ/6NB58KH6qgOg2c4OIkP4RTKMl1JhnX2SaxWrOBg24sQkOboYSp+5pXIT8PSIrvAwSmUf/dkUBnFqTXB7PF2chhswvBR8mWLfvOaguuLXW+6/Wl3E9WlOiRjwhJW7iaFDEkhQBbDplERcJyRpR10JYXMmWwp0lsmsTYGJ1HfQCIZQq13LFn47fEP/7Ms5jhahslGGVk96Zc+b7YSJ5nY/PzbDOZijPdR6B5SH5r2jbLzn/8pntdhReGplyJR9ioDomr6hyrQlgsa44FNY9qQO7EulPnqZP2nW/l0zNpvneqVlJG+jfk9iBRMl7hAnEGD1l/0o061NOjhPxrHmljLaSwb8jqN6qBIp/RUKT2kdle7lvf41yn8GlwRhsmORPbaP5GuC/2JB7T+z/qjIYeXmtrvaOLYv1Ta4s3ASyHn0VnX9aIjHZlehG/V3nHD7rJGooq4wuajvAIdFHPRD/EV60gfqS4125Og3QMtVUa62cBHWrqmqUZLDQ2rpbi0f9oJYgOyNA80F/4Zzj+0bjp1RdoGoQER/Xv9BVfQ87htrDcQNFZ58aAwrEQNbbRiceItLX+30MJgMFiZC4t011EnM7J5Ijlxz6KHeZySYbqaCBqutGuQw04dN179tV71ip5hReoFnft1VfPAIjtE3nKjhy7FQua7sZO5rY+djun1xaugZeG8FM5zq9gUGcE0blDwXWSKjGC6ki0mbQq1FtkatDx1/A4euC7OEfJMDqb/vvrsRkVJteFRyAzHxjCNU5DjS/i+ZKYXz29WhMoovh+QcWMuZrfLPWOqzXunZq5A5yH6Yb7HXQm7Wg4SHTjFXDNQNx4ISihGLu6aCkIrc0epKkIfw1Y+yX1LYdfOmWwf8zvn8qVyLehUP3PVn0NOf0dsu+n0fLiecPvDc6dREDGVg5WLrUfjW3jE5HmrcSm29nXWDvaOQNJ99lntXiQtW70cix6Lz9k941PtChkN3t4t91lO+HS8GgT0uJV2grczKGviYvz9XnyacU1Z4+JXnwJgLnlgZe6L45L37z/DcxXoVPbMytzHt9qT8ht5D6YEn7LnVrauQxx9eX7xU8qyROV7xr+Fu/rTxnovfcbqSWYGz2S6o+5mAP2kxu9PNBWn8lf8a0oNspLsJx4TtHtuOFPRGX4+TSvNGxv5Ij/j6VGwmmIwlePCPoLZi1S1C4M8XFKptfHAdhyajqoxXSedmnGBd8spCdOdcly/yqs+ntZUIjZodtefSYv6hlae+wlajid8vU/W41k3rDZrZyyb1elmEQ22rwf9xZVt3gehh+ojL7KiXoQtr6XyML9MWOcbnH2gE5l8brbYFWOX5IZpkp2TFvW8l5+IzkKtPWywLWr3v9rYqOBQR29T6KZqSsNLj8N8WoYOOeHaovTwgdV2XATVYIigOqurT9aleB1sSsTugXA2eJMFrxBfrXhTpCyPFGg3wu5iPa8fd8Pvw35VWe0Po+HbZ30QzfrVjv9V9x/1456gd0vYhgAAAABJRU5ErkJggg==\"","import React from 'react';\r\n\r\nimport './loading.scss';\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <div className=\"lds-ripple\">\r\n      <div />\r\n      <div />\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport Loading from 'components/Loading/loading';\r\n\r\nexport default function MainPage() {\r\n  const [count, setCount] = useState(0);\r\n  const [email, setEmail] = useState('');\r\n\r\n  const [number, setNumber] = useState(1);\r\n\r\n  const [imageName, setImageName] = useState('');\r\n\r\n  useEffect( () => {\r\n    document.title = \"MohiTheFish\"\r\n    async function fetchData() {\r\n        \r\n      const response = await fetch(\"https://cors-anywhere.herokuapp.com/https://randomfox.ca/floof/?ref=apilist.fun\", \r\n      {\r\n        method: 'GET',\r\n        headers: {\r\n          'content-type': 'application/json'\r\n        }\r\n      }).then(res => res.json())\r\n      .then(res => {\r\n        setImageName(res.image);\r\n      });\r\n      return response;\r\n    }\r\n    fetchData();\r\n  }, [])\r\n\r\n  const handleChange = (e) => {\r\n    setEmail(e.target.value);\r\n  }\r\n  return (\r\n    <div>\r\n      This page is being used to test new features.\r\n      <div>\r\n        <p>You clicked {count} times</p>\r\n        <button onClick={() => setCount(count+1)}>\r\n          Click me\r\n        </button>\r\n      </div>\r\n      <div>\r\n        <input type='text' value={email} onChange={handleChange} />\r\n      </div>\r\n      <div>\r\n        <h1>Pick a movie</h1>\r\n        <select value={number} onChange={e => setNumber(e.target.value)}>\r\n          <option value=\"1\">1</option>\r\n          <option value=\"2\">2</option>\r\n          <option value=\"3\">3</option>\r\n          <option value=\"4\">4</option>\r\n          <option value=\"5\">5</option>\r\n          <option value=\"6\">6</option>\r\n        </select>\r\n      </div>\r\n\r\n      { imageName === '' ? <Loading /> : <img src={imageName} alt=\"A fox\" />}\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './mainPage.scss';\r\n\r\nexport default function MainPage() {\r\n  return (\r\n    <div className=\"main-page-wrapper\">\r\n      <div className=\"intro\">\r\n        <h1>Muhammed Imran</h1>\r\n        <h2>MohiTheFish</h2>\r\n\r\n        <Link to=\"/games\">Click me to see some games.</Link> \r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}","export const SET_IS_CONNECTED = 'SET_IS_CONNECTED'; \r\nexport const SET_GAMENAME = \"SET_GAMENAME\";\r\nexport const SET_USERNAME = \"SET_USERNAME\";\r\nexport const RETURN_TO_GAME_SELECT = \"RETURN_TO_GAME_SELECT\"; \r\n\r\n\r\nexport function setIsConnected(isConnected) {\r\n  return {\r\n    type: SET_IS_CONNECTED,\r\n    isConnected,\r\n  };\r\n}\r\n\r\nexport function setGameName(game) {\r\n  return {\r\n    type: SET_GAMENAME,\r\n    game,\r\n  };\r\n}\r\nexport function setUserName(name) {\r\n  return {\r\n    type: SET_USERNAME,\r\n    name,\r\n  }\r\n}\r\n\r\nexport function returnToGameSelect() {\r\n  return {\r\n    type: RETURN_TO_GAME_SELECT\r\n  };\r\n}\r\n","import {\r\n  SET_IS_CONNECTED,\r\n  SET_GAMENAME,\r\n  SET_USERNAME,\r\n  RETURN_TO_GAME_SELECT,\r\n} from '../actions/nameActions';\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nconst storageType = sessionStorage;\r\n\r\nfunction existUserId() {\r\n  let a = storageType.getItem('userId');\r\n\r\n  if(a) {return a;}\r\n\r\n  a = uuid();\r\n  storageType.setItem('userId', a);\r\n  return a;\r\n}\r\n\r\nexport const initialState = {\r\n  isConnected: false,\r\n  username: \"\",\r\n  gamename: \"\",\r\n  isUpdatingName: false,\r\n  userId: existUserId(),\r\n};\r\n\r\nexport function gameCredentials(state = initialState, action) {\r\n  switch(action.type) {\r\n    case SET_IS_CONNECTED:\r\n      return Object.assign({}, state, {\r\n        isConnected: action.isConnected\r\n      });\r\n    case SET_GAMENAME: {\r\n      return Object.assign({}, state, {\r\n        gamename: action.game,\r\n        isUpdatingName: true,\r\n      });\r\n    }\r\n    case SET_USERNAME: {\r\n      return Object.assign({}, state, {\r\n        isUpdatingName: false,\r\n        username: action.name,\r\n      });\r\n    }\r\n    case RETURN_TO_GAME_SELECT: {\r\n      return {\r\n        gamename: \"\",\r\n        username: state.username,\r\n        userId: state.userId,\r\n        isUpdatingName: state.isUpdatingName,\r\n        isConnected: state.isConnected,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}","export const SET_IS_LOADINGROOM = 'SET_IS_LOADINGROOM';\r\nexport const SET_IS_LOADING_ROOM_SELECTED_CHOICE = \"SET_IS_LOADING_ROOM_SELECTED_CHOICE\";\r\nexport const ROOM_CREATED = \"ROOM_CREATED\";\r\nexport const ROOM_MEMBERS_UPDATED = \"ROOM_MEMBERS_UPDATED\";\r\nexport const SET_SETTINGS_IS_UPDATING = \"SET_SETTINGS_IS_UPDATING\";\r\nexport const ROOM_SETTINGS_UPDATED = \"ROOM_SETTINGS_UPDATED\";\r\nexport const VISIBLE_ROOMS = \"VISIBLE_ROOMS\";\r\nexport const ROOM_JOINED = \"ROOM_JOINED\";\r\nexport const PLAYER_LEFT = \"PLAYER_LEFT\";\r\nexport const SET_IS_PRIVATE = \"SET_IS_PRIVATE\";\r\nexport const GO_BACK_TO_LOBBY = \"GO_BACK_TO_LOBBY\";\r\nexport const CLEAR_ROOM_INFO = \"CLEAR_ROOM_INFO\";\r\n\r\nexport const lobbyStates = {\r\n  CREATE: \"create\",\r\n  JOIN: \"join\",\r\n  CREATED: \"created\",\r\n  JOINED: \"joined\",\r\n};\r\n\r\nexport function setSelectedChoiceAndLoadingRoom(selectedChoice) {\r\n  return {\r\n    type: SET_IS_LOADING_ROOM_SELECTED_CHOICE,\r\n    selectedChoice,\r\n  }\r\n}\r\n\r\nexport function setIsLoadingRoom(isLoadingRoom) {\r\n  return {\r\n    type: SET_IS_LOADINGROOM,\r\n    isLoadingRoom,\r\n  };\r\n}\r\n\r\nexport function roomCreated(data) {\r\n  return {\r\n    type: ROOM_CREATED,\r\n    data,\r\n  };\r\n}\r\n\r\nexport function roomUpdated(data) {\r\n  return {\r\n    type: ROOM_MEMBERS_UPDATED,\r\n    data,\r\n  };\r\n}\r\n\r\nexport function setSettingsIsUpdating() {\r\n  return {\r\n    type: SET_SETTINGS_IS_UPDATING,\r\n  };\r\n}\r\n\r\nexport function roomSettingsUpdated(settings) {\r\n  return {\r\n    type: ROOM_SETTINGS_UPDATED,\r\n    settings,\r\n  };\r\n}\r\n\r\nexport function visibleRooms(data) {\r\n  return {\r\n    type: VISIBLE_ROOMS,\r\n    data,\r\n  }\r\n}\r\n\r\nexport function roomJoined(data) {\r\n  return {\r\n    type: ROOM_JOINED,\r\n    data,\r\n  }\r\n}\r\n\r\nexport function playerLeft(index) {\r\n  return {\r\n    type: PLAYER_LEFT,\r\n    index,\r\n  };\r\n}\r\n\r\nexport function roomPrivacyToggled() {\r\n  return {\r\n    type: SET_IS_PRIVATE,\r\n  };\r\n}\r\n\r\nexport function goBackToLobby() {\r\n  return {\r\n    type: GO_BACK_TO_LOBBY,\r\n  };\r\n}\r\n\r\nexport function clearRoomInfo() {\r\n  return {\r\n    type: CLEAR_ROOM_INFO,\r\n  };\r\n}","export const START_GAME_SPYFALL = \"START_GAME_SPYFALL\";\r\nexport const UPDATE_MAIN_TIME = \"UPDATE_MAIN_TIME\";\r\nexport const HANDLE_LOCATION_SPYFALL = \"HANDLE_LOCATION_SPYFALL\";\r\nexport const ADD_NAME_SPYFALL = \"ADD_NAME_SPYFALL\";\r\nexport const REMOVE_NAME_SPYFALL = \"REMOVE_NAME_SPYFALL\";\r\nexport const CLEAR_SPYFALL_BOARD = \"CLEAR_SPYFALL_BOARD\";\r\n\r\nexport function startSpyfall(gameState) {\r\n  return {\r\n    game: 'spyfall',\r\n    type: START_GAME_SPYFALL,\r\n    gameState, \r\n  };\r\n}\r\n\r\nexport function updateSpyfallTime(time) {\r\n  return {\r\n    game: 'spyfall',\r\n    type: UPDATE_MAIN_TIME,\r\n    time,\r\n  };\r\n}\r\n\r\nexport function handleLocationSpyfall(e) {\r\n  return {\r\n    game: 'spyfall',\r\n    type: HANDLE_LOCATION_SPYFALL,\r\n    data: e.target.textContent,\r\n  };\r\n}\r\n\r\nexport function addNameSpyfall(index) {\r\n  return {\r\n    game: 'spyfall',\r\n    type: ADD_NAME_SPYFALL,\r\n    data: index,\r\n  };\r\n}\r\n\r\nexport function removeNameSpyfall(index) {\r\n  return {\r\n    game: 'spyfall',\r\n    type: REMOVE_NAME_SPYFALL,\r\n    data: index,\r\n  };\r\n}\r\n\r\nexport function clearSpyfallBoard() {\r\n  return {\r\n    game: 'spyfall',\r\n    type: CLEAR_SPYFALL_BOARD,\r\n  }\r\n}","import {\r\n  SET_IS_LOADINGROOM,\r\n  ROOM_CREATED,\r\n  VISIBLE_ROOMS,\r\n  ROOM_MEMBERS_UPDATED,\r\n  ROOM_JOINED,\r\n  PLAYER_LEFT,\r\n  SET_IS_PRIVATE,\r\n  SET_IS_LOADING_ROOM_SELECTED_CHOICE,\r\n  lobbyStates,\r\n  ROOM_SETTINGS_UPDATED,\r\n  SET_SETTINGS_IS_UPDATING,\r\n  CLEAR_ROOM_INFO,\r\n} from '../actions/gameSetupActions';\r\n\r\nimport {\r\n  START_GAME_SPYFALL,\r\n  CLEAR_SPYFALL_BOARD, \r\n} from 'redux-store/actions/spyfallActions';\r\n\r\nimport {\r\n  START_GAME_MAFIA,\r\n  CLEAR_MAFIA_BOARD,\r\n} from 'redux-store/actions/mafiaActions';\r\n\r\nexport const initialState = process.env.REACT_APP_DESIGN === 'true' \r\n? {\r\n  selectedChoice: lobbyStates.CREATED,\r\n  myIndex: 0,\r\n  isLoadingRoom: false,\r\n  numPlayers: 4,\r\n  members: [\"Mohitheifhs\", \"other guy\", \"nobody\", 'zendaya', 'is', 'my', 'queen', 'zendaya', 'is', 'my', 'queen'],\r\n  roomId: \"fwef98c09we-89w-efcab-aew-9gfw\",\r\n  rooms: [],\r\n  isPlaying: false,\r\n  isUpdating: false,\r\n  settings: {\r\n    isPrivate: true,\r\n    spyfall: {\r\n      time: \"8\", // minutes\r\n      gameType: \"Locations\",\r\n    },\r\n    mafia: {\r\n      dayTimeLimit: 300, //seconds\r\n      nightTimeLimit: 60, //seconds\r\n      defenseTimeLimit: 25, //seconds\r\n      numMafia: -1,\r\n      allowSK: false,\r\n      allowJoker: false,\r\n    }\r\n  }\r\n}\r\n: {\r\n  selectedChoice: \"\",\r\n  myIndex: 0,\r\n  isLoadingRoom: false,\r\n  numPlayers: 1,\r\n  members: [],\r\n  roomId: \"\",\r\n  rooms: [],\r\n  isPlaying: false,\r\n  isUpdating: false,\r\n  settings: {\r\n    isPrivate: true,\r\n    spyfall: {\r\n      time: \"8\", // minutes\r\n      gameType: \"Locations\"\r\n    },\r\n    mafia: {\r\n      dayTimeLimit: 300, //seconds\r\n      nightTimeLimit: 60, //seconds\r\n      defenseTimeLimit: 25, //seconds\r\n      numMafia: -1,\r\n      allowSK: false,\r\n      allowJoker: false,\r\n    }\r\n  }\r\n}\r\n\r\nexport function gameData(state = initialState, action) {\r\n  switch(action.type) {\r\n    case SET_IS_LOADING_ROOM_SELECTED_CHOICE: {\r\n      return Object.assign({}, state, {\r\n        selectedChoice: action.selectedChoice,\r\n      });\r\n    }\r\n    case SET_IS_LOADINGROOM:\r\n      return Object.assign({}, state, {\r\n        isLoadingRoom: action.isLoadingRoom\r\n      });\r\n    case ROOM_CREATED: {\r\n      const { members, roomId } = action.data;\r\n      return Object.assign({}, state, {\r\n        members: members,\r\n        roomId: roomId,\r\n        myIndex: members.length-1,\r\n        selectedChoice: lobbyStates.CREATED,\r\n      });\r\n    }\r\n    case ROOM_MEMBERS_UPDATED: {\r\n      const { members, roomId } = action.data;\r\n      return Object.assign({}, state, {\r\n        members: members,\r\n        roomId: roomId,\r\n        myIndex: state.myIndex,\r\n      });\r\n    }\r\n    case ROOM_SETTINGS_UPDATED: {\r\n      const newSettings = action.settings.settings;\r\n\r\n      return Object.assign({}, state, {\r\n        settings: newSettings,\r\n        isUpdating: false,\r\n      });\r\n    }\r\n    case SET_SETTINGS_IS_UPDATING: {\r\n      return Object.assign({}, state, {\r\n        isUpdating: true,\r\n      });\r\n    }\r\n    case VISIBLE_ROOMS: {\r\n      return Object.assign({}, state, {\r\n        rooms: action.data.rooms,\r\n        isLoadingRoom: false, \r\n      });\r\n    }\r\n    case ROOM_JOINED: {\r\n      const { members, roomId, settings: newSettings } = action.data;\r\n      return Object.assign({}, state, {\r\n        members: members,\r\n        roomId: roomId,\r\n        myIndex: members.length-1,\r\n        selectedChoice: lobbyStates.JOINED,\r\n        settings: newSettings,\r\n      });\r\n    }\r\n    case PLAYER_LEFT: {\r\n      const { members, myIndex } = state;\r\n      const { index: deletedIndex } = action;\r\n      const newState = {\r\n        myIndex,\r\n        members: [],\r\n      };\r\n\r\n      if (deletedIndex < myIndex ) {\r\n        newState.myIndex -= 1;\r\n        if (newState.myIndex === 0) {\r\n          newState.selectedChoice = lobbyStates.CREATED;\r\n        }\r\n      }\r\n      newState.members =  members.filter((m, index) => (index !== deletedIndex) );\r\n      return Object.assign({}, state, newState);\r\n    }\r\n    case START_GAME_SPYFALL: \r\n    case START_GAME_MAFIA : {\r\n      return Object.assign({}, state, {\r\n        isPlaying: true,\r\n      });\r\n    }\r\n    case CLEAR_MAFIA_BOARD:\r\n    case CLEAR_SPYFALL_BOARD: {\r\n      return Object.assign({}, state, {\r\n        isPlaying: false,\r\n      });\r\n    }\r\n    case SET_IS_PRIVATE: {\r\n      return Object.assign({}, state, {\r\n        settings: {\r\n          ...state.settings,\r\n          isPrivate: !state.settings.isPrivate\r\n        }\r\n      });\r\n    }\r\n    case CLEAR_ROOM_INFO: {\r\n      return Object.assign({}, state, {\r\n        isConnected: state.isConnected,\r\n        selectedChoice: \"\",\r\n        isLoadingRoom: false,\r\n        numPlayers: 1,\r\n        members: [],\r\n        roomId: \"\",\r\n        myIndex: -1,\r\n        rooms: [],\r\n        isPlaying: false,\r\n        isUpdating: false,\r\n        settings: {\r\n          isPrivate: true,\r\n          spyfall: {\r\n            time: \"8\", // minutes\r\n            gameType: \"Locations\",\r\n          },\r\n          mafia: {\r\n            dayTimeLimit: 300, //seconds\r\n            nightTimeLimit: 60, //seconds\r\n            defenseTimeLimit: 25, //seconds\r\n            numMafia: 2,\r\n            allowSK: false,\r\n            allowJoker: false,\r\n          }\r\n        }\r\n      })\r\n    }\r\n    default:\r\n      return state;\r\n  } \r\n}","import {\r\n  HANDLE_LOCATION_SPYFALL,\r\n  ADD_NAME_SPYFALL,\r\n  REMOVE_NAME_SPYFALL,\r\n  START_GAME_SPYFALL,\r\n  UPDATE_MAIN_TIME,\r\n  CLEAR_SPYFALL_BOARD\r\n} from 'redux-store/actions/spyfallActions';\r\n\r\nimport {\r\n  START_GAME_MAFIA,\r\n  CHAT_UPDATED,\r\n} from 'redux-store/actions/mafiaActions';\r\n\r\nexport const initialState = {\r\n  time: 0,\r\n  spyfall: {\r\n    selectedLocations: new Map(),\r\n    selectedNamesByIndex: new Set(),\r\n    spyIndex: 0,\r\n    locations: ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'],\r\n    secretLocation: \"\",\r\n  },\r\n  mafia: {\r\n    phase: 0,\r\n    time: 0,\r\n    roleCount: {},\r\n    chatHistory: [[]],\r\n  }\r\n};\r\n\r\nconst NUM_STATES_LOCATIONS = 3;\r\n\r\nfunction mafiaReducers(state, action) {\r\n  switch(action.type) {\r\n    case START_GAME_MAFIA: {\r\n      return {\r\n        ...state,\r\n        time: 0,\r\n        mafia: {\r\n          ...state.mafia,\r\n          roleCount: action.gameState.roleCount,\r\n          phase: 0,\r\n        }\r\n      }\r\n    }\r\n    case CHAT_UPDATED: {\r\n      const {audience, phase, message} = action;\r\n      const oldChatHistory =  state.mafia.chatHistory;\r\n      const newChatHistory = oldChatHistory.filter(item => item);\r\n      //Make sure that phase is valid index withing newChatHistory\r\n      while(newChatHistory.length <= phase) {\r\n        newChatHistory.push([]);\r\n      }\r\n      newChatHistory[phase].push({audience, message});\r\n      return {\r\n        ...state,\r\n        mafia: {\r\n          ...state.mafia, \r\n          chatHistory: newChatHistory,\r\n        }\r\n      }\r\n    }\r\n    case UPDATE_MAIN_TIME: {\r\n      return {\r\n        ...state,\r\n        time: action.time,\r\n        mafia: {\r\n          ...state.mafia,\r\n          phase: action.phase,\r\n        }\r\n      };\r\n    }\r\n    default: return state;\r\n  }\r\n}\r\n\r\nfunction spyfallReducers(state, action) {\r\n  switch(action.type) {\r\n    case START_GAME_SPYFALL: {\r\n      return {\r\n        ...state,\r\n        time: action.gameState.time,\r\n        spyfall: {\r\n          spyIndex: action.gameState.spyIndex,\r\n          selectedLocations: state.spyfall.selectedLocations,\r\n          selectedNamesByIndex: state.spyfall.selectedNamesByIndex,\r\n          locations: action.gameState.locations,\r\n          secretLocation: action.gameState.secretLocation,\r\n        },\r\n      };\r\n    }\r\n    case UPDATE_MAIN_TIME: {\r\n      return {\r\n        ...state,\r\n        time: action.time,\r\n      };\r\n    }\r\n    case ADD_NAME_SPYFALL: {\r\n      const {selectedNamesByIndex} = state.spyfall;\r\n      const clonedNames = new Set(selectedNamesByIndex);\r\n      clonedNames.add(action.data);\r\n      return Object.assign({}, state, {\r\n        spyfall: {\r\n          ...state.spyfall,\r\n          selectedNamesByIndex: clonedNames,\r\n        }\r\n      });\r\n    }\r\n    case REMOVE_NAME_SPYFALL: {\r\n      const {selectedNamesByIndex} = state.spyfall;\r\n      const clonedNames = new Set(selectedNamesByIndex);\r\n      clonedNames.delete(action.data);\r\n      return Object.assign({}, state, {\r\n        spyfall: {\r\n          ...state.spyfall,\r\n          selectedNamesByIndex: clonedNames,\r\n        }\r\n      });\r\n    }\r\n    case HANDLE_LOCATION_SPYFALL: {\r\n      const clonedLocations = new Map(state.spyfall.selectedLocations);\r\n      const oldVal = clonedLocations.get(action.data);\r\n      if(oldVal) {\r\n        clonedLocations.set(action.data, (oldVal+1) % NUM_STATES_LOCATIONS);\r\n      }\r\n      else {\r\n        clonedLocations.set(action.data, 1);\r\n      }\r\n      return Object.assign({}, state, {\r\n        spyfall: {\r\n          ...state.spyfall,\r\n          selectedLocations: clonedLocations,\r\n        }\r\n      })\r\n    }\r\n    case CLEAR_SPYFALL_BOARD: {\r\n      return Object.assign({}, state, {\r\n        spyfall: {\r\n          selectedLocations: new Map(),\r\n          selectedNamesByIndex: new Set(),\r\n          locations: [],\r\n          spyIndex: 0,\r\n          secretLocation: \"\",\r\n        }\r\n      });\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function playState(state = initialState, action) {\r\n  switch(action.game) {\r\n    case 'mafia': {\r\n      return mafiaReducers(state, action);\r\n    }\r\n    default: { // spyfall\r\n      return spyfallReducers(state, action);\r\n    }\r\n  }\r\n}","import {UPDATE_MAIN_TIME} from './spyfallActions';\r\n\r\nexport const START_GAME_MAFIA = 'START_GAME_MAFIA';\r\nexport const CLEAR_MAFIA_BOARD = 'CLEAR_MAFIA_BOARD';\r\nexport const CHAT_UPDATED = \"CHAT_UPDATED\";\r\n\r\nexport function startMafia(gameState) {\r\n  return {\r\n    game: 'mafia',\r\n    type: START_GAME_MAFIA,\r\n    gameState,\r\n  };\r\n}\r\n\r\nexport function updateMainMafiaTime(time) {\r\n  const [phase, mainTime] = time;\r\n  return {\r\n    game: 'mafia',\r\n    type: UPDATE_MAIN_TIME,\r\n    phase,\r\n    time: mainTime,\r\n  };\r\n}\r\n\r\nexport function clearMafiaBoard() {\r\n  return {\r\n    game: 'mafia',\r\n    type: CLEAR_MAFIA_BOARD,\r\n  };\r\n}\r\n\r\nexport function chatUpdated(data) {\r\n  return {\r\n    game: 'mafia',\r\n    type: CHAT_UPDATED,\r\n    ...data,\r\n  }\r\n}","import { combineReducers } from 'redux';\r\nimport { gameCredentials } from './nameReducers';\r\nimport { gameData } from './gameReducers';\r\nimport { playState } from './playReducers';\r\nexport default combineReducers({\r\n  gameCredentials,\r\n  gameData,\r\n  playState,\r\n});\r\n","import { createStore } from 'redux';\r\nimport MohiApp from './reducers';\r\nimport {initialState as initialGameData} from './reducers/gameReducers';\r\nimport {initialState as initialGameCredentialState} from './reducers/nameReducers';\r\nimport {initialState as initialPlayState} from './reducers/playReducers';\r\n\r\n/**\r\n * REDUX WORK FLOW\r\n * 1) Create an action. Follow the schema already defined.\r\n *  (Create a constant action type. Setup the data to be passed to reducer)\r\n * 2) Add to the reducer. Follow the schema already defined. \r\n *  (Make sure to return an object that has all keys as before.)\r\n * 3) You may now *dispatch* an action from anywhere.\r\n *  (Note: component must *subscribe* via the connect method in order to be refreshed)\r\n * Maybe 4) Sometimes you may want to create a whole separate data flow. Simply create the relevant files\r\n *  and then make sure to update this default state to include those changes. \r\n */\r\nconst defaultState = {\r\n  gameData: initialGameData,\r\n  gameCredentials: initialGameCredentialState,\r\n  playState: initialPlayState,\r\n};\r\n\r\nexport const storageType = sessionStorage;\r\n\r\nfunction loadState() {\r\n  const gameData = JSON.parse(storageType.getItem('gameData'));\r\n  const username = storageType.getItem('username');\r\n  const gamename = storageType.getItem('gamename');\r\n  const userId = storageType.getItem('userId');\r\n\r\n  if (!username || !gamename || !userId) {\r\n    return defaultState;\r\n  }\r\n  const myState = {};\r\n  myState.gameCredentials = {\r\n    username,\r\n    gamename,\r\n    userId,\r\n    isConnected: false,\r\n    isUpdatingName: false,\r\n  }\r\n\r\n  if (gameData && gameData.isPlaying) {\r\n    myState.gameData = gameData;\r\n  }\r\n  else {\r\n    myState.gameData = initialGameData;\r\n  }\r\n\r\n  myState.playState = initialPlayState;\r\n\r\n  return myState;\r\n}\r\n\r\nconst store = createStore(MohiApp, loadState());\r\n\r\n/**\r\n * Saves a piece of the state that will be useful in cases of refresh or disconnects.\r\n * @param {any} state The total state object kept track of by redux\r\n */\r\nexport function saveState(state) {\r\n  const { username, gamename, userId } = state.gameCredentials;\r\n  storageType.setItem('username', username);\r\n  storageType.setItem('gamename', gamename);\r\n  storageType.setItem('userId', userId);\r\n}\r\n\r\nexport function saveCurrentState() {\r\n  saveState(store.getState());\r\n}\r\n\r\n\r\n// store.subscribe(() => {\r\n//   console.log(store.getState());\r\n// })\r\nexport default store;","import io from 'socket.io-client';\r\nimport store from 'redux-store';\r\n\r\nimport {\r\n  setIsConnected,\r\n  setUserName,\r\n} from 'redux-store/actions/nameActions';\r\n\r\nimport {\r\n  setIsLoadingRoom,\r\n  roomCreated,\r\n  roomUpdated,\r\n  visibleRooms,\r\n  roomJoined,\r\n  playerLeft,\r\n  roomPrivacyToggled,\r\n  roomSettingsUpdated,\r\n} from 'redux-store/actions/gameSetupActions';\r\n\r\nimport {\r\n  startSpyfall,\r\n  updateSpyfallTime,\r\n  clearSpyfallBoard,\r\n} from 'redux-store/actions/spyfallActions';\r\n\r\nimport {\r\n  startMafia,\r\n  clearMafiaBoard,\r\n  updateMainMafiaTime,\r\n  chatUpdated,\r\n} from 'redux-store/actions/mafiaActions';\r\n\r\nvar socket = null;\r\nlet userId = null;\r\nlet prevGame = \"\";\r\n\r\nconst events = {\r\n  spyfall: ['timeUpdate'],\r\n  mafia: ['mainTimeUpdate', 'mafiaChatUpdated'],\r\n};\r\n\r\nfunction invalidSocket(socket) {\r\n  if (!socket) {throw new Error('Socket invalid!');}\r\n}\r\n\r\nfunction removePrevEventListeners(newSocket) {\r\n  if (!prevGame) return;\r\n\r\n  const eventNames = events[prevGame];\r\n  eventNames.forEach(event => {\r\n    newSocket.off(event);\r\n  });\r\n}\r\n\r\nfunction addSpyfallEventListeners(newSocket) {\r\n  if (prevGame !== 'spyfall') {\r\n    removePrevEventListeners(newSocket);\r\n    prevGame = 'spyfall';\r\n\r\n    newSocket.on('mainTimeUpdate', function(time) {\r\n      store.dispatch(updateSpyfallTime(time));\r\n    });\r\n  }\r\n}\r\n\r\nfunction addMafiaEventListeners(newSocket) {\r\n  if (prevGame !== 'mafia') {\r\n    removePrevEventListeners(newSocket);\r\n    prevGame = 'mafia';\r\n    \r\n    newSocket.on('mainTimeUpdate', function(time){\r\n      store.dispatch(updateMainMafiaTime(time));\r\n    });\r\n    newSocket.on('mafiaChatUpdated', function (data) {\r\n      store.dispatch(chatUpdated(data));\r\n    })\r\n  }\r\n}\r\n\r\nexport function connectToServer() {\r\n  console.log('connecting...');\r\n  const {userId: uid} = store.getState().gameCredentials;\r\n  userId = uid;\r\n  let a = `https://mohithefish.herokuapp.com`;\r\n  if (process.env.NODE_ENV === 'development') {\r\n    a = `http://localhost:5000`;\r\n  }\r\n  const newSocket = io.connect(a, {\r\n    reconnection: true,\r\n    reconnectionDelay: 1000,\r\n    reconnectionDelayMax : 5000,\r\n    reconnectionAttempts: 10,\r\n  });\r\n\r\n  newSocket.on('connect', function() {\r\n    console.log('The client connected');\r\n    socket = newSocket;\r\n\r\n    store.dispatch(setIsConnected(true));\r\n    socket.emit('initialConnection', userId);\r\n  });\r\n\r\n  newSocket.on('nameUpdated', function(name){\r\n    store.dispatch(setUserName(name));\r\n  });\r\n\r\n  newSocket.on('createdRoom', function(roomInfo){\r\n    store.dispatch(roomCreated({\r\n      hostname: roomInfo.hostname,\r\n      roomId: roomInfo.roomId,\r\n      members: roomInfo.members,\r\n      isPrivate: roomInfo.isPrivate,\r\n    }));\r\n  });\r\n\r\n  newSocket.on('settingsUpdated', function(settings){\r\n    store.dispatch(roomSettingsUpdated({\r\n      settings,\r\n    }));\r\n  });\r\n  \r\n  newSocket.on('togglePrivate', function(newState){\r\n    store.dispatch(roomPrivacyToggled(newState));\r\n  })\r\n\r\n  newSocket.on('availableRooms', function(rooms) {\r\n    store.dispatch(visibleRooms({\r\n      rooms\r\n    }));\r\n  });\r\n\r\n  newSocket.on('needId', function() {\r\n    console.log('you need an id to access this room!'); \r\n  });\r\n\r\n  newSocket.on('youJoined', function(roomInfo){\r\n    store.dispatch(roomJoined({\r\n      roomId: roomInfo.roomId, \r\n      members: roomInfo.members,\r\n      settings: roomInfo.settings\r\n    }))\r\n  });\r\n\r\n  newSocket.on('othersJoined', function(roomInfo){\r\n    store.dispatch(roomUpdated({\r\n      hostname: roomInfo.hostname,\r\n      roomId: roomInfo.roomId, \r\n      members: roomInfo.members,\r\n    }));\r\n  })\r\n\r\n  newSocket.on('gameStarted', function(gameState){\r\n    const gamename = store.getState().gameCredentials.gamename;\r\n    if (gamename === 'spyfall') {\r\n      addSpyfallEventListeners(newSocket);\r\n      store.dispatch(startSpyfall(gameState));\r\n    }\r\n    else if (gamename === 'mafia') {\r\n      addMafiaEventListeners(newSocket);\r\n      store.dispatch(startMafia(gameState));\r\n    }\r\n  });\r\n\r\n  newSocket.on('sentBackToLobby', function(){\r\n    const gamename = store.getState().gameCredentials.gamename;\r\n    if(gamename === 'spyfall') {\r\n      store.dispatch(clearSpyfallBoard());\r\n    }\r\n    else if (gamename === 'mafia') {\r\n      store.dispatch(clearMafiaBoard());\r\n    }\r\n  });\r\n\r\n  newSocket.on('playerLeft', function(index) {\r\n    store.dispatch(playerLeft(index));\r\n  });\r\n\r\n  newSocket.on('disconnect', function() {\r\n    socket = null;\r\n    store.dispatch(setIsConnected(false));\r\n  });\r\n}\r\n\r\nexport function isConnected() {\r\n  return !socket;\r\n}\r\n\r\nexport function updateMyName(name) {\r\n  invalidSocket(socket);\r\n\r\n  socket.emit('updateMyName', [userId, name]);\r\n}\r\n\r\nfunction getSpecificGameSettings(settings, gamename) {\r\n  const smallSettings = {\r\n    isPrivate: settings.isPrivate,\r\n  };\r\n  smallSettings[gamename] = settings[gamename];\r\n  return smallSettings;\r\n}\r\n\r\nexport function createRoomWithSettings(settings) {\r\n  invalidSocket(socket);\r\n\r\n  const gamename = store.getState().gameCredentials.gamename;\r\n  socket.emit('createRoom', [userId, gamename, getSpecificGameSettings(settings, gamename)]);\r\n}\r\n\r\nexport function updateRoomSettings(settings) {\r\n  invalidSocket(socket);\r\n  \r\n  socket.emit('updateSettings', [userId, settings]);\r\n}\r\n\r\nexport function forceDisconnect() {\r\n  invalidSocket(socket);\r\n\r\n  socket.emit('forceDisconnect');\r\n}\r\n\r\nexport function getAvailableRooms() {\r\n  invalidSocket(socket);\r\n\r\n  store.dispatch(setIsLoadingRoom(true));\r\n  socket.emit('getAvailableRooms', store.getState().gameCredentials.gamename);\r\n}\r\n\r\nexport function ejectFromRoom() {\r\n  invalidSocket(socket);\r\n  \r\n  socket.emit('ejectPlayerFromRoom', userId);\r\n}\r\n\r\nexport function joinRoom(targetRoom) {\r\n  invalidSocket(socket);\r\n  const data = {\r\n    targetRoom: targetRoom.trim(),\r\n    userId,\r\n  };\r\n  socket.emit('joinRoom', data);\r\n}\r\n\r\nexport function returnToLobby() {\r\n  invalidSocket(socket);\r\n\r\n  socket.emit('returnToLobby', userId);\r\n}\r\n\r\nexport function startGame() {\r\n  invalidSocket(socket);\r\n\r\n  socket.emit('startGame', userId);\r\n}\r\n\r\nexport function sendMafiaMessage(message, myIndex) {\r\n  invalidSocket(socket);\r\n\r\n  socket.emit('sendMafiaMessage', {\r\n    userId,\r\n    message,\r\n    index: myIndex,\r\n  });\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport store from 'redux-store';\r\nimport {connectToServer, updateMyName} from '../Games/socketHandlers';\r\nimport {\r\n  setGameName\r\n} from 'redux-store/actions/nameActions';\r\n\r\nimport './games.scss';\r\n\r\n/**\r\n * List of all games available to play. Make sure this matches up with the server\r\n */\r\nconst allGames = [\r\n  'spyfall',\r\n  'mafia',\r\n];\r\n\r\nfunction mapStateToProps(state) {\r\n  const gc = state.gameCredentials;\r\n  return {\r\n    isConnected: gc.isConnected,\r\n    isUpdatingName: gc.isUpdatingName,\r\n    gamename: gc.gamename,\r\n  };\r\n}\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    setGameInfo: (name, gamename) => {\r\n      updateMyName(name);\r\n      dispatch(setGameName(gamename));\r\n    }\r\n  }\r\n}\r\nfunction Games(props) {\r\n  const { isConnected, gamename, isUpdatingName, setGameInfo } = props;\r\n  const [name, setName] = useState(store.getState().gameCredentials.username);\r\n\r\n  useEffect ( () => {\r\n    document.title = \"Games\";\r\n    \r\n    if (process.env.REACT_APP_DESIGN !== \"true\") {\r\n      if (!isConnected) { \r\n        connectToServer();\r\n      }\r\n    }\r\n  }, [isConnected]);\r\n\r\n  function handleChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  if (Boolean(gamename) && isConnected && isUpdatingName) {\r\n    if (((process.env.NODE_ENV === \"development\" && process.env.REACT_APP_DESIGN === 'false') || process.env.NODE_ENV===\"production\")) {\r\n      return (\r\n        <Redirect push to={`/games/${gamename}`}/>\r\n      );\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"games-page-wrapper\">\r\n      <h1 className=\"header\">Games</h1>\r\n      <h3 className=\"input-message\">Please create your username before continuing.</h3>\r\n      <div className=\"input\">\r\n        <TextField\r\n          id=\"filled-required\"\r\n          label=\"Required\"\r\n          variant=\"filled\"\r\n          value={name}\r\n          onChange={handleChange}\r\n          helperText=\"If no name is given, a default one will be generated\"\r\n        />\r\n      </div>\r\n\r\n\r\n      <div className=\"buttons-wrapper\">\r\n        {\r\n          allGames.map(val =>\r\n            <Button \r\n              key={val}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              disabled={!isConnected}\r\n              onClick={() => setGameInfo(name, val)}\r\n            >\r\n              {val}\r\n            </Button>\r\n          )\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst SubscribedGames = connect(mapStateToProps, mapDispatchToProps)(Games);\r\nexport default SubscribedGames;","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\n\r\nimport { returnToLobby } from 'Games/socketHandlers';\r\n\r\nimport './backToLobby.scss';\r\n\r\nfunction goBack() {\r\n  returnToLobby();\r\n}\r\n\r\nfunction BackToLobby() {\r\n  return (\r\n    <div className=\"backToLobby-wrapper\">\r\n      <IconButton aria-label=\"go-back\" color=\"primary\" onClick={goBack}>\r\n        <ArrowBackIcon />\r\n      </IconButton>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BackToLobby;","import React, {useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nimport './spyfall.scss';\r\n\r\nimport BackToLobby from 'components/BackToLobby/backToLobby';\r\n\r\nimport { \r\n  handleLocationSpyfall,\r\n  addNameSpyfall,\r\n  removeNameSpyfall,\r\n} from 'redux-store/actions/spyfallActions';\r\nimport store from 'redux-store';\r\n\r\nfunction mapStateToProps(state) {\r\n  const gd = state.gameData;\r\n  const ps = state.playState;\r\n  const game = ps.spyfall;\r\n  \r\n  return {\r\n    gameCredentials: state.gameCredentials,\r\n    \r\n    time: ps.time,\r\n    gameType: gd.settings.spyfall.gameType,\r\n    isPlaying: gd.isPlaying,\r\n    selectedLocations: game.selectedLocations,\r\n    selectedNamesByIndex: game.selectedNamesByIndex,\r\n    isSpy: game.spyIndex === gd.myIndex,\r\n    locations: game.locations,\r\n    secretLocation: game.secretLocation,\r\n  };\r\n}\r\nfunction getValues() {\r\n  const gd = store.getState().gameData;\r\n  return {\r\n    members: gd.members,\r\n    myIndex: gd.myIndex,\r\n  };\r\n}\r\n\r\nfunction getDescriptor(gameType) {\r\n  switch(gameType) {\r\n    case 'Foods': {\r\n      return 'food';\r\n    }\r\n    case 'Animals' : {\r\n      return 'animal';\r\n    }\r\n    default: return 'location';\r\n  }\r\n}\r\nfunction Spyfall(props) {\r\n  const {\r\n    gameCredentials,\r\n    time,\r\n    gameType,\r\n    selectedLocations,\r\n    selectedNamesByIndex,\r\n    isSpy,\r\n    locations,\r\n    secretLocation,\r\n    isPlaying,\r\n  } = props;\r\n  \r\n  const [obj, ] = useState(getValues());\r\n  const {\r\n    members, \r\n    myIndex\r\n  } = obj;\r\n\r\n  if(!isPlaying) {\r\n    return <Redirect to=\"/games/spyfall\" />;\r\n  }\r\n\r\n\r\n  function getSelectedClassN(val, set, addCall, removeCall) {\r\n    const isSelected = set.has(val);\r\n    let callback = addCall;\r\n    let selectClass = \"\";\r\n    if (isSelected) {\r\n      callback = removeCall;\r\n      selectClass = \"selected\";\r\n    }\r\n    return [selectClass, (data) => store.dispatch(callback(val))];\r\n  }\r\n\r\n  function renderNames() {\r\n    return members.map( (name, index) => {\r\n      const [selectClass, callback] = getSelectedClassN(index, selectedNamesByIndex, addNameSpyfall, removeNameSpyfall);\r\n      return (\r\n        <h4 key={`${name}${index}`}\r\n         className={selectClass}\r\n         onClick={callback}>\r\n          {name}\r\n        </h4>\r\n      )\r\n    })\r\n  }\r\n\r\n  function locationSelectHandler(data) {\r\n    store.dispatch(handleLocationSpyfall(data));\r\n  }\r\n  function getSelectedClassL(val) {\r\n    const state = selectedLocations.get(val);\r\n    switch(state) {\r\n      case 0: {\r\n        return \"\";\r\n      }\r\n      case 1: {\r\n        return \"accept\";\r\n      }\r\n      case 2: {\r\n        return \"ignore\";\r\n      }\r\n      default: {\r\n        return \"\";\r\n      }\r\n    }\r\n  }\r\n  function renderLocations() {\r\n    return locations.map( (value, index) => {\r\n      const selectClass = getSelectedClassL(value);\r\n      return (\r\n        <div\r\n          key={value} \r\n          className={`location vertically-center-text ${selectClass}`}\r\n          onClick={locationSelectHandler}\r\n        > \r\n          <p>{value}</p>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  function renderTime() {\r\n    const minutes = Math.floor(time / 60); \r\n    const seconds = time % 60;\r\n\r\n    return <h3>{minutes}:{seconds.toString().padStart(2, '0')}</h3>\r\n  }\r\n  \r\n  const headerRow = myIndex === 0\r\n  ? <div className=\"header-row\">\r\n      <BackToLobby />\r\n      <h1>Play Spyfall</h1>\r\n      {/* <BackToLobby /> */}\r\n    </div>\r\n  : <div className=\"header-row\">\r\n      <h1>Play Spyfall</h1>\r\n    </div>\r\n\r\n  return (\r\n    <div className=\"wrapper play-games-wrapper spyfall-page-wrapper\">\r\n      <div className=\"header\">\r\n        {headerRow}\r\n        <h4>Your name is: {gameCredentials.username}</h4>\r\n          {\r\n            isSpy \r\n            ? <h4>You ARE the spy! <span role=\"img\" aria-label=\"spy emoji\">🕵️</span> <br/> Figure out the secret {getDescriptor(gameType)}!</h4>\r\n            : <h4>You are NOT the spy. <br/> The {getDescriptor(gameType)} is <span className=\"secret-location\">{secretLocation}</span></h4>\r\n          }\r\n        \r\n        <div className=\"time-wrapper\">\r\n          {renderTime()}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"players-list\">\r\n        <h2 className=\"title\">Players</h2>\r\n        <div className=\"names\">\r\n          {\r\n            renderNames()\r\n          }\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"location-section\">\r\n        <h2 className=\"header\">{gameType}</h2>\r\n        <div className=\"location-wrapper\">\r\n          {\r\n            renderLocations()\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n}\r\nconst SubscribedSpyfall = connect(mapStateToProps)(Spyfall);\r\nexport default SubscribedSpyfall;","import Spyfall from './spyfall';\r\n\r\n\r\nexport default Spyfall;","import React, {useState} from 'react';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess';\r\n\r\nimport './role.scss';\r\nexport function RoleCard(props) {\r\n  const [isMini, setIsMini] = useState(true);\r\n  \r\n  const Icon = isMini ? ExpandMoreIcon : ExpandLessIcon;\r\n  const rwclass = `papermui ${isMini ? 'mini' : ''}`;\r\n  return (\r\n    <div id=\"role-wrapper\" className={rwclass}>\r\n      <div className=\"role-info\" onClick={\r\n        isMini\r\n        ? () => setIsMini(false)\r\n        : () => setIsMini(true)\r\n      }>\r\n        <h2 className=\"team\">Team: Village</h2>\r\n        <h3 className=\"role\">Role: Detective</h3>\r\n        <Icon className=\"icon\" />\r\n      </div>\r\n      <p className=\"power-info\">Power: At night, you can check a player as to whether or not they are mafia.</p>\r\n      <h3 className=\"win-condition\">Winning Condition: All Non-Villagers are eliminated.</h3>\r\n    </div>\r\n  );\r\n}","/* eslint-disable */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport deadimg from 'assets/images/dead.png';\r\nimport './player.scss';\r\n\r\nconst aliveStatus = <h4 className=\"alive\">Alive</h4>\r\nconst deadStatus = <h4 className=\"dead\">Dead</h4>\r\n\r\nfunction renderInteraction(isAlive, props) {\r\n  const {phase,  onClick} = props;\r\n  if (!isAlive) {\r\n    return (\r\n      <div className=\"dead-img-wrapper\">\r\n        <img className=\"dead-img\" alt=\"dead\" src={deadimg} />\r\n      </div>\r\n    );\r\n  }\r\n  if (phase === 0) {\r\n    return (\r\n      <div className=\"empty-area-wrapper\">\r\n        <div className=\"empty-area\">\r\n          <h2>Wait until Day!</h2>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  const isDay = phase%2 === 0;\r\n  if (isDay) {\r\n    return (\r\n      <div className=\"vote-button-wrapper\">\r\n        <div className=\"vote-button\" onClick={onClick}><h2>Vote</h2></div>\r\n        <div className=\"vote-count\">\r\n          <h4>Total count</h4>\r\n          <h4 className=\"count\">0</h4>\r\n        </div>\r\n      </div>\r\n    );\r\n  } \r\n  else {\r\n    return (\r\n      <div className=\"interact-button-wrapper\">\r\n        <div className=\"interact-button\">\r\n          <h2>Interact</h2>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction PlayerCard(props) {\r\n  const { member, isMe, isAlive, ...otherProps } = props;\r\n\r\n  const playerClass = `papermui player${isMe ? ' my-player' : ''}`;\r\n  return (\r\n    <div className={playerClass}>\r\n      <div className=\"info\">\r\n        <h3 className=\"name\">{member}</h3>\r\n        {isAlive ? aliveStatus : deadStatus}\r\n      </div>\r\n      {renderInteraction(isAlive, otherProps)}\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n\r\nPlayerCard.propTypes = {\r\n  member: PropTypes.string.isRequired,\r\n  isAlive: PropTypes.bool.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n}\r\n\r\nexport { PlayerCard };","/* eslint-disable */\r\nimport React, {useLayoutEffect} from 'react';\r\nimport {connect} from 'react-redux';\r\n\r\nimport './eventRecap.scss';\r\n\r\nfunction interpretPhase(phase) {\r\n  const isEven = phase % 2 === 0;\r\n  if (isEven) {\r\n    return `Day ${phase / 2}`;\r\n  }\r\n  return `Night ${(phase+1) / 2}`;\r\n}\r\nfunction EventRecap(props) {\r\n  const { chatHistory } = props;\r\n\r\n  useLayoutEffect(() => {\r\n    const element = document.getElementById(\"event-recap\");\r\n    element.scrollTo(0, element.scrollHeight);\r\n  });\r\n  \r\n  return (\r\n    <div id=\"event-recap\" className=\"papermui\">\r\n      <h3 className=\"description\">Event Recap: Recorded here will be all the game actions (votes made, time of murders).</h3>\r\n      {\r\n        chatHistory.map((messageList, phase) => {\r\n          const phaseText = interpretPhase(phase);\r\n          return (\r\n            <React.Fragment key={phaseText}>\r\n            <div className=\"new-phase\">\r\n              {phaseText}\r\n            </div>\r\n            <ul>\r\n              {\r\n                messageList.map((messageItem, index) => {\r\n                  const {audience, message} = messageItem;\r\n                  const messageClass = `message-${audience}`;\r\n                  return (\r\n                    <li className={messageClass} key={`${message}${index}`}>{message}</li>\r\n                  )\r\n                })\r\n              }\r\n            </ul>\r\n            </React.Fragment>\r\n          );\r\n        })\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    chatHistory: state.playState.mafia.chatHistory,\r\n  };\r\n}\r\n\r\n\r\nconst SubscribedEventRecap = connect(mapStateToProps)(EventRecap);\r\nexport default SubscribedEventRecap;\r\n\r\n\r\n\r\n{/* <div className=\"new-phase\">\r\n        <h4>Day 0</h4>\r\n      </div>\r\n      <ul>\r\n        <li>\r\n          zendaya voted for nobody\r\n        </li>\r\n        <li>\r\n          nobody was lynched!\r\n        </li>\r\n      </ul>\r\n      <div className=\"new-phase\">\r\n        <h4>Night 1</h4>\r\n      </div>\r\n      \r\n      <ul>\r\n        <li>\r\n          zendaya voted for nobody\r\n        </li>\r\n        <li>\r\n          nobody was lynched!\r\n        </li>\r\n        \r\n        <li>\r\n          zendaya voted for nobody\r\n        </li>\r\n        <li>\r\n          nobody was lynched!\r\n        </li>\r\n        <li>\r\n          zendaya voted for nobody\r\n        </li>\r\n        <li>\r\n          nobody was lynched!\r\n        </li>\r\n        <li>\r\n          zendaya voted for nobody\r\n        </li>\r\n        <li>\r\n          nobody was lynched!\r\n        </li>\r\n        <li>\r\n          zendaya voted for nobody\r\n        </li>\r\n        <li>\r\n          nobody was lynched!\r\n        </li>\r\n        <li>\r\n          zendaya voted for nobody\r\n        </li>\r\n        <li>\r\n          nobody was lynched!\r\n        </li>\r\n        <li>\r\n          zendaya voted for nobody\r\n        </li>\r\n        <li>\r\n          nobody was lynched!\r\n        </li>\r\n        <li>\r\n          zendaya voted for nobody\r\n        </li>\r\n        <li>\r\n          nobody was lynched!\r\n        </li>\r\n        <li>\r\n          zendaya voted for nobody\r\n        </li>\r\n        <li>\r\n          nobody was lynched!\r\n        </li>\r\n        <li>\r\n          zendaya voted for nobody\r\n        </li>\r\n        <li>\r\n          nobody was lynched!\r\n        </li>\r\n        <li>\r\n          zendaya voted for nobody\r\n        </li>\r\n        <li>\r\n          nobody was lynched!\r\n        </li>\r\n        <li>\r\n          zendaya voted for nobody\r\n        </li>\r\n        <li>\r\n          nobody was lynched!\r\n        </li>\r\n      </ul> */}","import React, {useState} from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport ArrowForward from '@material-ui/icons/ArrowForward';\r\n\r\nimport store from 'redux-store';\r\nimport { sendMafiaMessage } from 'Games/socketHandlers';\r\n\r\nconst ENTER_KEY = 13;\r\n\r\nexport default function TextInput() {\r\n  const [message, setMessage] = useState(\"\");\r\n  const [myIndex, ] = useState(store.getState().gameData.myIndex)\r\n  const preventDefault = (e) => {\r\n    e.preventDefault();\r\n  }\r\n\r\n  function handleKeyPress(e) {\r\n    if (e.which === ENTER_KEY || e.keyCode === ENTER_KEY) {\r\n      submit();\r\n    }\r\n  }\r\n\r\n  function submit() {\r\n    if(Boolean(message)) { //length greater than 0\r\n      sendMafiaMessage(message, myIndex);\r\n      setMessage(\"\");\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <FormControl id=\"event-recap-input\" variant=\"outlined\">\r\n      <Input\r\n        className=\"event-input\"\r\n        id=\"standard-basic\"\r\n        value={message}\r\n        onChange={(e) => {setMessage(e.target.value);}}\r\n        onKeyPress={handleKeyPress}\r\n        endAdornment={\r\n          <InputAdornment position=\"end\">\r\n            <IconButton\r\n              className=\"icon-color\"\r\n              children={<ArrowForward />}\r\n              onClick={submit}\r\n              size=\"small\"\r\n              onMouseDown={preventDefault}\r\n              edge=\"end\"\r\n            />\r\n          </InputAdornment>\r\n        }\r\n      />\r\n    </FormControl>\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport './roleCount.scss';\r\nfunction RoleName(props) {\r\n  return (\r\n    <div className=\"name\">\r\n      <p>{props.children}</p>\r\n    </div>\r\n  )\r\n}\r\nfunction RoleValue(props) {\r\n  return (\r\n    <div className=\"value\">\r\n      <p>{props.children}</p>\r\n    </div>\r\n  );\r\n}\r\nfunction RoleItem(props) {\r\n  return (\r\n    <div className=\"role-item\">\r\n      {props.children}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default function RoleCount(props) {\r\n  return (\r\n    <div className=\"papermui role-count-wrapper\">\r\n      <h2>Role Distribution</h2>\r\n      <RoleItem>\r\n        <RoleName>Mafia</RoleName>\r\n        <RoleValue>2</RoleValue>\r\n      </RoleItem>\r\n      <RoleItem>\r\n        <RoleName>Village</RoleName>\r\n        <RoleValue>7</RoleValue>\r\n      </RoleItem>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\n\r\nimport './court.scss';\r\nexport default function Court(props) {\r\n  const { onTrial } = props;\r\n  if (!onTrial) {\r\n    return (\r\n      <div className=\"flex vertically-center-text empty-court\">\r\n        <h2>You need to vote for someone to lynch!</h2>\r\n        <h3>Or you can decide against voting today</h3>\r\n        <div className=\"abstain papermui\">\r\n          <h2>Abstain</h2>\r\n        </div>\r\n        <h5>*Need a majority to abstain in order to pass the day.</h5>\r\n        <h2>Number of abstainees: 5</h2>\r\n      </div>\r\n    )\r\n  }\r\n  return (\r\n    <div className=\"court\">\r\n      <div className=\"on-trial\">\r\n        <h2>On trial</h2>\r\n\r\n        <h1>Zendaya</h1>\r\n\r\n      </div>\r\n      <div className=\"court-decision not-guilty-wrapper\">\r\n        <div className=\"button\">\r\n          <h2>Not Guilty</h2>\r\n        </div>\r\n        <div className=\"papermui voters\">\r\n          <p>abby</p>\r\n          <p>beatric</p>\r\n          <p>charles</p>\r\n          <p>david</p>\r\n          <p>evan</p>\r\n          <p>farqan</p>\r\n          <p>abby</p>\r\n          <p>beatric</p>\r\n          <p>charles</p>\r\n          <p>david</p>\r\n          <p>evan</p>\r\n          <p>farqan</p>\r\n          <p>abby</p>\r\n          <p>beatric</p>\r\n          <p>charles</p>\r\n          <p>david</p>\r\n          <p>evan</p>\r\n          <p>farqan</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"court-decision guilty-wrapper\">\r\n        <div className=\"button\">\r\n          <h2>Guilty</h2>\r\n        </div>\r\n        <div className=\"voters\">\r\n          <p>abby</p>\r\n          <p>beatric</p>\r\n          <p>charles</p>\r\n          <p>david</p>\r\n          <p>evan</p>\r\n          <p>farqan</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}","/* eslint-disable */\r\nimport React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nimport Brightness2Icon from '@material-ui/icons/Brightness2';\r\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\r\n\r\nimport BackToLobby from 'components/BackToLobby/backToLobby';\r\nimport {RoleCard} from './components/role';\r\nimport {PlayerCard} from './components/player';\r\nimport EventRecap from './components/eventRecap';\r\nimport EventInput from './components/eventRecapInput';\r\nimport RoleCount from './components/roleCount';\r\nimport Court from './components/court';\r\nimport store from 'redux-store';\r\n\r\nimport './mafia.scss';\r\nimport { useState } from 'react';\r\nimport { useEffect } from 'react';\r\n// window.onscroll = function(ev) {\r\n//   if ((window.innerHeight + window.scrollY) >= document.body.offsetHeight) {\r\n//       // you're at the bottom of the page\r\n//   }\r\n// };\r\n\r\nfunction interpretPhase(phase) {\r\n  const isEven = phase % 2 === 0;\r\n  if (isEven) {\r\n    return `day`;\r\n  }\r\n  else {\r\n    return `night`;\r\n  }\r\n}\r\n\r\nfunction Column3({isDay}) {\r\n  return (\r\n    <div className=\"column3\">\r\n      \r\n      <div className=\"day-night-time\">\r\n        <div className=\"row\">\r\n          <h1>{isDay ? 'Day' : 'Night '}</h1>\r\n          {isDay ? <Brightness7Icon/> : <Brightness2Icon/>}\r\n        </div>\r\n      </div>\r\n\r\n      <RoleCard />\r\n      <RoleCount />\r\n\r\n    </div>\r\n  )\r\n}\r\nfunction Column1() {\r\n  return (\r\n    <div className=\"column1\">\r\n      <EventRecap />\r\n      <EventInput />\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nfunction renderTime(time) {\r\n  const minutes = Math.floor(time / 60); \r\n  const seconds = time % 60;\r\n\r\n  return <h3>{minutes}:{seconds.toString().padStart(2, '0')}</h3>\r\n}\r\n\r\nfunction handlePlayerClick(index) {\r\n  console.log('voting for ' + index);\r\n}\r\n\r\n  \r\nfunction renderMembers(members, phase, myIndex) {\r\n  return members.map( (member, index) => {\r\n    let onClickfn = ()=>handlePlayerClick(index);\r\n    return <PlayerCard \r\n      key={`${member}${index}`} \r\n      phase={phase}\r\n      member={member} \r\n      onClick={onClickfn}\r\n      isAlive={true}\r\n      isMe={myIndex===index}\r\n    />\r\n  });\r\n}\r\n\r\nfunction Mafia(props) {\r\n  useEffect(() => {\r\n    document.title = 'Mafia';\r\n  });\r\n  const [gameObj, ] = useState(store.getState().gameData);\r\n  const {\r\n    gameCredentials,\r\n    time,\r\n    phase,\r\n    isPlaying,\r\n  } = props;\r\n  const theme = interpretPhase(phase);\r\n  const isDay = theme === 'day';\r\n  const {\r\n    members, \r\n    myIndex\r\n  } = gameObj;\r\n\r\n  const headerRow = myIndex === 0\r\n  ? <div className=\"header-row\">\r\n      <BackToLobby />\r\n      <h1>Play Mafia</h1>\r\n      {/* <BackToLobby /> */}\r\n    </div>\r\n  : <div className=\"header-row\">\r\n      <h1>Play Mafia</h1>\r\n    </div>\r\n\r\n  if(!isPlaying && (process.env.NODE_ENV === 'production' || (process.env.NODE_ENV === 'development' && process.env.REACT_APP_DESIGN === 'false'))) {\r\n    return (\r\n      <Redirect to=\"/games/mafia\" />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`wrapper play-games-wrapper mafia-page-wrapper ${theme}`}>\r\n      <div className=\"header\">\r\n        {headerRow}\r\n        <div className=\"time-wrapper\">\r\n          {renderTime(time)}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mafia-game-info\">\r\n\r\n        <Column1 />\r\n        <div className=\"column2\">\r\n          <div className=\"player-list\">\r\n            {renderMembers(members, phase, myIndex)}\r\n          </div>\r\n          \r\n          <Court />\r\n        </div>\r\n        <Column3 isDay={isDay}/>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const gd = state.gameData;\r\n  const ps = state.playState;\r\n  const game = ps.mafia;\r\n  return {\r\n    gameCredentials: state.gameCredentials,\r\n    \r\n    time: ps.time,\r\n    phase: game.phase,\r\n    isPlaying: gd.isPlaying,\r\n  };\r\n}\r\n\r\nconst SubscribedMafia = connect(mapStateToProps)(Mafia);\r\nexport default SubscribedMafia;","import Mafia from './mafia';\r\n\r\n\r\nexport default Mafia;","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport store from 'redux-store';\r\nimport { returnToGameSelect } from 'redux-store/actions/nameActions';\r\n\r\nimport './backToGameSelect.scss';\r\n\r\nfunction goBack() {\r\n  store.dispatch(returnToGameSelect());\r\n}\r\n\r\nfunction BackToGameSelect() {\r\n  return (\r\n    <div className=\"backToLobby-wrapper\">\r\n      <IconButton aria-label=\"go-back\" color=\"primary\" onClick={goBack}>\r\n        <ArrowBackIcon />\r\n      </IconButton>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BackToGameSelect;","import React, {useState} from 'react';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport ArrowForward from '@material-ui/icons/ArrowForward';\r\n\r\nimport {joinRoom} from '../../socketHandlers';\r\n\r\nconst ENTER_KEY = 13;\r\n\r\nexport default function TextInput() {\r\n  const [roomId, setRoomId] = useState(\"\");\r\n  const preventDefault = (e) => {\r\n    e.preventDefault();\r\n  }\r\n\r\n  function submit() {\r\n    joinRoom(roomId);\r\n  }\r\n  function handleKeyPress(e) {\r\n    if (e.which === ENTER_KEY || e.keyCode === ENTER_KEY) {\r\n      submit();\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <FormControl className=\"form-wrapper\" variant=\"outlined\">\r\n      <InputLabel htmlFor=\"outlined-adornment-roomid\">Room ID</InputLabel>\r\n      <OutlinedInput\r\n        id=\"outlined-adornment-roomid\"\r\n        value={roomId}\r\n        onChange={(e) => {setRoomId(e.target.value);}}\r\n        onKeyPress={handleKeyPress}\r\n        endAdornment={\r\n          <InputAdornment position=\"end\">\r\n            <IconButton\r\n              children={<ArrowForward />}\r\n              onClick={submit}\r\n              onMouseDown={preventDefault}\r\n              edge=\"end\"\r\n            />\r\n          </InputAdornment>\r\n        }\r\n        labelWidth={70}\r\n      />\r\n    </FormControl>\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport store from 'redux-store';\r\nimport { createRoomWithSettings, updateRoomSettings } from 'Games/socketHandlers';\r\nimport { setSettingsIsUpdating, lobbyStates } from 'redux-store/actions/gameSetupActions';\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n  const selectedChoice = state.gameData.selectedChoice;\r\n  const isUpdating = state.gameData.isUpdating;\r\n  return {\r\n    ...ownProps,\r\n    selectedChoice,\r\n    isUpdating,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    setIsUpdating: () => {\r\n      dispatch(setSettingsIsUpdating());\r\n    }\r\n  }\r\n}\r\n\r\nfunction SubmitSettings(props) {\r\n  const {settings, selectedChoice, isUpdating, setIsUpdating, isValid} = props;\r\n  const isCreating = selectedChoice === lobbyStates.CREATE;\r\n\r\n  function createRoom() {\r\n    if (isCreating) {\r\n      createRoomWithSettings(store.getState().gameData.settings);\r\n    }\r\n    else {\r\n      setIsUpdating();\r\n      updateRoomSettings(settings);\r\n    }\r\n  }\r\n\r\n  return(\r\n    <Button disabled={!isValid || (!isCreating && isUpdating)} variant=\"contained\" onClick={createRoom}>\r\n      {isCreating ? 'Create' : 'Save'} \r\n    </Button>\r\n  );\r\n}\r\n\r\nconst SubscribedSubmitSettings = connect(mapStateToProps, mapDispatchToProps)(SubmitSettings);\r\nexport default SubscribedSubmitSettings;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\nimport { roomPrivacyToggled } from \"redux-store/actions/gameSetupActions\";\r\n\r\nimport './aloneSwitch.scss';\r\n\r\nconst mapStateToProps = (state) => {\r\n  const {settings} = state.gameData;\r\n  return {\r\n    isPrivate: settings.isPrivate,\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    handleSwitch: (e) => {\r\n      dispatch(roomPrivacyToggled());\r\n    }\r\n  }\r\n}\r\n\r\nfunction PrivateSwitch(props) {\r\n  const {isPrivate, handleSwitch} = props;\r\n\r\n  return (\r\n    <div className=\"setting\">\r\n      <h3>Do you want a public or private room?</h3>\r\n      <div className=\"switch-wrapper\">\r\n        <p>Public</p>\r\n        <Switch\r\n          checked={isPrivate}\r\n          onChange={handleSwitch}\r\n          color=\"primary\"\r\n          name=\"checked\"\r\n          inputProps={{ 'aria-label': 'primary checkbox' }}\r\n        />\r\n        <p>Private</p>\r\n      </div>\r\n      <h6>*At this time, this setting cannot be later changed.</h6>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst SubscribedPrivateSwitch = connect(mapStateToProps, mapDispatchToProps)(PrivateSwitch);\r\nexport default SubscribedPrivateSwitch;","import React from 'react';\r\n\r\nexport function SettingsItem({children}) {\r\n  return (\r\n    <div className=\"settings-item\">\r\n      {children}\r\n    </div>\r\n  )\r\n} \r\n\r\nexport function SettingsName({children}) {\r\n  return (\r\n    <div className=\"item-name\">\r\n      <h3>{children}</h3>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function SettingsValue({children}) {\r\n  return (\r\n    <div className=\"item-value\">\r\n      <h3>{children}</h3>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {SettingsItem, SettingsName, SettingsValue} from '../settingsView';\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    ...state.gameData.settings.mafia\r\n  };\r\n}\r\nfunction MafiaView(props) {\r\n  const { dayTimeLimit, nightTimeLimit, defenseTimeLimit, numMafia} = props;\r\n  return (\r\n    <div className=\"settings-list\">\r\n      <SettingsItem>\r\n        <SettingsName>Day Time Limit</SettingsName>\r\n        <SettingsValue>{`${dayTimeLimit} seconds`}</SettingsValue>\r\n      </SettingsItem>\r\n      <SettingsItem>\r\n        <SettingsName>Night Time Limit</SettingsName>\r\n        <SettingsValue>{`${nightTimeLimit} seconds`}</SettingsValue>\r\n      </SettingsItem>\r\n      <SettingsItem>\r\n        <SettingsName>Defense Time Limit</SettingsName>\r\n        <SettingsValue>{`${defenseTimeLimit} seconds`}</SettingsValue>\r\n      </SettingsItem>\r\n      <SettingsItem>\r\n        <SettingsName>Number of Mafia</SettingsName>\r\n        <SettingsValue>{numMafia}</SettingsValue>\r\n      </SettingsItem>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst SubscribedMafiaView = connect(mapStateToProps)(MafiaView);\r\nexport default SubscribedMafiaView;","import React, {useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\n\r\nimport SubmitSettings from 'Games/Settings/submitSettings';\r\nimport PrivateSwitch from '../privateSwitch';\r\nimport store from 'redux-store';\r\n\r\nimport './mafiaSettings.scss';\r\n\r\n\r\nconst MAX_TIME = 600;\r\nexport function isValidTimeLimit(time) {\r\n  return /^\\d+$/.test(time) && Number.parseInt(time) <= MAX_TIME;\r\n}\r\nexport function isValidMafia(num) {\r\n  const isInteger = /^(\\+|-)?\\d+$/.test(num);\r\n  if (!isInteger) {\r\n    return 'Must be an integer.';\r\n  }\r\n  const sizeMet = Number.parseInt(num) < store.getState().gameData.members.length;\r\n  if (!sizeMet) {\r\n    return 'Too large';\r\n  }\r\n  return '';\r\n}\r\n\r\n\r\nfunction TimeLimit(props) {\r\n  const { time, validTime, setTime, children, quantity } = props;\r\n  const question = children[0];\r\n  const errormsg = children[1];\r\n  const explanation = children[2];\r\n  let error = !validTime;\r\n\r\n  let inputProps = {\r\n    className: \"time-input\",\r\n    label: \"Time\",\r\n    value: time,\r\n    onChange: handleChange,\r\n    endAdornment: <InputAdornment position=\"end\">sec</InputAdornment>, \r\n  }\r\n  if (quantity) {\r\n    inputProps.className = \"quantity-input\";\r\n    delete inputProps.endAdornment;\r\n  }\r\n\r\n  function handleChange(e) {\r\n    setTime(e.target.value);\r\n  }\r\n  return (\r\n    <div className=\"setting\">\r\n      {question}\r\n      {explanation}\r\n      <FormControl error={error}>\r\n        <Input\r\n          {...inputProps}\r\n        />\r\n        {\r\n          error\r\n          ? errormsg\r\n          : ''\r\n        }\r\n      </FormControl>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToPropsMS(state, ownProps) {\r\n  return {\r\n    numMembers: state.gameData.members.length,\r\n    ...ownProps\r\n  };\r\n}\r\n\r\nfunction MafiaSettings(props) {\r\n  const { showPrivacy, isLobbyPrivate } = props;\r\n\r\n  const [dayTimeLimit, setDayTimeLimit] = useState(store.getState().gameData.settings.mafia.dayTimeLimit);\r\n  const [nightTimeLimit, setNightTimeLimit] = useState(store.getState().gameData.settings.mafia.nightTimeLimit);\r\n  const [defenseTimeLimit, setDefenseTimeLimit] = useState(store.getState().gameData.settings.mafia.defenseTimeLimit);\r\n  const [numMafia, setNumMafia] = useState(store.getState().gameData.settings.mafia.numMafia);\r\n\r\n  const isValidDayTime = isValidTimeLimit(dayTimeLimit);\r\n  const isValidNightTime = isValidTimeLimit(nightTimeLimit);\r\n  const isValidDefenseTime = isValidTimeLimit(defenseTimeLimit);\r\n  const mafiaMessage = isValidMafia(numMafia);\r\n\r\n  const allValid = isValidDayTime && isValidNightTime && isValidDefenseTime && !mafiaMessage;\r\n  \r\n  const settings = {\r\n    isPrivate: isLobbyPrivate, \r\n    mafia: {\r\n      dayTimeLimit, \r\n      nightTimeLimit,\r\n      defenseTimeLimit,\r\n      numMafia,\r\n      allowJoker: false,\r\n      allowSK: false,\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"settings-wrapper mafia-settings\">\r\n        { showPrivacy ? <PrivateSwitch /> : ''}\r\n\r\n        <TimeLimit time={dayTimeLimit} setTime={setDayTimeLimit} validTime={isValidDayTime}>\r\n          <h3>How long is the day phase?</h3>\r\n          <FormHelperText>Must be an integer at most {MAX_TIME}</FormHelperText>\r\n        </TimeLimit>\r\n\r\n        <TimeLimit time={nightTimeLimit} setTime={setNightTimeLimit} validTime={isValidNightTime}>\r\n          <h3>How long is the night phase?</h3>\r\n          <FormHelperText>Must be an integer at most {MAX_TIME}</FormHelperText>\r\n        </TimeLimit>\r\n\r\n        <TimeLimit time={defenseTimeLimit} setTime={setDefenseTimeLimit} validTime={isValidDefenseTime}>\r\n          <h3>How long is the defense?</h3>\r\n          <FormHelperText>Must be an integer at most {MAX_TIME}</FormHelperText>\r\n        </TimeLimit>\r\n\r\n        <TimeLimit time={numMafia} setTime={setNumMafia} validTime={!mafiaMessage} quantity>\r\n          <h3>How many mafia are there?</h3>\r\n          <FormHelperText>{mafiaMessage}</FormHelperText>\r\n          <h6>A negative value will have the server pick an optimal number of mafia.</h6>\r\n        </TimeLimit>\r\n      </div>\r\n      <SubmitSettings isValid={allValid} settings={settings}/>\r\n    </> \r\n  )\r\n}\r\n\r\n\r\nconst SubscribedMafiaSettings = connect(mapStateToPropsMS)(MafiaSettings);\r\nexport default SubscribedMafiaSettings;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {SettingsItem, SettingsName, SettingsValue} from '../settingsView';\r\nfunction mapStateToProps(state) {\r\n  const {settings} = state.gameData;\r\n  \r\n  return {\r\n    time: settings.spyfall.time,\r\n    gameType: settings.spyfall.gameType,\r\n  };\r\n}\r\nfunction SpyfallView(props) {\r\n  const { time, gameType } = props;\r\n  return (\r\n    <div className=\"settings-list\">\r\n      <SettingsItem>\r\n        <SettingsName>Time Length</SettingsName>\r\n        <SettingsValue>{`${time} minutes`}</SettingsValue>\r\n      </SettingsItem>\r\n      <SettingsItem>\r\n        <SettingsName>Game Type</SettingsName>\r\n        <SettingsValue>{gameType}</SettingsValue>\r\n      </SettingsItem>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst SubscribedSpyfallView = connect(mapStateToProps)(SpyfallView);\r\nexport default SubscribedSpyfallView;","import React, {useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport SubmitSettings from 'Games/Settings/submitSettings';\r\nimport PrivateSwitch from '../privateSwitch';\r\nimport store from 'redux-store';\r\n\r\nimport './spyfallSettings.scss';\r\n\r\nconst MAX_SPYFALL_TIME = 100;\r\nexport function isValidTime(time) {\r\n  return /^\\d+$/.test(time) && Number.parseInt(time) < MAX_SPYFALL_TIME;\r\n}\r\n\r\nconst mapStateToPropsTL = (state, ownProps) => {\r\n  return {...ownProps};\r\n}\r\nfunction TimeLimit(props) {\r\n  const { time, validTime, setTime } = props;\r\n  let error = !validTime;\r\n\r\n  function handleChange(e) {\r\n    setTime(e.target.value);\r\n  }\r\n  return (\r\n    <div className=\"setting\">\r\n      <h3>How long is the game?</h3>\r\n      <FormControl error={error}>\r\n        <Input\r\n          className=\"time-input\"\r\n          id=\"standard\"\r\n          label=\"Time\"\r\n          value={time}\r\n          onChange={handleChange}\r\n          endAdornment={<InputAdornment position=\"end\">min</InputAdornment>}\r\n        />\r\n        {\r\n          error\r\n          ? <FormHelperText id=\"component-error-text\">Must be an integer less than {MAX_SPYFALL_TIME}</FormHelperText>\r\n          : ''\r\n        }\r\n      </FormControl>\r\n      \r\n    </div>\r\n  );\r\n}\r\nconst SubscribedTimeLimit = connect(mapStateToPropsTL)(TimeLimit);\r\n\r\nfunction mapStateToPropsGTS(state, ownProps) {\r\n  return {...ownProps};\r\n}\r\nfunction GameTypeSelector(props) {\r\n  const { gameType, setGameType } = props;\r\n  function handleChange(e) {\r\n    setGameType(e.target.value);\r\n  }\r\n  return (\r\n    <div className=\"setting\">\r\n      <h3>What category are the options?</h3>\r\n      <FormControl>\r\n        <Select\r\n          className=\"game-type-input\"\r\n          value={gameType}\r\n          onChange={handleChange}\r\n          inputProps={{ 'aria-label': 'Game Type' }}\r\n        >\r\n          <MenuItem value=\"Locations\">Locations</MenuItem>\r\n          <MenuItem value=\"Foods\">Foods</MenuItem>\r\n          <MenuItem value=\"Animals\">Animals</MenuItem>\r\n        </Select>\r\n        <FormHelperText>Game Type</FormHelperText>\r\n      </FormControl>\r\n    </div>\r\n  )\r\n}\r\nconst SubscribedGameTypeSelector = connect(mapStateToPropsGTS)(GameTypeSelector);\r\n\r\nexport default function SpyfallSettings(props) {\r\n  const { showPrivacy, isLobbyPrivate } = props;\r\n  const [time, setTime] = useState(store.getState().gameData.settings.spyfall.time);\r\n  const [gameType, setGameType] = useState(store.getState().gameData.settings.spyfall.gameType);\r\n  let validTime = isValidTime(time);\r\n\r\n  const settings = {\r\n    isPrivate: isLobbyPrivate,\r\n    spyfall: {\r\n      time,\r\n      gameType,\r\n    },\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"settings-wrapper spyfall-settings\">\r\n        { showPrivacy ? <PrivateSwitch /> : ''}\r\n        <SubscribedTimeLimit time={time} setTime={setTime} validTime={validTime}/>\r\n        <SubscribedGameTypeSelector gameType={gameType} setGameType={setGameType}/>\r\n      </div>\r\n      <SubmitSettings isValid={validTime} settings={settings}/>\r\n    </> \r\n  )\r\n}\r\n","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport MafiaView from './MafiaSettings/mafiaView';\r\nimport MafiaSettings from './MafiaSettings/mafiaSettings';\r\nimport SpyfallView from './SpyfallSettings/spyfallView';\r\nimport SpyfallSettings from './SpyfallSettings/spyfallSettings';\r\nimport store from 'redux-store';\r\n\r\nimport './settingsBoard.scss';\r\nimport { connect } from 'react-redux';\r\n\r\nfunction renderCurrentSettings(GameView) {\r\n  return <GameView />\r\n}\r\n\r\nfunction renderEditSettings(GameSettings, showPrivacy) {\r\n  return <GameSettings showPrivacy={showPrivacy} isLobbyPrivate={store.getState().gameData.settings.isPrivate} />;\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const isUpdating = state.gameData.isUpdating;\r\n  return {\r\n    isUpdating,\r\n  };\r\n}\r\n\r\nfunction renderStatusMessage(isUpdating, canEdit) {\r\n  if (canEdit) {\r\n    if(isUpdating) {\r\n      return <h3 className=\"status\">Updating...</h3>;\r\n    }\r\n    return <h3 className=\"status fade-out\">Updated</h3>;\r\n  }\r\n  return '';\r\n}\r\n\r\nfunction SettingsBoard(props) {\r\n  const { canEdit, isUpdating } = props;\r\n  const { gamename } = store.getState().gameCredentials;\r\n  let GameSettings = undefined;\r\n  let GameView = undefined; \r\n  switch(gamename) {\r\n    case 'spyfall': {\r\n      GameSettings = SpyfallSettings;\r\n      GameView = SpyfallView; \r\n      break;\r\n    }\r\n    case 'mafia': {\r\n      GameSettings = MafiaSettings;\r\n      GameView = MafiaView;\r\n      break;\r\n    }\r\n    default: {\r\n      throw new Error('Not accepted game type');\r\n    }\r\n  }\r\n  return (\r\n    <Paper className=\"board-wrapper settings-board-wrapper\">\r\n      <div className=\"settings-header\">\r\n        <h1>Game Settings</h1>\r\n        {renderStatusMessage(isUpdating, canEdit)}\r\n      </div>\r\n      <div className=\"room-settings\">\r\n        {\r\n          canEdit \r\n          ? renderEditSettings(GameSettings, false)\r\n          : renderCurrentSettings(GameView)\r\n        }\r\n      </div>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst SubscribedSettingsBoard = connect(mapStateToProps)(SettingsBoard);\r\nexport default SubscribedSettingsBoard;\r\n","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport './rulesBoard.scss';\r\n\r\nconst SpyfallRules = <ul>\r\n  <li>The spy, at any time, can reveal they are a spy and try and guess the location. If they are correct, they win! Otherwise, the players win. </li> \r\n  <li>Additionally, at any time, or after the round end timer goes off, any member can accuse a player of being a spy. \r\n  When this happens, a vote is made to see if every other player agrees with the accusation. \r\n  When voting, each player may also give a reason for their vote, or any other statement they may like.  \r\n  In a mid-round vote every player must agree unanimously for the accusation to stand, at which point the player is revealed. \r\n  If they are a spy, the team wins, if not, the spy wins. </li>\r\n  <li>If the game makes it to the end, the spy still may come forward before end-game voting is called to guess the location, at which point the same rules apply. \r\n  Once the final bell rings and players are called to vote, however, it is too late for the spy to win by guessing the location. </li>\r\n  <li>At the end of the game, the player with the most votes is revealed, if they are a spy, the team wins. If they are not, the spy wins!</li>\r\n  </ul>\r\n\r\nexport default function RulesBoard() {\r\n  return (\r\n    <Paper className=\"board-wrapper rules-board-wrapper\">\r\n      <div className=\"settings-header\">\r\n        <h1>Rules</h1>\r\n      </div>\r\n      {SpyfallRules}\r\n    </Paper>\r\n  )\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\n\r\nimport Loading from 'components/Loading/loading';\r\nimport MyInput from './RoomInfoComponents/myInput';\r\nimport SubmitSettings from '../Settings/submitSettings';\r\nimport { joinRoom, getAvailableRooms, startGame } from '../socketHandlers';\r\nimport PrivateSwitch from 'Games/Settings/privateSwitch';\r\nimport SettingsBoard from 'Games/Settings/settingsBoard';\r\nimport RulesBoard from 'Games/Rules/rulesBoard';\r\n\r\nimport { lobbyStates } from 'redux-store/actions/gameSetupActions';\r\n\r\n\r\nfunction mapStateToPropsRI(state) {\r\n  const gd = state.gameData;\r\n  const gc = state.gameCredentials;\r\n  return {\r\n    username: gc.username,\r\n    gamename: gc.gamename,\r\n    isConnected: gc.isConnected,\r\n    selectedChoice: gd.selectedChoice,\r\n    isLoadingRoom: gd.isLoadingRoom,\r\n    members: gd.members,\r\n    roomId: gd.roomId,\r\n    myIndex: gd.myIndex,\r\n    rooms: gd.rooms,\r\n  };\r\n}\r\n\r\nfunction renderMembers(members, myIndex) {\r\n  if (members.length === 0) {\r\n    return (\r\n      <div className=\"members\">\r\n        <h3>Share your room id to let others join!</h3>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"members\">\r\n      <h3 className=\"others\">Other players</h3>\r\n      {\r\n        members.map((m, index) => {\r\n          if (index === 0) {\r\n            return '';\r\n          }\r\n          else {\r\n            return (\r\n              <h4 \r\n                className={index === myIndex ? \"my-name\" : \"\"}\r\n                key={`${m}${index}`}>{m}\r\n              </h4>\r\n            );\r\n          }\r\n        })\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction renderAvailableRooms(rooms, isLoadingRoom) {\r\n  if (isLoadingRoom) {\r\n    return <Loading />;\r\n  }\r\n  if (rooms.length === 0) {\r\n    return <h3 className=\"no-avail-rooms\">Sorry. No other rooms were found at this time.</h3>\r\n  }\r\n  return rooms.map(room => {\r\n    return (\r\n      <Grid item key={room.hostname} xs={12} className=\"room\">\r\n        <Button className=\"data\" onClick={()=>{joinRoom(room.roomId)}}>\r\n          <h3 className=\"left\">\r\n            Host: &nbsp;\r\n            <span className=\"bold\">{room.hostname}</span>\r\n          </h3>\r\n          <h3 className=\"right\">\r\n            Number of Players: &nbsp;\r\n            <span className=\"bold\">{room.numPlayers}</span>\r\n          </h3>\r\n        </Button>\r\n      </Grid>\r\n    )\r\n  })\r\n}\r\n\r\nfunction renderStartButton(canEdit, numMembers) {\r\n  if (canEdit) {\r\n    if (numMembers > 0) {\r\n      return (\r\n        <Button variant=\"contained\" onClick={startGame} className=\"host-control-panel\">\r\n          Play\r\n        </Button>\r\n      );\r\n    }\r\n    else {\r\n      return <h4 className=\"ask-host\">Invite friends to your lobby to start!</h4>;\r\n    }\r\n  }\r\n  else {\r\n    return <h4 className=\"ask-host\">Ask the host to start the game!</h4>;\r\n  }\r\n}\r\n\r\nfunction RoomInfo(props) {\r\n  const { isConnected, selectedChoice, roomId, members, myIndex, rooms, isLoadingRoom } = props;\r\n  if (!isConnected || !selectedChoice) { return \"\"; }\r\n\r\n  function copyToClipboard(e) {\r\n    navigator.clipboard.writeText(roomId).then(() => {\r\n      console.log('copied');\r\n    })\r\n  }\r\n\r\n  if (selectedChoice === lobbyStates.CREATE) {\r\n    return (\r\n      <div className=\"room-settings\">\r\n        <div className=\"settings-wrapper\">\r\n          <PrivateSwitch />\r\n          <SubmitSettings isValid />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  else if(selectedChoice === lobbyStates.JOIN) {\r\n    return (\r\n      <div className=\"room-list\">\r\n        <div className=\"input\">\r\n          <h4>Enter the room id you would like to join:</h4>\r\n          <MyInput />\r\n        </div>\r\n        <div className=\"refresh-row\">\r\n          <h4>Otherwise, click on one of the available rooms to join.</h4>\r\n          <IconButton color=\"primary\" aria-label=\"refresh\" \r\n            onClick={getAvailableRooms}>\r\n            <RefreshIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Grid container spacing={3} className=\"rooms-wrapper\">\r\n          { renderAvailableRooms(rooms, isLoadingRoom) }\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n  else {\r\n    let hostClass = \"\";\r\n    let canEdit = selectedChoice === lobbyStates.CREATED;\r\n    if (canEdit) {\r\n      hostClass = \"my-name\";\r\n    }\r\n    return (\r\n      <div className=\"room-info\">\r\n        <SettingsBoard canEdit={canEdit}/>\r\n        <div className=\"room-title\">\r\n          <h2>Host: <span className={hostClass}>{members[0]}</span></h2>\r\n          <h2>Room id: <span className=\"roomId\" onClick={copyToClipboard}>{roomId}</span></h2>\r\n        </div>\r\n        <RulesBoard />\r\n        {renderStartButton(canEdit, members.length)}\r\n        {renderMembers(members, myIndex)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst SubscribedRoomInfo = connect(mapStateToPropsRI)(RoomInfo);\r\nexport default SubscribedRoomInfo;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Loading from 'components/Loading/loading';\r\nimport { setSelectedChoiceAndLoadingRoom } from 'redux-store/actions/gameSetupActions';\r\nimport { getAvailableRooms, ejectFromRoom } from '../socketHandlers';\r\nimport { lobbyStates } from 'redux-store/actions/gameSetupActions';\r\n\r\nfunction setDisableProps(obj) {\r\n  obj.className += \" disabled\";\r\n  obj.variant = \"outlined\";\r\n}\r\n\r\nfunction ConnectedChoices(props) {\r\n  const { isConnected, selectedChoice, handleSelect } = props;\r\n  if (!isConnected) { return <Loading />; }\r\n\r\n  const createButtonProps = {\r\n    variant: \"contained\",\r\n    className: \"button\",\r\n    onClick: () => handleSelect(lobbyStates.CREATE),\r\n  };\r\n  const joinButtonProps = {\r\n    variant: \"contained\",\r\n    className: \"button\",\r\n    onClick: () => handleSelect(lobbyStates.JOIN),\r\n  };\r\n\r\n\r\n  if (selectedChoice === lobbyStates.CREATE || selectedChoice === lobbyStates.CREATED) {\r\n    setDisableProps(joinButtonProps);\r\n    delete createButtonProps.onClick;\r\n    createButtonProps.disableRipple = true;\r\n  }\r\n  else if (selectedChoice === lobbyStates.JOIN || selectedChoice === lobbyStates.JOINED) {\r\n    setDisableProps(createButtonProps);\r\n    delete joinButtonProps.onClick;\r\n    joinButtonProps.disableRipple = true;\r\n  }\r\n  return (\r\n    <div className=\"connected-choices\">\r\n      <Button \r\n        color=\"primary\"\r\n        disableElevation\r\n        {...createButtonProps}\r\n        >Create Room</Button>\r\n      <Button \r\n        color=\"primary\"\r\n        disableElevation\r\n        {...joinButtonProps}\r\n        >Join Room</Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToPropsCC(state) {\r\n  return {\r\n    isConnected: state.gameCredentials.isConnected,\r\n    selectedChoice: state.gameData.selectedChoice,\r\n  }\r\n}\r\n\r\nfunction mapDispatchToPropsCC(dispatch) {\r\n  return {\r\n    handleSelect: (e) => {\r\n      if(e === lobbyStates.CREATE) {\r\n        ejectFromRoom();\r\n      }\r\n      if(e === lobbyStates.JOIN) {\r\n        getAvailableRooms();\r\n      }\r\n      dispatch(setSelectedChoiceAndLoadingRoom(e));\r\n    }\r\n  }\r\n}\r\nconst SubscribedConnectedChoices = connect(mapStateToPropsCC, mapDispatchToPropsCC)(ConnectedChoices);\r\nexport default SubscribedConnectedChoices;","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nimport './waitingRoom.scss';\r\n\r\nimport BackToGameSelect from 'components/BackToGameSelect/backToGameSelect';\r\nimport RoomInfo from './roomInfo';\r\nimport ConnectedChoices from './connectedChoices';\r\nimport { clearRoomInfo } from 'redux-store/actions/gameSetupActions';\r\nimport { ejectFromRoom, connectToServer } from '../socketHandlers';\r\nimport store, { saveState } from 'redux-store';\r\n\r\nconst storageType = sessionStorage;\r\n\r\nfunction mapStateToPropsWR(state) {\r\n  const { gamename, username, isConnected } = state.gameCredentials\r\n  return {\r\n    gamename,\r\n    username,\r\n    isConnected,\r\n    isPlaying: state.gameData.isPlaying,\r\n  };\r\n}\r\n\r\nfunction WaitingRoom(props) {\r\n  \r\n  const { gamename, username, isConnected, isPlaying } = props;\r\n  \r\n  useEffect(() => {\r\n    if (!isConnected) {\r\n      connectToServer();\r\n    }\r\n  }, [isConnected, username]);\r\n\r\n  useEffect(() => {\r\n    saveState(store.getState());\r\n  }, [username]);\r\n\r\n  if(!gamename) {\r\n    ejectFromRoom();\r\n    store.dispatch(clearRoomInfo());\r\n    return <Redirect to=\"/games\" />;\r\n  }\r\n\r\n  if (isPlaying) {\r\n    storageType.setItem('gameData', JSON.stringify(store.getState().gameData));\r\n    return (\r\n      <Redirect push to={`/games/${gamename}/play`} />\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"wrapper waiting-room-wrapper\">\r\n      <div className=\"header\">\r\n        <div className=\"header-row\">\r\n          <BackToGameSelect/>\r\n          <h1>Play {gamename}</h1>\r\n        </div>\r\n        <h3>Your name is: {username}</h3>\r\n      </div>\r\n      <ConnectedChoices />\r\n\r\n      <RoomInfo\r\n        username={username}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst SubscribedWaitingRoom = connect(mapStateToPropsWR)(WaitingRoom);\r\nexport default SubscribedWaitingRoom;","import React from 'react';\r\nimport { HashRouter, Route, Switch, Redirect } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport Testing from 'pages/testing'\r\nimport MainPage from 'pages/MainPage/mainPage';\r\nimport Games from 'pages/games';\r\nimport Spyfall from 'Games/Spyfall';\r\nimport Mafia from 'Games/Mafia';\r\nimport WaitingRoom from 'Games/WaitingRoom/waitingRoom';\r\nimport BackToLobby from 'components/BackToLobby/backToLobby';\r\nimport store from 'redux-store';\r\n\r\nimport './App.css';\r\n\r\nimport { ThemeProvider } from '@material-ui/core';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport green from '@material-ui/core/colors/green';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: blue,\r\n    secondary: green,\r\n  },\r\n  status: {\r\n    danger: 'orange',\r\n  },\r\n});\r\n\r\n\r\n// function ComebackGame(props) {\r\n//   const { match: {params}} = props;\r\n//   return <div>\r\n//     <h1>\r\n//       <span style={{textTransform: \"uppercase\"}}>{params.name}</span> is not yet built. Come back soon.\r\n//       </h1>\r\n//   </div>;\r\n// }\r\n\r\nfunction App() {  \r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n    <Provider store={store}>\r\n    <HashRouter basename=\"/\">\r\n        <Switch>\r\n          <Route exact path=\"/\" component={MainPage} />\r\n          <Route path=\"/testing\" component={Testing} /> \r\n          <Route path=\"/testcomponent\" component={BackToLobby} />\r\n\r\n          <Route path=\"/games/mafia/play\" component={Mafia} />\r\n          <Route path=\"/games/spyfall/play\" component={Spyfall} />\r\n          <Route path=\"/games/:name\" component={WaitingRoom} />\r\n          \r\n          <Route path=\"/games\" component={Games} />\r\n\r\n          <Route>\r\n            <Redirect to=\"/\" />\r\n          </Route>\r\n        </Switch>\r\n    </HashRouter>\r\n    </Provider>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}