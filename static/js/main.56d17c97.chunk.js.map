{"version":3,"sources":["components/Loading/loading.jsx","pages/testing.jsx","pages/MainPage/mainPage.jsx","redux-store/reducers/nameReducers.js","redux-store/actions/gameSetupActions.js","redux-store/actions/spyfallActions.js","redux-store/reducers/gameReducers.js","redux-store/actions/SpecificGameActions/spyfallGameActions.js","redux-store/reducers/playReducers.js","redux-store/reducers/index.js","redux-store/actions/nameActions.js","redux-store/index.js","Games/socketHandlers.js","pages/games.jsx","components/BackToLobby/backToLobby.jsx","Games/Spyfall/spyfall.jsx","Games/Spyfall/index.jsx","components/BackToGameSelect/backToGameSelect.jsx","Games/WaitingRoom/RoomInfoComponents/myInput.jsx","Games/Settings/submitSettings.jsx","Games/Settings/privateSwitch.jsx","Games/Settings/settingsView.jsx","Games/Settings/SpyfallSettings/spyfallView.jsx","Games/Settings/SpyfallSettings/spyfallSettings.jsx","Games/Settings/settingsBoard.jsx","Games/Rules/rulesBoard.jsx","Games/WaitingRoom/roomInfo.jsx","Games/WaitingRoom/connectedChoices.jsx","Games/WaitingRoom/waitingRoom.jsx","App.js","serviceWorker.js","index.js"],"names":["Loading","className","MainPage","useState","count","setCount","email","setEmail","number","setNumber","imageName","setImageName","useEffect","a","fetch","method","headers","then","res","json","image","response","document","title","fetchData","onClick","type","value","onChange","e","target","src","alt","to","storageType","sessionStorage","initialState","username","gamename","userId","getItem","uuid","setItem","existUserId","lobbyStates","setIsConnected","isConnected","addNameSpyfall","index","data","removeNameSpyfall","process","REACT_APP_DESIGN","selectedChoice","myIndex","isLoadingRoom","numPlayers","host","members","roomId","rooms","isPlaying","isUpdating","settings","isPrivate","spyfall","time","gameType","spyfallGameDataReducer","state","action","Object","assign","selectedLocations","Map","selectedNamesByIndex","Set","spyIndex","locations","secretLocation","combineReducers","gameCredentials","gameData","game","hostname","length","newSettings","deletedIndex","newState","slice","filter","m","playState","gameState","clonedNames","add","delete","clonedLocations","oldVal","get","set","defaultState","initialGameData","initialGameCredentialState","initialPlayState","store","createStore","MohiApp","JSON","parse","myState","loadState","saveState","socket","connectToServer","console","log","getState","uid","newSocket","io","connect","reconnection","reconnectionDelay","reconnectionDelayMax","reconnectionAttempts","on","dispatch","updateSpyfallTime","addSpyfallEventListeners","emit","roomInfo","roomSettingsUpdated","startSpyfall","playerLeft","getSpecificGameSettings","smallSettings","getAvailableRooms","Error","ejectFromRoom","joinRoom","targetRoom","trim","startGame","allGames","Games","name","setName","redirectPage","setRedirectPage","validateName","isInvalid","msg","Boolean","updateMyName","push","TextField","error","required","id","label","variant","helperText","map","val","Button","key","color","disabled","goBack","returnToLobby","BackToLobby","IconButton","aria-label","getDescriptor","Spyfall","gd","ps","isSpy","props","getValues","obj","getSelectedClassN","addCall","removeCall","isSelected","has","callback","selectClass","locationSelectHandler","textContent","headerRow","role","minutes","Math","floor","seconds","toString","padStart","renderTime","getSelectedClassL","BackToGameSelect","TextInput","setRoomId","submit","FormControl","InputLabel","htmlFor","OutlinedInput","onKeyPress","which","keyCode","endAdornment","InputAdornment","position","children","onMouseDown","preventDefault","edge","labelWidth","SubscribedSubmitSettings","ownProps","isUpdatings","setIsUpdating","isValid","isCreating","createRoomWithSettings","updateRoomSettings","SubscribedPrivateSwitch","handleSwitch","Switch","checked","inputProps","SettingsItem","SettingsName","SettingsValue","SubscribedSpyfallView","SubscribedTimeLimit","validTime","setTime","Input","FormHelperText","SubscribedGameTypeSelector","setGameType","Select","MenuItem","SpyfallSettings","showPrivacy","isLobbyPrivate","test","Number","parseInt","isValidTime","SubscribedSettingsBoard","canEdit","GameSettings","undefined","GameView","SpyfallView","Paper","renderStatusMessage","renderEditSettings","renderCurrentSettings","SpyfallRules","RulesBoard","SubscribedRoomInfo","Grid","container","spacing","room","item","xs","renderAvailableRooms","hostClass","navigator","clipboard","writeText","numMembers","renderStartButton","renderMembers","setDisableProps","SubscribedConnectedChoices","handleSelect","createButtonProps","joinButtonProps","disableRipple","disableElevation","SubscribedWaitingRoom","location","stringify","pathname","theme","createMuiTheme","palette","primary","blue","secondary","green","status","danger","App","ThemeProvider","basename","exact","path","component","Testing","WaitingRoom","window","match","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.56d17c97.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nimport './loading.scss';\r\n\r\nexport default function Loading() {\r\n  return (\r\n    <div className=\"lds-ripple\">\r\n      <div />\r\n      <div />\r\n    </div>\r\n  );\r\n}","import React, { useState, useEffect } from 'react';\r\nimport Loading from 'components/Loading/loading';\r\n\r\nexport default function MainPage() {\r\n  const [count, setCount] = useState(0);\r\n  const [email, setEmail] = useState('');\r\n\r\n  const [number, setNumber] = useState(1);\r\n\r\n  const [imageName, setImageName] = useState('');\r\n\r\n  useEffect( () => {\r\n    document.title = \"MohiTheFish\"\r\n    async function fetchData() {\r\n        \r\n      const response = await fetch(\"https://cors-anywhere.herokuapp.com/https://randomfox.ca/floof/?ref=apilist.fun\", \r\n      {\r\n        method: 'GET',\r\n        headers: {\r\n          'content-type': 'application/json'\r\n        }\r\n      }).then(res => res.json())\r\n      .then(res => {\r\n        setImageName(res.image);\r\n      });\r\n      return response;\r\n    }\r\n    fetchData();\r\n  }, [])\r\n\r\n  const handleChange = (e) => {\r\n    setEmail(e.target.value);\r\n  }\r\n  return (\r\n    <div>\r\n      This page is being used to test new features.\r\n      <div>\r\n        <p>You clicked {count} times</p>\r\n        <button onClick={() => setCount(count+1)}>\r\n          Click me\r\n        </button>\r\n      </div>\r\n      <div>\r\n        <input type='text' value={email} onChange={handleChange} />\r\n      </div>\r\n      <div>\r\n        <h1>Pick a movie</h1>\r\n        <select value={number} onChange={e => setNumber(e.target.value)}>\r\n          <option value=\"1\">1</option>\r\n          <option value=\"2\">2</option>\r\n          <option value=\"3\">3</option>\r\n          <option value=\"4\">4</option>\r\n          <option value=\"5\">5</option>\r\n          <option value=\"6\">6</option>\r\n        </select>\r\n      </div>\r\n\r\n      { imageName === '' ? <Loading /> : <img src={imageName} alt=\"A fox\" />}\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport './mainPage.scss';\r\n\r\nexport default function MainPage() {\r\n  return (\r\n    <div className=\"main-page-wrapper\">\r\n      <div className=\"intro\">\r\n        <h1>Muhammed Imran</h1>\r\n        <h2>MohiTheFish</h2>\r\n\r\n        <Link to=\"/games\">Click me to see some games.</Link> \r\n\r\n      </div>\r\n    </div>\r\n  )\r\n}","import {\r\n  SET_GAME_USERNAME,\r\n  RETURN_TO_GAME_SELECT,\r\n  NAME_UPDATED\r\n} from '../actions/nameActions';\r\nimport { v4 as uuid } from 'uuid';\r\n\r\nconst storageType = sessionStorage;\r\n\r\nfunction existUserId() {\r\n  let a = storageType.getItem('userId');\r\n\r\n  if(a) {return a;}\r\n\r\n  a = uuid();\r\n  storageType.setItem('userId', a);\r\n  return a;\r\n}\r\n\r\nexport const initialState = {\r\n  username: \"\",\r\n  gamename: \"\",\r\n  userId: existUserId(),\r\n};\r\n\r\nexport function gameCredentials(state = initialState, action) {\r\n  switch(action.type) {\r\n    case SET_GAME_USERNAME: {\r\n      return {\r\n        username: action.username,\r\n        gamename: action.gamename,\r\n        userId: state.userId,\r\n      }\r\n    }\r\n    case RETURN_TO_GAME_SELECT: {\r\n      return {\r\n        gamename: \"\",\r\n        username: state.username,\r\n        userId: state.userId,\r\n      };\r\n    }\r\n    case NAME_UPDATED: {\r\n      return {\r\n        ...state,\r\n        username: action.username,\r\n        gamename: action.gamename,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}","export const SET_IS_CONNECTED = 'SET_IS_CONNECTED'; \r\nexport const SET_IS_LOADINGROOM = 'SET_IS_LOADINGROOM';\r\nexport const SET_IS_LOADING_ROOM_SELECTED_CHOICE = \"SET_IS_LOADING_ROOM_SELECTED_CHOICE\";\r\nexport const SET_HOST_NAME = \"SET_HOST_NAME\";\r\nexport const ROOM_CREATED = \"ROOM_CREATED\";\r\nexport const ROOM_MEMBERS_UPDATED = \"ROOM_MEMBERS_UPDATED\";\r\nexport const SET_SETTINGS_IS_UPDATING = \"SET_SETTINGS_IS_UPDATING\";\r\nexport const ROOM_SETTINGS_UPDATED = \"ROOM_SETTINGS_UPDATED\";\r\nexport const VISIBLE_ROOMS = \"VISIBLE_ROOMS\";\r\nexport const ROOM_JOINED = \"ROOM_JOINED\";\r\nexport const PLAYER_LEFT = \"PLAYER_LEFT\";\r\nexport const START_PLAYING = \"START_PLAYING\";\r\nexport const SET_IS_PRIVATE = \"SET_IS_PRIVATE\";\r\nexport const GO_BACK_TO_LOBBY = \"GO_BACK_TO_LOBBY\";\r\nexport const CLEAR_ROOM_INFO = \"CLEAR_ROOM_INFO\";\r\n\r\nexport const lobbyStates = {\r\n  CREATE: \"create\",\r\n  JOIN: \"join\",\r\n  CREATED: \"created\",\r\n  JOINED: \"joined\",\r\n};\r\n\r\nexport function setIsConnected(isConnected) {\r\n  return {\r\n    type: SET_IS_CONNECTED,\r\n    isConnected,\r\n  };\r\n}\r\n\r\nexport function setSelectedChoiceAndLoadingRoom(selectedChoice) {\r\n  return {\r\n    type: SET_IS_LOADING_ROOM_SELECTED_CHOICE,\r\n    isConnected: true,\r\n    selectedChoice,\r\n  }\r\n}\r\n\r\nexport function setIsLoadingRoom(isLoadingRoom) {\r\n  return {\r\n    type: SET_IS_LOADINGROOM,\r\n    isLoadingRoom,\r\n  };\r\n}\r\n\r\nexport function setHostName(host) {\r\n  return {\r\n    type: SET_HOST_NAME,\r\n    host,\r\n  }\r\n}\r\n\r\nexport function roomCreated(data) {\r\n  return {\r\n    type: ROOM_CREATED,\r\n    data,\r\n  };\r\n}\r\n\r\nexport function roomUpdated(data) {\r\n  return {\r\n    type: ROOM_MEMBERS_UPDATED,\r\n    data,\r\n  };\r\n}\r\n\r\nexport function setSettingsIsUpdating() {\r\n  return {\r\n    type: SET_SETTINGS_IS_UPDATING,\r\n  };\r\n}\r\n\r\nexport function roomSettingsUpdated(settings) {\r\n  return {\r\n    type: ROOM_SETTINGS_UPDATED,\r\n    settings,\r\n  };\r\n}\r\n\r\nexport function visibleRooms(data) {\r\n  return {\r\n    type: VISIBLE_ROOMS,\r\n    data,\r\n  }\r\n}\r\n\r\nexport function roomJoined(data) {\r\n  return {\r\n    type: ROOM_JOINED,\r\n    data,\r\n  }\r\n}\r\n\r\nexport function playerLeft(index) {\r\n  return {\r\n    type: PLAYER_LEFT,\r\n    index,\r\n  };\r\n}\r\n\r\nexport function startPlaying() {\r\n  return {\r\n    type: START_PLAYING,\r\n    isPlaying: true,\r\n  }\r\n}\r\n\r\nexport function roomPrivacyToggled() {\r\n  return {\r\n    type: SET_IS_PRIVATE,\r\n  };\r\n}\r\n\r\nexport function goBackToLobby() {\r\n  return {\r\n    type: GO_BACK_TO_LOBBY,\r\n  };\r\n}\r\n\r\nexport function clearRoomInfo() {\r\n  return {\r\n    type: CLEAR_ROOM_INFO,\r\n  };\r\n}","export const START_GAME_SPYFALL = \"START_GAME_SPYFALL\";\r\nexport const UPDATE_SPYFALL_TIME = \"UDPATE_SPYFALL_TIME\";\r\nexport const HANDLE_LOCATION_SPYFALL = \"HANDLE_LOCATION_SPYFALL\";\r\nexport const ADD_NAME_SPYFALL = \"ADD_NAME_SPYFALL\";\r\nexport const REMOVE_NAME_SPYFALL = \"REMOVE_NAME_SPYFALL\";\r\nexport const CLEAR_SPYFALL_BOARD = \"CLEAR_SPYFALL_BOARD\";\r\n\r\nexport function startSpyfall(gameState) {\r\n  return {\r\n    type: START_GAME_SPYFALL,\r\n    gameState, \r\n  };\r\n}\r\n\r\nexport function updateSpyfallTime(time) {\r\n  return {\r\n    type: UPDATE_SPYFALL_TIME,\r\n    time,\r\n  };\r\n}\r\n\r\nexport function handleLocationSpyfall(e) {\r\n  return {\r\n    type: HANDLE_LOCATION_SPYFALL,\r\n    data: e.target.textContent,\r\n  };\r\n}\r\n\r\nexport function addNameSpyfall(index) {\r\n  return {\r\n    type: ADD_NAME_SPYFALL,\r\n    data: index,\r\n  };\r\n}\r\n\r\nexport function removeNameSpyfall(index) {\r\n  return {\r\n    type: REMOVE_NAME_SPYFALL,\r\n    data: index,\r\n  };\r\n}\r\n\r\nexport function clearSpyfallBoard() {\r\n  return {\r\n    type: CLEAR_SPYFALL_BOARD,\r\n  }\r\n}","import {\r\n  SET_IS_CONNECTED,\r\n  SET_IS_LOADINGROOM,\r\n  SET_HOST_NAME,\r\n  ROOM_CREATED,\r\n  VISIBLE_ROOMS,\r\n  ROOM_MEMBERS_UPDATED,\r\n  ROOM_JOINED,\r\n  PLAYER_LEFT,\r\n  START_PLAYING,\r\n  SET_IS_PRIVATE,\r\n  SET_IS_LOADING_ROOM_SELECTED_CHOICE,\r\n  lobbyStates,\r\n  ROOM_SETTINGS_UPDATED,\r\n  SET_SETTINGS_IS_UPDATING,\r\n  CLEAR_ROOM_INFO,\r\n} from '../actions/gameSetupActions';\r\n\r\nimport {\r\n  SET_SPYFALL_TIME,\r\n} from '../actions/SpecificGameActions/spyfallGameActions';\r\n\r\nimport {\r\n  CLEAR_SPYFALL_BOARD,\r\n} from 'redux-store/actions/spyfallActions';\r\n\r\nexport const initialState = process.env.REACT_APP_DESIGN === 'true' \r\n? {\r\n  isConnected: true,\r\n  selectedChoice: lobbyStates.CREATED,\r\n  myIndex: -1,\r\n  isLoadingRoom: false,\r\n  numPlayers: 4,\r\n  host: \"Mohitheifhs\",\r\n  members: [\"other guy\", \"nobody\", 'zendaya', 'is', 'my', 'queen', \"other guy\", \"nobody\", 'zendaya', 'is', 'my', 'queen'],\r\n  roomId: \"fwef98c09we-89w-efcab-aew-9gfw\",\r\n  rooms: [],\r\n  isPlaying: false,\r\n  isUpdating: false,\r\n  settings: {\r\n    isPrivate: true,\r\n    spyfall: {\r\n      time: \"8\", // minutes\r\n      gameType: \"Locations\",\r\n    }\r\n  }\r\n}\r\n: {\r\n  isConnected: false,\r\n  selectedChoice: \"\",\r\n  myIndex: -1,\r\n  isLoadingRoom: false,\r\n  numPlayers: 1,\r\n  host: \"\",\r\n  members: [],\r\n  roomId: \"\",\r\n  rooms: [],\r\n  isPlaying: false,\r\n  isUpdating: false,\r\n  settings: {\r\n    isPrivate: true,\r\n    spyfall: {\r\n      time: \"8\", // minutes\r\n      gameType: \"Locations\"\r\n    }\r\n  }\r\n}\r\n\r\nfunction spyfallGameDataReducer(state, action) {\r\n  switch(action.type) {\r\n    case SET_SPYFALL_TIME: {\r\n      return Object.assign({}, state, {\r\n        settings: {\r\n          ...state.settings,\r\n          spyfall: {\r\n            ...state.settings.spyfall,\r\n            time: action.time,\r\n          }\r\n        }\r\n      })\r\n    }\r\n    default: return state;\r\n  }\r\n}\r\n\r\nexport function gameData(state = initialState, action) {\r\n  switch(action.game) {\r\n    case 'spyfall': return spyfallGameDataReducer(state, action);\r\n    default: break;\r\n  }\r\n  switch(action.type) {\r\n    case SET_IS_CONNECTED:\r\n      return Object.assign({}, state, {\r\n        isConnected: action.isConnected\r\n      });\r\n    case SET_IS_LOADING_ROOM_SELECTED_CHOICE: {\r\n      return Object.assign({}, state, {\r\n        isConnected: action.isConnected,\r\n        selectedChoice: action.selectedChoice,\r\n      });\r\n    }\r\n    case SET_IS_LOADINGROOM:\r\n      return Object.assign({}, state, {\r\n        isLoadingRoom: action.isLoadingRoom\r\n      });\r\n    case SET_HOST_NAME:\r\n      return Object.assign({}, state, {\r\n        host: action.host\r\n      });\r\n    case ROOM_CREATED: {\r\n      const { hostname, members, roomId } = action.data;\r\n      return Object.assign({}, state, {\r\n        host: hostname,\r\n        members: members,\r\n        roomId: roomId,\r\n        myIndex: members.length-1,\r\n        selectedChoice: lobbyStates.CREATED,\r\n      });\r\n    }\r\n    case ROOM_MEMBERS_UPDATED: {\r\n      const { hostname, members, roomId } = action.data;\r\n      return Object.assign({}, state, {\r\n        host: hostname,\r\n        members: members,\r\n        roomId: roomId,\r\n        myIndex: state.myIndex,\r\n      });\r\n    }\r\n    case ROOM_SETTINGS_UPDATED: {\r\n      const newSettings = action.settings.settings;\r\n\r\n      return Object.assign({}, state, {\r\n        settings: newSettings,\r\n        isUpdating: false,\r\n      });\r\n    }\r\n    case SET_SETTINGS_IS_UPDATING: {\r\n      return Object.assign({}, state, {\r\n        isUpdating: true,\r\n      });\r\n    }\r\n    case VISIBLE_ROOMS: {\r\n      return Object.assign({}, state, {\r\n        rooms: action.data.rooms,\r\n        isLoadingRoom: false, \r\n      });\r\n    }\r\n    case ROOM_JOINED: {\r\n      const { hostname, members, roomId, settings: newSettings } = action.data;\r\n      return Object.assign({}, state, {\r\n        host: hostname,\r\n        members: members,\r\n        roomId: roomId,\r\n        myIndex: members.length-1,\r\n        selectedChoice: lobbyStates.JOINED,\r\n        settings: newSettings,\r\n      });\r\n    }\r\n    case PLAYER_LEFT: {\r\n      const { members, myIndex } = state;\r\n      const { index: deletedIndex } = action;\r\n      const newState = {\r\n        myIndex,\r\n        members: [],\r\n      };\r\n      // If host left\r\n      if (deletedIndex === -1) {\r\n        newState.members = members.slice(1);\r\n        newState.myIndex -= 1;\r\n        // If I am now the host\r\n        if (newState.myIndex === -1) {\r\n          newState.selectedChoice = lobbyStates.CREATED;\r\n        }\r\n        newState.host = members[0];\r\n      }\r\n      else {\r\n        if (deletedIndex < myIndex) {\r\n          newState.myIndex -= 1;\r\n        }\r\n        newState.members =  members.filter((m, index) => (index !== deletedIndex) );\r\n      }\r\n      return Object.assign({}, state, newState);\r\n    }\r\n    case START_PLAYING: {\r\n      return Object.assign({}, state, {\r\n        isPlaying: true,\r\n      });\r\n    }\r\n    case CLEAR_SPYFALL_BOARD: {\r\n      return Object.assign({}, state, {\r\n        isPlaying: false,\r\n      });\r\n    }\r\n    case SET_IS_PRIVATE: {\r\n      return Object.assign({}, state, {\r\n        settings: {\r\n          ...state.settings,\r\n          isPrivate: !state.settings.isPrivate\r\n        }\r\n      });\r\n    }\r\n    case CLEAR_ROOM_INFO: {\r\n      return Object.assign({}, state, {\r\n        isConnected: state.isConnected,\r\n        selectedChoice: \"\",\r\n        isLoadingRoom: false,\r\n        numPlayers: 1,\r\n        host: \"\",\r\n        members: [],\r\n        roomId: \"\",\r\n        myIndex: -1,\r\n        rooms: [],\r\n        isPlaying: false,\r\n        isUpdating: false,\r\n        settings: {\r\n          isPrivate: true,\r\n          spyfall: {\r\n            time: \"8\", // minutes\r\n            gameType: \"Locations\",\r\n          }\r\n        }\r\n      })\r\n    }\r\n    default:\r\n      return state;\r\n  } \r\n}","export const SET_SPYFALL_TIME = \"SET_SPYFALL_TIME\";\r\nexport const MAX_SPYFALL_TIME = 100;\r\n\r\nexport function setSpyfallTime(time, isValid) {\r\n  return {\r\n    game: 'spyfall',\r\n    type: SET_SPYFALL_TIME,\r\n    time,\r\n    isValid,\r\n  };\r\n}","import {\r\n  HANDLE_LOCATION_SPYFALL,\r\n  ADD_NAME_SPYFALL,\r\n  REMOVE_NAME_SPYFALL,\r\n  START_GAME_SPYFALL,\r\n  UPDATE_SPYFALL_TIME,\r\n  CLEAR_SPYFALL_BOARD\r\n} from 'redux-store/actions/spyfallActions';\r\n\r\nexport const initialState = {\r\n  time: 0,\r\n  spyfall: {\r\n    selectedLocations: new Map(),\r\n    selectedNamesByIndex: new Set(),\r\n    spyIndex: 0,\r\n    locations: ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h'],\r\n    secretLocation: \"\",\r\n  },\r\n};\r\n\r\nconst NUM_STATES_LOCATIONS = 3;\r\n\r\nexport function playState(state = initialState, action) {\r\n  switch(action.type) {\r\n    case START_GAME_SPYFALL: {\r\n      return {\r\n        time: action.gameState.time,\r\n        spyfall: {\r\n          spyIndex: action.gameState.spyIndex,\r\n          selectedLocations: state.spyfall.selectedLocations,\r\n          selectedNamesByIndex: state.spyfall.selectedNamesByIndex,\r\n          locations: action.gameState.locations,\r\n          secretLocation: action.gameState.secretLocation,\r\n        }\r\n      };\r\n    }\r\n    case UPDATE_SPYFALL_TIME: {\r\n      return {\r\n        time: action.time,\r\n        spyfall: state.spyfall,\r\n      };\r\n    }\r\n    case ADD_NAME_SPYFALL: {\r\n      const {selectedNamesByIndex} = state.spyfall;\r\n      const clonedNames = new Set(selectedNamesByIndex);\r\n      clonedNames.add(action.data);\r\n      return Object.assign({}, state, {\r\n        spyfall: {\r\n          ...state.spyfall,\r\n          selectedNamesByIndex: clonedNames,\r\n        }\r\n      });\r\n    }\r\n    case REMOVE_NAME_SPYFALL: {\r\n      const {selectedNamesByIndex} = state.spyfall;\r\n      const clonedNames = new Set(selectedNamesByIndex);\r\n      clonedNames.delete(action.data);\r\n      return Object.assign({}, state, {\r\n        spyfall: {\r\n          ...state.spyfall,\r\n          selectedNamesByIndex: clonedNames,\r\n        }\r\n      });\r\n    }\r\n    case HANDLE_LOCATION_SPYFALL: {\r\n      const clonedLocations = new Map(state.spyfall.selectedLocations);\r\n      const oldVal = clonedLocations.get(action.data);\r\n      if(oldVal) {\r\n        clonedLocations.set(action.data, (oldVal+1) % NUM_STATES_LOCATIONS);\r\n      }\r\n      else {\r\n        clonedLocations.set(action.data, 1);\r\n      }\r\n      return Object.assign({}, state, {\r\n        spyfall: {\r\n          ...state.spyfall,\r\n          selectedLocations: clonedLocations,\r\n        }\r\n      })\r\n    }\r\n    case CLEAR_SPYFALL_BOARD: {\r\n      return Object.assign({}, state, {\r\n        spyfall: {\r\n          selectedLocations: new Map(),\r\n          selectedNamesByIndex: new Set(),\r\n          locations: [],\r\n          spyIndex: 0,\r\n          secretLocation: \"\",\r\n        }\r\n      });\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}","import { combineReducers } from 'redux';\r\nimport { gameCredentials } from './nameReducers';\r\nimport { gameData } from './gameReducers';\r\nimport { playState } from './playReducers';\r\nexport default combineReducers({\r\n  gameCredentials,\r\n  gameData,\r\n  playState,\r\n});\r\n","export const SET_GAME_USERNAME = \"SET_GAME_USERNAME\";\r\nexport const RETURN_TO_GAME_SELECT = \"RETURN_TO_GAME_SELECT\"; \r\nexport const NAME_UPDATED = \"NAME_UPDATED\";\r\n\r\nexport function setGameUsername(data) {\r\n  return {\r\n    type: SET_GAME_USERNAME,\r\n    username: data.username,\r\n    gamename: data.gamename,\r\n  };\r\n}\r\n\r\nexport function returnToGameSelect() {\r\n  return {\r\n    type: RETURN_TO_GAME_SELECT\r\n  };\r\n}\r\n\r\nexport function myNameUpdated(data) {\r\n  return {\r\n    type: NAME_UPDATED,\r\n    username: data.username,\r\n    gamename: data.gamename,\r\n  };\r\n}","import { createStore } from 'redux';\r\nimport MohiApp from './reducers';\r\nimport {initialState as initialGameData} from './reducers/gameReducers';\r\nimport {initialState as initialGameCredentialState} from './reducers/nameReducers';\r\nimport {initialState as initialPlayState} from './reducers/playReducers';\r\n\r\n/**\r\n * REDUX WORK FLOW\r\n * 1) Create an action. Follow the schema already defined.\r\n *  (Create a constant action type. Setup the data to be passed to reducer)\r\n * 2) Add to the reducer. Follow the schema already defined. \r\n *  (Make sure to return an object that has all keys as before.)\r\n * 3) You may now *dispatch* an action from anywhere.\r\n *  (Note: component must *subscribe* via the connect method in order to be refreshed)\r\n * Maybe 4) Sometimes you may want to create a whole separate data flow. Simply create the relevant files\r\n *  and then make sure to update this default state to include those changes. \r\n */\r\nconst defaultState = {\r\n  gameData: initialGameData,\r\n  gameCredentials: initialGameCredentialState,\r\n  playState: initialPlayState,\r\n};\r\nexport const storageType = sessionStorage;\r\n\r\nfunction loadState() {\r\n  const gameData = JSON.parse(storageType.getItem('gameData'));\r\n  const username = storageType.getItem('username');\r\n  const gamename = storageType.getItem('gamename');\r\n  const userId = storageType.getItem('userId');\r\n\r\n  if (!username || !gamename || !userId) {\r\n    return defaultState;\r\n  }\r\n  const myState = {};\r\n  myState.gameCredentials = {\r\n    username,\r\n    gamename,\r\n    userId,\r\n  }\r\n\r\n  if (gameData && gameData.isPlaying) {\r\n    myState.gameData = gameData;\r\n  }\r\n  else {\r\n    myState.gameData = initialGameData;\r\n  }\r\n\r\n  myState.playState = initialPlayState;\r\n\r\n  return myState;\r\n}\r\n\r\nconst store = createStore(MohiApp, loadState());\r\n\r\n/**\r\n * Saves a piece of the state that will be useful in cases of refresh or disconnects.\r\n * @param {any} state The total state object kept track of by redux\r\n */\r\nexport function saveState(state) {\r\n  const { username, gamename, userId } = state.gameCredentials;\r\n  storageType.setItem('username', username);\r\n  storageType.setItem('gamename', gamename);\r\n  storageType.setItem('userId', userId);\r\n}\r\n\r\nexport function saveCurrentState() {\r\n  saveState(store.getState());\r\n}\r\n\r\n\r\n// store.subscribe(() => {\r\n//   console.log(store.getState());\r\n// })\r\nexport default store;","import io from 'socket.io-client';\r\nimport store from 'redux-store';\r\n\r\nimport {\r\n  myNameUpdated\r\n} from 'redux-store/actions/nameActions';\r\n\r\nimport {\r\n  setIsConnected,\r\n  setIsLoadingRoom,\r\n  roomCreated,\r\n  roomUpdated,\r\n  visibleRooms,\r\n  roomJoined,\r\n  playerLeft,\r\n  startPlaying,\r\n  roomPrivacyToggled,\r\n  roomSettingsUpdated,\r\n} from 'redux-store/actions/gameSetupActions';\r\n\r\nimport {\r\n  startSpyfall,\r\n  updateSpyfallTime,\r\n  clearSpyfallBoard,\r\n} from 'redux-store/actions/spyfallActions';\r\n\r\nfunction addSpyfallEventListeners(newSocket) {\r\n  newSocket.on('timeUpdate', function(time) {\r\n    store.dispatch(updateSpyfallTime(time));\r\n  });\r\n}\r\n\r\nvar socket = null;\r\nlet userId = null;\r\n\r\nexport function connectToServer() {\r\n  console.log('connecting...');\r\n  const {username, gamename, userId: uid} = store.getState().gameCredentials;\r\n  userId = uid;\r\n  let a = `https://mohithefish.herokuapp.com/${gamename}`;\r\n  if (process.env.NODE_ENV === 'development') {\r\n    a = `http://localhost:5000/${gamename}`;\r\n  }\r\n  const newSocket = io.connect(a, {\r\n    reconnection: true,\r\n    reconnectionDelay: 1000,\r\n    reconnectionDelayMax : 5000,\r\n    reconnectionAttempts: 10,\r\n  });\r\n\r\n  if(gamename === 'spyfall') {\r\n    addSpyfallEventListeners(newSocket);\r\n  }\r\n\r\n\r\n  newSocket.on('connect', function() {\r\n    console.log('The client connected');\r\n    socket = newSocket;\r\n\r\n    newSocket.emit('initialConnection', {\r\n      username,\r\n      gamename,\r\n      userId,\r\n    });\r\n    store.dispatch(setIsConnected(true));\r\n  });\r\n\r\n  newSocket.on('createdRoom', function(roomInfo){\r\n    store.dispatch(roomCreated({\r\n      hostname: roomInfo.hostname,\r\n      roomId: roomInfo.roomId,\r\n      members: roomInfo.members,\r\n      isPrivate: roomInfo.isPrivate,\r\n    }));\r\n  });\r\n\r\n  newSocket.on('nameUpdated', function([username, gamename]){\r\n    store.dispatch(myNameUpdated({\r\n      username, \r\n      gamename,\r\n    }))\r\n  })\r\n  newSocket.on('settingsUpdated', function(settings){\r\n    store.dispatch(roomSettingsUpdated({\r\n      settings,\r\n    }));\r\n  });\r\n  \r\n  newSocket.on('togglePrivate', function(newState){\r\n    store.dispatch(roomPrivacyToggled(newState));\r\n  })\r\n\r\n  newSocket.on('availableRooms', function(rooms) {\r\n    store.dispatch(visibleRooms({\r\n      rooms\r\n    }));\r\n  });\r\n\r\n  newSocket.on('needId', function() {\r\n    console.log('you need an id to access this room!'); \r\n  });\r\n\r\n  newSocket.on('youJoined', function(roomInfo){\r\n    store.dispatch(roomJoined({\r\n      hostname: roomInfo.hostname,\r\n      roomId: roomInfo.roomId, \r\n      members: roomInfo.members,\r\n      settings: roomInfo.settings\r\n    }))\r\n  });\r\n\r\n  newSocket.on('othersJoined', function(roomInfo){\r\n    store.dispatch(roomUpdated({\r\n      hostname: roomInfo.hostname,\r\n      roomId: roomInfo.roomId, \r\n      members: roomInfo.members,\r\n    }));\r\n  })\r\n\r\n  newSocket.on('gameStarted', function(gameState){\r\n    store.dispatch(startSpyfall(gameState));\r\n    store.dispatch(startPlaying());\r\n  });\r\n\r\n  newSocket.on('sentBackToLobby', function(){\r\n    if(store.getState().gameCredentials.gamename === 'spyfall') {\r\n      store.dispatch(clearSpyfallBoard());\r\n    }\r\n  });\r\n\r\n  newSocket.on('playerLeft', function(index) {\r\n    store.dispatch(playerLeft(index));\r\n  });\r\n\r\n  newSocket.on('disconnect', function() {\r\n    socket = null;\r\n    store.dispatch(setIsConnected(false));\r\n  });\r\n}\r\n\r\nexport function isConnected() {\r\n  return !socket;\r\n}\r\n\r\nexport function updateMyName(name) {\r\n  if (!socket) { throw new Error('Socket invalid!');}\r\n  \r\n  socket.emit('updateMyName', [userId, name]);\r\n}\r\n\r\nfunction getSpecificGameSettings(settings) {\r\n  const smallSettings = {\r\n    time: settings.time,\r\n  };\r\n  const gamename = store.getState().gameCredentials.gamename;\r\n  smallSettings[gamename] = settings[gamename];\r\n  return smallSettings;\r\n}\r\nexport function createRoomWithSettings(settings) {\r\n  if (!socket) { throw new Error('Socket invalid!');}\r\n\r\n  socket.emit('createRoom', [userId, getSpecificGameSettings(settings)]);\r\n}\r\n\r\nexport function updateRoomSettings(settings) {\r\n  if (!socket) { throw new Error('Socket invalid!');}\r\n  \r\n  socket.emit('updateSettings', [userId, settings]);\r\n}\r\n\r\nexport function forceDisconnect() {\r\n  if (!socket) { throw new Error('Socket invalid!');}\r\n\r\n  socket.emit('forceDisconnect');\r\n}\r\n\r\nexport function getAvailableRooms() {\r\n  if (!socket) { throw new Error('Socket invalid!');}\r\n\r\n  store.dispatch(setIsLoadingRoom(true));\r\n  socket.emit('getAvailableRooms', userId);\r\n}\r\n\r\nexport function ejectFromRoom() {\r\n  if (!socket) { throw new Error('Socket invalid!');}\r\n  \r\n  socket.emit('ejectPlayerFromRoom', userId);\r\n}\r\n\r\nexport function joinRoom(targetRoom) {\r\n  if (!socket) { throw new Error('Socket invalid!');}\r\n  const data = {\r\n    targetRoom: targetRoom.trim(),\r\n    userId,\r\n  };\r\n  socket.emit('joinRoom', data);\r\n}\r\n\r\nexport function returnToLobby() {\r\n  if (!socket) { throw new Error('Socket invalid!');}\r\n\r\n  socket.emit('returnToLobby', userId);\r\n}\r\n\r\nexport function startGame() {\r\n  if (!socket) { throw new Error('Socket invalid!');}\r\n\r\n  socket.emit('startGame', userId);\r\n}","import React, { useState, useEffect } from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport store, { saveState } from 'redux-store';\r\nimport {updateMyName} from '../Games/socketHandlers';\r\nimport {\r\n  setGameUsername\r\n} from 'redux-store/actions/nameActions';\r\n\r\nimport './games.scss';\r\n\r\nconst allGames = [\r\n  'spyfall',\r\n];\r\n\r\n\r\nfunction validateName(name) {\r\n  if (!name) {\r\n    return [true, 'Name cannot be empty.'];\r\n  }\r\n  return [false, \"\"];\r\n}\r\n\r\n\r\nexport default function Games() {\r\n  const [name, setName] = useState(store.getState().gameCredentials.username);\r\n  const [redirectPage, setRedirectPage] = useState(\"\");\r\n\r\n  useEffect ( () => {\r\n    document.title = \"Games\";\r\n  }, []);\r\n\r\n  function handleChange(e) {\r\n    setName(e.target.value);\r\n  }\r\n\r\n  /**\r\n   * @todo Look into creating the component as soon as the link is pressed.\r\n   */\r\n  const [isInvalid, msg] = validateName(name);\r\n  if (Boolean(redirectPage) && !isInvalid) {\r\n    const isConnected = store.getState().gameData.isConnected;\r\n    if (isConnected) {\r\n      updateMyName(name);\r\n    }\r\n    store.dispatch(setGameUsername({\r\n      username: name,\r\n      gamename: redirectPage,\r\n    }));\r\n    \r\n    saveState(store.getState());\r\n    return (\r\n     <Redirect push to={`/games/${redirectPage}`}/>\r\n   );\r\n  }\r\n  return (\r\n    <div className=\"games-page-wrapper\">\r\n      <h1 className=\"header\">Games</h1>\r\n      <h3 className=\"input-message\">Please create your username before continuing.</h3>\r\n      <div className=\"input\">\r\n        <TextField\r\n          error={isInvalid}\r\n          required\r\n          id=\"filled-required\"\r\n          label=\"Required\"\r\n          variant=\"filled\"\r\n          value={name}\r\n          onChange={handleChange}\r\n          helperText={msg}\r\n        />\r\n      </div>\r\n\r\n\r\n      <div className=\"buttons-wrapper\">\r\n        {\r\n          allGames.map(val =>\r\n            <Button \r\n              key={val}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              disabled={isInvalid}\r\n              onClick={() => setRedirectPage(val)}\r\n            >\r\n              {val}\r\n            </Button>\r\n          )\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\n\r\nimport { returnToLobby } from 'Games/socketHandlers';\r\n\r\nimport './backToLobby.scss';\r\n\r\nfunction goBack() {\r\n  returnToLobby();\r\n}\r\n\r\nfunction BackToLobby() {\r\n  return (\r\n    <div className=\"backToLobby-wrapper\">\r\n      <IconButton aria-label=\"go-back\" color=\"primary\" onClick={goBack}>\r\n        <ArrowBackIcon />\r\n      </IconButton>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BackToLobby;","import React, {useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\nimport './spyfall.scss';\r\n\r\nimport BackToLobby from 'components/BackToLobby/backToLobby';\r\n\r\nimport { \r\n  handleLocationSpyfall,\r\n  addNameSpyfall,\r\n  removeNameSpyfall,\r\n} from 'redux-store/actions/spyfallActions';\r\nimport store from 'redux-store';\r\n\r\nfunction mapStateToProps(state) {\r\n  const gd = state.gameData;\r\n  const ps = state.playState;\r\n  const game = ps.spyfall;\r\n  return {\r\n    gameCredentials: state.gameCredentials,\r\n    \r\n    time: ps.time,\r\n    gameType: gd.settings.spyfall.gameType,\r\n    isPlaying: gd.isPlaying,\r\n    selectedLocations: game.selectedLocations,\r\n    selectedNamesByIndex: game.selectedNamesByIndex,\r\n    isSpy: game.spyIndex === gd.myIndex,\r\n    locations: game.locations,\r\n    secretLocation: game.secretLocation,\r\n  };\r\n}\r\nfunction getValues() {\r\n  const gd = store.getState().gameData;\r\n  return {\r\n    host: gd.host,\r\n    members: gd.members,\r\n    myIndex: gd.myIndex,\r\n  };\r\n}\r\n\r\nfunction getDescriptor(gameType) {\r\n  switch(gameType) {\r\n    case 'Foods': {\r\n      return 'food';\r\n    }\r\n    default: return 'location';\r\n  }\r\n}\r\nfunction Spyfall(props) {\r\n  const {\r\n    gameCredentials,\r\n    time,\r\n    gameType,\r\n    selectedLocations,\r\n    selectedNamesByIndex,\r\n    isSpy,\r\n    locations,\r\n    secretLocation,\r\n    isPlaying,\r\n  } = props;\r\n  \r\n  const [obj, ] = useState(getValues());\r\n  const {\r\n    host, \r\n    members, \r\n    myIndex\r\n  } = obj;\r\n\r\n  if(!isPlaying) {\r\n    return <Redirect to=\"/games/spyfall\" />;\r\n  }\r\n\r\n\r\n  function getSelectedClassN(val, set, addCall, removeCall) {\r\n    const isSelected = set.has(val);\r\n    let callback = addCall;\r\n    let selectClass = \"\";\r\n    if (isSelected) {\r\n      callback = removeCall;\r\n      selectClass = \"selected\";\r\n    }\r\n    return [selectClass, (data) => store.dispatch(callback(val))];\r\n  }\r\n\r\n  function renderNames() {\r\n    return members.map( (name, index) => {\r\n      const [selectClass, callback] = getSelectedClassN(index, selectedNamesByIndex, addNameSpyfall, removeNameSpyfall);\r\n      return (\r\n        <h4 key={`${name}${index}`}\r\n         className={selectClass}\r\n         onClick={callback}>\r\n          {name}\r\n        </h4>\r\n      )\r\n    })\r\n  }\r\n\r\n  function locationSelectHandler(data) {\r\n    store.dispatch(handleLocationSpyfall(data));\r\n  }\r\n  function getSelectedClassL(val) {\r\n    const state = selectedLocations.get(val);\r\n    switch(state) {\r\n      case 0: {\r\n        return \"\";\r\n      }\r\n      case 1: {\r\n        return \"accept\";\r\n      }\r\n      case 2: {\r\n        return \"ignore\";\r\n      }\r\n      default: {\r\n        return \"\";\r\n      }\r\n    }\r\n  }\r\n  function renderLocations() {\r\n    return locations.map( (value, index) => {\r\n      const selectClass = getSelectedClassL(value);\r\n      return (\r\n        <div\r\n          key={value} \r\n          className={`location vertically-center-text ${selectClass}`}\r\n          onClick={locationSelectHandler}\r\n        > \r\n          <p>{value}</p>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  function renderTime() {\r\n    const minutes = Math.floor(time / 60); \r\n    const seconds = time % 60;\r\n\r\n    return <h3>{minutes}:{seconds.toString().padStart(2, '0')}</h3>\r\n  }\r\n\r\n  const [selectClass, callback] = getSelectedClassN(-1, selectedNamesByIndex, addNameSpyfall, removeNameSpyfall);\r\n  \r\n  const headerRow = myIndex === -1\r\n  ? <div className=\"header-row\">\r\n      <BackToLobby />\r\n      <h1>Play Spyfall</h1>\r\n      {/* <BackToLobby /> */}\r\n    </div>\r\n  : <div className=\"header-row\">\r\n      <h1>Play Spyfall</h1>\r\n    </div>\r\n\r\n  return (\r\n    <div className=\"wrapper play-games-wrapper spyfall-page-wrapper\">\r\n      <div className=\"header\">\r\n        {headerRow}\r\n        <h4>Your name is: {gameCredentials.username}</h4>\r\n          {\r\n            isSpy \r\n            ? <h4>You ARE the spy! <span role=\"img\" aria-label=\"spy emoji\"></span> <br/> Figure out the secret {getDescriptor(gameType)}!</h4>\r\n            : <h4>You are NOT the spy. <br/> The {getDescriptor(gameType)} is <span className=\"secret-location\">{secretLocation}</span></h4>\r\n          }\r\n      </div>\r\n      <div className=\"time-wrapper\">\r\n        {renderTime()}\r\n      </div>\r\n\r\n      <div className=\"players-list\">\r\n        <h2 className=\"title\">Players</h2>\r\n        <div className=\"names\">\r\n          <h4 key={host}\r\n            className={selectClass}\r\n            onClick={callback}>\r\n              {host}\r\n          </h4>\r\n          {\r\n            renderNames()\r\n          }\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"location-section\">\r\n        <h2 className=\"header\">{gameType}</h2>\r\n        <div className=\"location-wrapper\">\r\n          {\r\n            renderLocations()\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n}\r\nconst SubscribedSpyfall = connect(mapStateToProps)(Spyfall);\r\nexport default SubscribedSpyfall;","import Spyfall from './spyfall';\r\n\r\n\r\nexport default Spyfall;","import React from 'react';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\r\nimport store from 'redux-store';\r\nimport { returnToGameSelect } from 'redux-store/actions/nameActions';\r\n\r\nimport './backToGameSelect.scss';\r\n\r\nfunction goBack() {\r\n  store.dispatch(returnToGameSelect());\r\n}\r\n\r\nfunction BackToGameSelect() {\r\n  return (\r\n    <div className=\"backToLobby-wrapper\">\r\n      <IconButton aria-label=\"go-back\" color=\"primary\" onClick={goBack}>\r\n        <ArrowBackIcon />\r\n      </IconButton>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BackToGameSelect;","import React, {useState} from 'react';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport ArrowForward from '@material-ui/icons/ArrowForward';\r\n\r\nimport {joinRoom} from '../../socketHandlers';\r\n\r\nconst ENTER_KEY = 13;\r\n\r\nexport default function TextInput() {\r\n  const [roomId, setRoomId] = useState(\"\");\r\n  const preventDefault = (e) => {\r\n    e.preventDefault();\r\n  }\r\n\r\n  function submit() {\r\n    joinRoom(roomId);\r\n  }\r\n  function handleKeyPress(e) {\r\n    if (e.which === ENTER_KEY || e.keyCode === ENTER_KEY) {\r\n      submit();\r\n    }\r\n  }\r\n  \r\n  return (\r\n    <FormControl className=\"form-wrapper\" variant=\"outlined\">\r\n      <InputLabel htmlFor=\"outlined-adornment-roomid\">Room ID</InputLabel>\r\n      <OutlinedInput\r\n        id=\"outlined-adornment-roomid\"\r\n        value={roomId}\r\n        onChange={(e) => {setRoomId(e.target.value);}}\r\n        onKeyPress={handleKeyPress}\r\n        endAdornment={\r\n          <InputAdornment position=\"end\">\r\n            <IconButton\r\n              children={<ArrowForward />}\r\n              onClick={submit}\r\n              onMouseDown={preventDefault}\r\n              edge=\"end\"\r\n            />\r\n          </InputAdornment>\r\n        }\r\n        labelWidth={70}\r\n      />\r\n    </FormControl>\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport {connect} from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport store from 'redux-store';\r\nimport { createRoomWithSettings, updateRoomSettings } from 'Games/socketHandlers';\r\nimport { setSettingsIsUpdating, lobbyStates } from 'redux-store/actions/gameSetupActions';\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n  const selectedChoice = state.gameData.selectedChoice;\r\n  const isUpdating = state.gameData.isUpdatings;\r\n  return {\r\n    ...ownProps,\r\n    selectedChoice,\r\n    isUpdating,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    setIsUpdating: () => {\r\n      dispatch(setSettingsIsUpdating());\r\n    }\r\n  }\r\n}\r\n\r\nfunction SubmitSettings(props) {\r\n  const {settings, selectedChoice, isUpdating, setIsUpdating, isValid} = props;\r\n  const isCreating = selectedChoice === lobbyStates.CREATE;\r\n\r\n  function createRoom() {\r\n    if (isCreating) {\r\n      createRoomWithSettings(store.getState().gameData.settings);\r\n    }\r\n    else {\r\n      setIsUpdating();\r\n      updateRoomSettings(settings);\r\n    }\r\n  }\r\n\r\n  return(\r\n    <Button disabled={!isValid || (!isCreating && isUpdating)} variant=\"contained\" onClick={createRoom}>\r\n      {isCreating ? 'Create' : 'Save'} \r\n    </Button>\r\n  );\r\n}\r\n\r\nconst SubscribedSubmitSettings = connect(mapStateToProps, mapDispatchToProps)(SubmitSettings);\r\nexport default SubscribedSubmitSettings;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\nimport { roomPrivacyToggled } from \"redux-store/actions/gameSetupActions\";\r\n\r\nimport './aloneSwitch.scss';\r\n\r\nconst mapStateToProps = (state) => {\r\n  const {settings} = state.gameData;\r\n  return {\r\n    isPrivate: settings.isPrivate,\r\n  };\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    handleSwitch: (e) => {\r\n      dispatch(roomPrivacyToggled());\r\n    }\r\n  }\r\n}\r\n\r\nfunction PrivateSwitch(props) {\r\n  const {isPrivate, handleSwitch} = props;\r\n\r\n  return (\r\n    <div className=\"setting\">\r\n      <h3>Do you want a public or private room?</h3>\r\n      <div className=\"switch-wrapper\">\r\n        <p>Public</p>\r\n        <Switch\r\n          checked={isPrivate}\r\n          onChange={handleSwitch}\r\n          color=\"primary\"\r\n          name=\"checked\"\r\n          inputProps={{ 'aria-label': 'primary checkbox' }}\r\n        />\r\n        <p>Private</p>\r\n      </div>\r\n      <h6>*At this time, this setting cannot be later changed.</h6>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst SubscribedPrivateSwitch = connect(mapStateToProps, mapDispatchToProps)(PrivateSwitch);\r\nexport default SubscribedPrivateSwitch;","import React from 'react';\r\n\r\nexport function SettingsItem({children}) {\r\n  return (\r\n    <div className=\"settings-item\">\r\n      {children}\r\n    </div>\r\n  )\r\n} \r\n\r\nexport function SettingsName({children}) {\r\n  return (\r\n    <div className=\"item-name\">\r\n      <h3>{children}</h3>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport function SettingsValue({children}) {\r\n  return (\r\n    <div className=\"item-value\">\r\n      <h3>{children}</h3>\r\n    </div>\r\n  )\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {SettingsItem, SettingsName, SettingsValue} from '../settingsView';\r\nfunction mapStateToProps(state) {\r\n  const {settings} = state.gameData;\r\n  return {\r\n    time: settings.spyfall.time,\r\n    gameType: settings.spyfall.gameType,\r\n  };\r\n}\r\nfunction SpyfallView(props) {\r\n  const { time, gameType } = props;\r\n  return (\r\n    <div className=\"settings-list\">\r\n      <SettingsItem>\r\n        <SettingsName>Time Length</SettingsName>\r\n        <SettingsValue>{`${time} minutes`}</SettingsValue>\r\n      </SettingsItem>\r\n      <SettingsItem>\r\n        <SettingsName>Game Type</SettingsName>\r\n        <SettingsValue>{gameType}</SettingsValue>\r\n      </SettingsItem>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst SubscribedSpyfallView = connect(mapStateToProps)(SpyfallView);\r\nexport default SubscribedSpyfallView;","import React, {useState} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport FormHelperText from '@material-ui/core/FormHelperText';\r\nimport Input from '@material-ui/core/Input';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport SubmitSettings from 'Games/Settings/submitSettings';\r\nimport PrivateSwitch from '../privateSwitch';\r\nimport {\r\n  MAX_SPYFALL_TIME,\r\n} from 'redux-store/actions/SpecificGameActions/spyfallGameActions';\r\nimport store from 'redux-store';\r\n\r\nimport './spyfallSettings.scss';\r\n\r\n\r\n\r\nexport function isValidTime(time) {\r\n  return /^\\d+$/.test(time) && Number.parseInt(time) < MAX_SPYFALL_TIME;\r\n}\r\nconst mapStateToPropsTL = (state, ownProps) => {\r\n  return {...ownProps};\r\n}\r\n\r\nfunction TimeLimit(props) {\r\n  const { time, validTime, setTime } = props;\r\n  let error = !validTime;\r\n\r\n  function handleChange(e) {\r\n    setTime(e.target.value);\r\n  }\r\n  return (\r\n    <div className=\"setting\">\r\n      <h3>How long is the game?</h3>\r\n      <FormControl error={error}>\r\n        <Input\r\n          className=\"time-input\"\r\n          id=\"standard\"\r\n          label=\"Time\"\r\n          value={time}\r\n          onChange={handleChange}\r\n          endAdornment={<InputAdornment position=\"end\">min</InputAdornment>}\r\n        />\r\n        {\r\n          error\r\n          ? <FormHelperText id=\"component-error-text\">Must be an integer less than {MAX_SPYFALL_TIME}</FormHelperText>\r\n          : ''\r\n        }\r\n      </FormControl>\r\n      \r\n    </div>\r\n  );\r\n}\r\nconst SubscribedTimeLimit = connect(mapStateToPropsTL)(TimeLimit);\r\n\r\nfunction mapStateToPropsGTS(state, ownProps) {\r\n  return {...ownProps};\r\n}\r\nfunction GameTypeSelector(props) {\r\n  const { gameType, setGameType } = props;\r\n  function handleChange(e) {\r\n    setGameType(e.target.value);\r\n  }\r\n  return (\r\n    <div className=\"setting\">\r\n      <h3>What category are the options?</h3>\r\n      <FormControl>\r\n        <Select\r\n          className=\"game-type-input\"\r\n          value={gameType}\r\n          onChange={handleChange}\r\n          inputProps={{ 'aria-label': 'Game Type' }}\r\n        >\r\n          <MenuItem value=\"Locations\">Locations</MenuItem>\r\n          <MenuItem value=\"Foods\">Foods</MenuItem>\r\n        </Select>\r\n        <FormHelperText>Game Type</FormHelperText>\r\n      </FormControl>\r\n    </div>\r\n  )\r\n}\r\nconst SubscribedGameTypeSelector = connect(mapStateToPropsGTS)(GameTypeSelector);\r\n\r\nexport default function SpyfallSettings(props) {\r\n  const { showPrivacy, isLobbyPrivate } = props;\r\n  const [time, setTime] = useState(store.getState().gameData.settings.spyfall.time);\r\n  const [gameType, setGameType] = useState(store.getState().gameData.settings.spyfall.gameType);\r\n  let validTime = isValidTime(time);\r\n\r\n  const settings = {\r\n    isPrivate: isLobbyPrivate,\r\n    spyfall: {\r\n      time,\r\n      gameType,\r\n    },\r\n  };\r\n  return (\r\n    <>\r\n      <div className=\"settings-wrapper\">\r\n        { showPrivacy ? <PrivateSwitch /> : ''}\r\n        <SubscribedTimeLimit time={time} setTime={setTime} validTime={validTime}/>\r\n        <SubscribedGameTypeSelector gameType={gameType} setGameType={setGameType}/>\r\n      </div>\r\n      <SubmitSettings isValid={validTime} settings={settings}/>\r\n    </> \r\n  )\r\n}\r\n","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport SpyfallView from './SpyfallSettings/spyfallView';\r\nimport SpyfallSettings from './SpyfallSettings/spyfallSettings';\r\nimport store from 'redux-store';\r\n\r\nimport './settingsBoard.scss';\r\nimport { connect } from 'react-redux';\r\n\r\nfunction renderCurrentSettings(GameView) {\r\n  return <GameView />\r\n}\r\n\r\nfunction renderEditSettings(GameSettings, showPrivacy) {\r\n  return <GameSettings showPrivacy={showPrivacy} isLobbyPrivate={store.getState().gameData.settings.isPrivate} />;\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n  const isUpdating = state.gameData.isUpdating;\r\n  return {\r\n    isUpdating,\r\n  };\r\n}\r\n\r\nfunction renderStatusMessage(isUpdating, canEdit) {\r\n  if (canEdit) {\r\n    if(isUpdating) {\r\n      return <h3 className=\"status\">Updating...</h3>;\r\n    }\r\n    return <h3 className=\"status fade-out\">Updated</h3>;\r\n  }\r\n  return '';\r\n}\r\n\r\nfunction SettingsBoard(props) {\r\n  const { canEdit, isUpdating } = props;\r\n  const { gamename } = store.getState().gameCredentials;\r\n  let GameSettings = undefined;\r\n  let GameView = undefined; \r\n  switch(gamename) {\r\n    case 'spyfall': {\r\n      GameSettings = SpyfallSettings;\r\n      GameView = SpyfallView; \r\n      break;\r\n    }\r\n    default: {\r\n      throw new Error('Not accepted game type');\r\n    }\r\n  }\r\n  return (\r\n    <Paper className=\"board-wrapper settings-board-wrapper\">\r\n      <div className=\"settings-header\">\r\n        <h1>Game Settings</h1>\r\n        {renderStatusMessage(isUpdating, canEdit)}\r\n      </div>\r\n      <div className=\"room-settings\">\r\n        {\r\n          canEdit \r\n          ? renderEditSettings(GameSettings, false)\r\n          : renderCurrentSettings(GameView)\r\n        }\r\n      </div>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nconst SubscribedSettingsBoard = connect(mapStateToProps)(SettingsBoard);\r\nexport default SubscribedSettingsBoard;\r\n","import React from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nimport './rulesBoard.scss';\r\n\r\nconst SpyfallRules = <ul>\r\n  <li>The spy, at any time, can reveal they are a spy and try and guess the location. If they are correct, they win! Otherwise, the players win. </li> \r\n  <li>Additionally, at any time, or after the round end timer goes off, any member can accuse a player of being a spy. \r\n  When this happens, a vote is made to see if every other player agrees with the accusation. \r\n  When voting, each player may also give a reason for their vote, or any other statement they may like.  \r\n  In a mid-round vote every player must agree unanimously for the accusation to stand, at which point the player is revealed. \r\n  If they are a spy, the team wins, if not, the spy wins. </li>\r\n  <li>If the game makes it to the end, the spy still may come forward before end-game voting is called to guess the location, at which point the same rules apply. \r\n  Once the final bell rings and players are called to vote, however, it is too late for the spy to win by guessing the location. </li>\r\n  <li>At the end of the game, the player with the most votes is revealed, if they are a spy, the team wins. If they are not, the spy wins!</li>\r\n  </ul>\r\n\r\nexport default function RulesBoard() {\r\n  return (\r\n    <Paper className=\"board-wrapper rules-board-wrapper\">\r\n      <div className=\"settings-header\">\r\n        <h1>Rules</h1>\r\n      </div>\r\n      {SpyfallRules}\r\n    </Paper>\r\n  )\r\n}","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport RefreshIcon from '@material-ui/icons/Refresh';\r\n\r\nimport Loading from 'components/Loading/loading';\r\nimport MyInput from './RoomInfoComponents/myInput';\r\nimport SubmitSettings from '../Settings/submitSettings';\r\nimport { joinRoom, getAvailableRooms, startGame } from '../socketHandlers';\r\nimport PrivateSwitch from 'Games/Settings/privateSwitch';\r\nimport SettingsBoard from 'Games/Settings/settingsBoard';\r\nimport RulesBoard from 'Games/Rules/rulesBoard';\r\n\r\nimport { lobbyStates } from 'redux-store/actions/gameSetupActions';\r\n\r\n\r\nfunction mapStateToPropsRI(state) {\r\n  const gd = state.gameData;\r\n  return {\r\n    username: state.gameCredentials.username,\r\n    gamename: state.gameCredentials.gamename,\r\n    host: gd.host,\r\n    selectedChoice: gd.selectedChoice,\r\n    isConnected: gd.isConnected,\r\n    isLoadingRoom: gd.isLoadingRoom,\r\n    members: gd.members,\r\n    roomId: gd.roomId,\r\n    myIndex: gd.myIndex,\r\n    rooms: gd.rooms,\r\n  };\r\n}\r\n\r\nfunction renderMembers(members, myIndex) {\r\n  if (members.length === 0) {\r\n    return (\r\n      <div className=\"members\">\r\n        <h3>Share your room id to let others join!</h3>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <div className=\"members\">\r\n      <h3 className=\"others\">Other players</h3>\r\n      {\r\n        members.map((m, index) => \r\n          <h4 \r\n            className={index === myIndex ? \"my-name\" : \"\"}\r\n            key={`${m}${index}`}>{m}</h4>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction renderAvailableRooms(rooms, isLoadingRoom) {\r\n  if (isLoadingRoom) {\r\n    return <Loading />;\r\n  }\r\n  if (rooms.length === 0) {\r\n    return <h3 className=\"no-avail-rooms\">Sorry. No other rooms were found at this time.</h3>\r\n  }\r\n  return rooms.map(room => {\r\n    return (\r\n      <Grid item key={room.hostname} xs={12} className=\"room\">\r\n        <Button className=\"data\" onClick={()=>{joinRoom(room.roomId)}}>\r\n          <h3 className=\"left\">\r\n            Host: &nbsp;\r\n            <span className=\"bold\">{room.hostname}</span>\r\n          </h3>\r\n          <h3 className=\"right\">\r\n            Number of Players: &nbsp;\r\n            <span className=\"bold\">{1 + room.numPlayers}</span>\r\n          </h3>\r\n        </Button>\r\n      </Grid>\r\n    )\r\n  })\r\n}\r\n\r\nfunction renderStartButton(canEdit, numMembers) {\r\n  if (canEdit) {\r\n    if (numMembers > 0) {\r\n      return (\r\n        <Button variant=\"contained\" onClick={startGame} className=\"host-control-panel\">\r\n          Play\r\n        </Button>\r\n      );\r\n    }\r\n    else {\r\n      return <h4 className=\"ask-host\">Invite friends to your lobby to start!</h4>;\r\n    }\r\n  }\r\n  else {\r\n    return <h4 className=\"ask-host\">Ask the host to start the game!</h4>;\r\n  }\r\n}\r\n\r\nfunction RoomInfo(props) {\r\n  const { isConnected, selectedChoice, host, roomId, members, myIndex, rooms, isLoadingRoom } = props;\r\n  if (!isConnected || !selectedChoice) { return \"\"; }\r\n\r\n  function copyToClipboard(e) {\r\n    navigator.clipboard.writeText(roomId).then(() => {\r\n      console.log('copied');\r\n    })\r\n  }\r\n\r\n  if (selectedChoice === lobbyStates.CREATE) {\r\n    return (\r\n      <div className=\"room-settings\">\r\n        <div className=\"settings-wrapper\">\r\n          <PrivateSwitch />\r\n          <SubmitSettings isValid />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  else if(selectedChoice === lobbyStates.JOIN) {\r\n    return (\r\n      <div className=\"room-list\">\r\n        <div className=\"input\">\r\n          <h4>Enter the room id you would like to join:</h4>\r\n          <MyInput />\r\n        </div>\r\n        <div className=\"refresh-row\">\r\n          <h4>Otherwise, click on one of the available rooms to join.</h4>\r\n          <IconButton color=\"primary\" aria-label=\"refresh\" \r\n            onClick={getAvailableRooms}>\r\n            <RefreshIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Grid container spacing={3} className=\"rooms-wrapper\">\r\n          { renderAvailableRooms(rooms, isLoadingRoom) }\r\n        </Grid>\r\n      </div>\r\n    );\r\n  }\r\n  else {\r\n    let hostClass = \"\";\r\n    let canEdit = selectedChoice === lobbyStates.CREATED;\r\n    if (canEdit) {\r\n      hostClass = \"my-name\";\r\n    }\r\n    return (\r\n      <div className=\"room-info\">\r\n        <SettingsBoard canEdit={canEdit}/>\r\n        <div className=\"room-title\">\r\n          <h2>Host: <span className={hostClass}>{host}</span></h2>\r\n          <h2>Room id: <span className=\"roomId\" onClick={copyToClipboard}>{roomId}</span></h2>\r\n        </div>\r\n        <RulesBoard />\r\n        {renderStartButton(canEdit, members.length)}\r\n        {renderMembers(members, myIndex)}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst SubscribedRoomInfo = connect(mapStateToPropsRI)(RoomInfo);\r\nexport default SubscribedRoomInfo;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport Loading from 'components/Loading/loading';\r\nimport { setSelectedChoiceAndLoadingRoom } from 'redux-store/actions/gameSetupActions';\r\nimport { getAvailableRooms, ejectFromRoom } from '../socketHandlers';\r\nimport { lobbyStates } from 'redux-store/actions/gameSetupActions';\r\n\r\nfunction setDisableProps(obj) {\r\n  obj.className += \" disabled\";\r\n  obj.variant = \"outlined\";\r\n}\r\n\r\nfunction ConnectedChoices(props) {\r\n  const { isConnected, selectedChoice, handleSelect } = props;\r\n  if (!isConnected) { return <Loading />; }\r\n\r\n  const createButtonProps = {\r\n    variant: \"contained\",\r\n    className: \"button\",\r\n    onClick: () => handleSelect(lobbyStates.CREATE),\r\n  };\r\n  const joinButtonProps = {\r\n    variant: \"contained\",\r\n    className: \"button\",\r\n    onClick: () => handleSelect(lobbyStates.JOIN),\r\n  };\r\n\r\n\r\n  if (selectedChoice === lobbyStates.CREATE || selectedChoice === lobbyStates.CREATED) {\r\n    setDisableProps(joinButtonProps);\r\n    delete createButtonProps.onClick;\r\n    createButtonProps.disableRipple = true;\r\n  }\r\n  else if (selectedChoice === lobbyStates.JOIN || selectedChoice === lobbyStates.JOINED) {\r\n    setDisableProps(createButtonProps);\r\n    delete joinButtonProps.onClick;\r\n    joinButtonProps.disableRipple = true;\r\n  }\r\n  return (\r\n    <div className=\"connected-choices\">\r\n      <Button \r\n        color=\"primary\"\r\n        disableElevation\r\n        {...createButtonProps}\r\n        >Create Room</Button>\r\n      <Button \r\n        color=\"primary\"\r\n        disableElevation\r\n        {...joinButtonProps}\r\n        >Join Room</Button>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction mapStateToPropsCC(state) {\r\n  const gd = state.gameData;\r\n  return {\r\n    isConnected: gd.isConnected,\r\n    selectedChoice: gd.selectedChoice\r\n  }\r\n}\r\n\r\nfunction mapDispatchToPropsCC(dispatch) {\r\n  return {\r\n    handleSelect: (e) => {\r\n      if(e === lobbyStates.CREATE) {\r\n        ejectFromRoom();\r\n      }\r\n      if(e === lobbyStates.JOIN) {\r\n        getAvailableRooms();\r\n      }\r\n      dispatch(setSelectedChoiceAndLoadingRoom(e));\r\n    }\r\n  }\r\n}\r\nconst SubscribedConnectedChoices = connect(mapStateToPropsCC, mapDispatchToPropsCC)(ConnectedChoices);\r\nexport default SubscribedConnectedChoices;","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport {Redirect} from 'react-router-dom';\r\n\r\nimport './waitingRoom.scss';\r\n\r\nimport BackToGameSelect from 'components/BackToGameSelect/backToGameSelect';\r\nimport RoomInfo from './roomInfo';\r\nimport ConnectedChoices from './connectedChoices';\r\nimport {clearRoomInfo } from 'redux-store/actions/gameSetupActions';\r\nimport { connectToServer, ejectFromRoom } from '../socketHandlers';\r\nimport store from 'redux-store';\r\n\r\nconst storageType = sessionStorage;\r\n\r\nfunction mapStateToPropsWR(state) {\r\n  const { gamename, username } = state.gameCredentials\r\n  return {\r\n    gamename,\r\n    username,\r\n    isPlaying: state.gameData.isPlaying,\r\n  };\r\n}\r\n\r\nfunction WaitingRoom(props) {\r\n  const { gamename, username, isPlaying } = props;\r\n  const { location } = props;\r\n\r\n  useEffect(() => {\r\n    if (process.env.REACT_APP_DESIGN !== \"true\") {\r\n      if (!store.getState().gameData.isConnected){\r\n        connectToServer();\r\n      }\r\n    }\r\n    document.title= \"Waiting Room\";\r\n  },[]);\r\n\r\n  if(!gamename) {\r\n    ejectFromRoom();\r\n    store.dispatch(clearRoomInfo());\r\n    return <Redirect to=\"/games\" />;\r\n  }\r\n\r\n  if (isPlaying) {\r\n    storageType.setItem('gameData', JSON.stringify(store.getState().gameData));\r\n    return (\r\n      <Redirect push to={`${location.pathname}/play`} />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"wrapper waiting-room-wrapper\">\r\n      <div className=\"header\">\r\n        <div className=\"header-row\">\r\n          <BackToGameSelect/>\r\n          <h1>Play {gamename}</h1>\r\n        </div>\r\n        <h3>Your name is: {username}</h3>\r\n      </div>\r\n      <ConnectedChoices />\r\n\r\n      <RoomInfo\r\n        username={username}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst SubscribedWaitingRoom = connect(mapStateToPropsWR)(WaitingRoom);\r\nexport default SubscribedWaitingRoom;","import React from 'react';\r\nimport { HashRouter, Route, Switch, Redirect } from 'react-router-dom';\r\nimport { Provider } from 'react-redux';\r\n\r\nimport Testing from 'pages/testing'\r\nimport MainPage from 'pages/MainPage/mainPage';\r\nimport Games from 'pages/games';\r\nimport Spyfall from 'Games/Spyfall';\r\nimport WaitingRoom from 'Games/WaitingRoom/waitingRoom';\r\nimport BackToLobby from 'components/BackToLobby/backToLobby';\r\nimport store from 'redux-store';\r\n\r\nimport './App.css';\r\n\r\nimport { ThemeProvider } from '@material-ui/core';\r\nimport { createMuiTheme } from '@material-ui/core/styles';\r\nimport blue from '@material-ui/core/colors/blue';\r\nimport green from '@material-ui/core/colors/green';\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: blue,\r\n    secondary: green,\r\n  },\r\n  status: {\r\n    danger: 'orange',\r\n  },\r\n});\r\n\r\n\r\n// function ComebackGame(props) {\r\n//   const { match: {params}} = props;\r\n//   return <div>\r\n//     <h1>\r\n//       <span style={{textTransform: \"uppercase\"}}>{params.name}</span> is not yet built. Come back soon.\r\n//       </h1>\r\n//   </div>;\r\n// }\r\n\r\nfunction App() {  \r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n    <Provider store={store}>\r\n    <HashRouter basename=\"/\">\r\n        <Switch>\r\n          <Route exact path=\"/\" component={MainPage} />\r\n          <Route path=\"/testing\" component={Testing} /> \r\n          <Route path=\"/testcomponent\" component={BackToLobby} />\r\n\r\n          <Route path=\"/games/spyfall/play\" component={Spyfall} />\r\n          <Route path=\"/games/:name\" component={WaitingRoom} />\r\n          \r\n          <Route path=\"/games\" component={Games} />\r\n\r\n          <Route>\r\n            <Redirect to=\"/\" />\r\n          </Route>\r\n        </Switch>\r\n    </HashRouter>\r\n    </Provider>\r\n    </ThemeProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}