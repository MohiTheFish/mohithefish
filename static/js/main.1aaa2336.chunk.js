(this.webpackJsonpmohithefish=this.webpackJsonpmohithefish||[]).push([[0],{109:function(e,a,t){e.exports=t(159)},114:function(e,a,t){},120:function(e,a,t){},121:function(e,a,t){},123:function(e,a,t){},124:function(e,a,t){},125:function(e,a,t){},154:function(e,a){},158:function(e,a,t){},159:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(7),c=t.n(o),s=(t(114),t(33)),l=t(11),m=t(19),i=t(62),u=t.n(i),d=t(88),E=t(14);t(120);function h(){return r.a.createElement("div",{className:"lds-ripple"},r.a.createElement("div",null),r.a.createElement("div",null))}function p(){var e=Object(n.useState)(0),a=Object(E.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(""),s=Object(E.a)(c,2),l=s[0],m=s[1],i=Object(n.useState)(1),p=Object(E.a)(i,2),f=p[0],g=p[1],v=Object(n.useState)(""),y=Object(E.a)(v,2),b=y[0],O=y[1];Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://cors-anywhere.herokuapp.com/https://randomfox.ca/floof/?ref=apilist.fun",{method:"GET",headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){O(e.image)}));case 2:a=e.sent,console.log(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}document.title="MohiTheFish",function(){e.apply(this,arguments)}()}),[]);return r.a.createElement("div",null,"This page is being used to test new features.",r.a.createElement("div",null,r.a.createElement("p",null,"You clicked ",t," times"),r.a.createElement("button",{onClick:function(){return o(t+1)}},"Click me")),r.a.createElement("div",null,r.a.createElement("input",{type:"text",value:l,onChange:function(e){m(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("h1",null,"Pick a movie"),r.a.createElement("select",{value:f,onChange:function(e){return g(e.target.value)}},r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"4"},"4"),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"6"},"6"))),""===b?r.a.createElement(h,null):r.a.createElement("img",{src:b,alt:"A fox"}))}t(121);function f(){return r.a.createElement("div",{className:"main-page-wrapper"},r.a.createElement("div",{className:"intro"},r.a.createElement("h1",null,"Muhammed Imran"),r.a.createElement("h2",null,"MohiTheFish"),r.a.createElement(s.b,{to:"/games"},"Click me to see some games.")))}var g=t(194),v=t(201),y=t(34);var b=t(202),O=sessionStorage;var N={username:"",gamename:"",userId:function(){var e=O.getItem("userId");return e||(e=Object(b.a)(),O.setItem("userId",e),e)}()};function S(e){return{type:"SET_IS_CONNECTED",isConnected:e}}function I(e){return{type:"SET_IS_LOADINGROOM",isLoadingRoom:e}}var C={isConnected:!1,selectedChoice:"",isLoadingRoom:!1,numPlayers:1,host:"",members:[],roomname:"",myIndex:-1,rooms:[],isPlaying:!1};var j=t(24);function L(e){return{type:"ADD_LOCATION_SPYFALL",data:e.target.innerHTML}}function _(e){return{type:"REMOVE_LOCATION_SPYFALL",data:e.target.innerHTML}}function w(e){return{type:"ADD_NAME_SPYFALL",data:e}}function A(e){return{type:"REMOVE_NAME_SPYFALL",data:e}}var R={time:0,spyfall:{selectedLocations:new Set,selectedNamesByIndex:new Set,spyIndex:0,locations:[],secretLocation:""}};var x=Object(y.b)({gameCredentials:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_GAME_USERNAME":return{username:a.username,gamename:a.gamename,userId:e.userId};default:return e}},gameData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_IS_CONNECTED":return Object.assign({},e,{isConnected:a.isConnected});case"SET_IS_LOADINGROOM":return Object.assign({},e,{isLoadingRoom:a.isLoadingRoom});case"SET_SELECTED_CHOICE":return Object.assign({},e,{selectedChoice:a.selectedChoice});case"SET_HOST_NAME":return Object.assign({},e,{host:a.host});case"ROOM_CREATED":var t=a.data,n=t.hostname,r=t.members,o=t.roomname;return Object.assign({},e,{host:n,members:r,roomname:o,myIndex:r.length-1});case"ROOM_UPDATED":var c=a.data,s=c.hostname,l=c.members,m=c.roomname;return Object.assign({},e,{host:s,members:l,roomname:m,myIndex:e.myIndex});case"VISIBLE_ROOMS":return Object.assign({},e,{rooms:a.data.rooms,isLoadingRoom:!1});case"ROOM_JOINED":var i=a.data,u=i.hostname,d=i.members,E=i.roomname;return Object.assign({},e,{host:u,members:d,roomname:E,myIndex:d.length-1});case"PLAYER_LEFT":var h=e.members,p=e.myIndex,f=a.index,g={myIndex:p,members:[]};return-1===f?(g.members=h.slice(1),g.myIndex-=1,-1===g.myIndex&&(g.selectedChoice="create"),g.host=h[0]):(f<p&&(g.myIndex-=1),g.members=h.filter((function(e,a){return a!==f}))),Object.assign({},e,g);case"START_PLAYING":return Object.assign({},e,{isPlaying:!0,initialGameState:a.initialGameState});default:return e}},playState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"START_GAME_SPYFALL":return{time:a.gameState.time,spyfall:{spyIndex:a.gameState.spyIndex,selectedLocations:e.spyfall.selectedLocations,selectedNamesByIndex:e.spyfall.selectedNamesByIndex,locations:a.gameState.locations,secretLocation:a.gameState.secretLocation}};case"ADD_LOCATION_SPYFALL":var t=e.spyfall.selectedLocations,n=new Set(t);return n.add(a.data),Object.assign({},e,{spyfall:Object(j.a)(Object(j.a)({},e.spyfall),{},{selectedLocations:n})});case"REMOVE_LOCATION_SPYFALL":var r=e.spyfall.selectedLocations,o=new Set(r);return o.delete(a.data),Object.assign({},e,{spyfall:Object(j.a)(Object(j.a)({},e.spyfall),{},{selectedLocations:o})});case"ADD_NAME_SPYFALL":var c=e.spyfall.selectedNamesByIndex,s=new Set(c);return s.add(a.data),Object.assign({},e,{spyfall:Object(j.a)(Object(j.a)({},e.spyfall),{},{selectedNamesByIndex:s})});case"REMOVE_NAME_SPYFALL":var l=e.spyfall.selectedNamesByIndex,m=new Set(l);return m.delete(a.data),Object.assign({},e,{spyfall:Object(j.a)(Object(j.a)({},e.spyfall),{},{selectedNamesByIndex:m})});default:return e}}}),T={gameData:C,gameCredentials:N,playState:R},D=sessionStorage;var k=Object(y.c)(x,function(){var e=JSON.parse(D.getItem("gameData")),a=D.getItem("username"),t=D.getItem("gamename"),n=D.getItem("userId");if(!a||!t||!n)return T;var r={};return r.gameCredentials={username:a,gamename:t,userId:n},e&&e.isPlaying?r.gameData=e:r.gameData=C,r.playState=R,r}());function M(e){var a=e.gameCredentials,t=a.username,n=a.gamename,r=a.userId;D.setItem("username",t),D.setItem("gamename",n),D.setItem("userId",r)}var P=k,Y=(t(123),["spyfall"]);function B(){var e=Object(n.useState)(P.getState().gameCredentials.username),a=Object(E.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(""),s=Object(E.a)(c,2),m=s[0],i=s[1];Object(n.useEffect)((function(){document.title="Games"}),[]);var u,d=function(e){return e?[!1,""]:[!0,"Name cannot be empty."]}(t),h=Object(E.a)(d,2),p=h[0],f=h[1];return Boolean(m)&&!p?(P.dispatch({type:"SET_GAME_USERNAME",username:(u={username:t,gamename:m}).username,gamename:u.gamename}),M(P.getState()),r.a.createElement(l.a,{push:!0,to:"/games/".concat(m)})):r.a.createElement("div",{className:"games-page-wrapper"},r.a.createElement("h1",{className:"header"},"Games"),r.a.createElement("h3",{className:"input-message"},"Please create your username before continuing."),r.a.createElement("div",{className:"input"},r.a.createElement(v.a,{error:p,required:!0,id:"filled-required",label:"Required",variant:"filled",value:t,onChange:function(e){o(e.target.value)},helperText:f})),r.a.createElement("div",{className:"buttons-wrapper"},Y.map((function(e){return r.a.createElement(g.a,{key:e,variant:"contained",color:"primary",disabled:p,onClick:function(){return i(e)}},e)}))))}t(124);var F=Object(m.b)((function(e){var a=e.gameData,t=e.playState,n=t.spyfall;return{gameCredentials:e.gameCredentials,host:a.host,members:a.members,myIndex:a.myIndex,time:t.time,selectedLocations:n.selectedLocations,selectedNamesByIndex:n.selectedNamesByIndex,isSpy:n.spyIndex===a.myIndex,locations:n.locations,secretLocation:n.secretLocation}}))((function(e){var a=e.gameCredentials,t=e.host,n=e.members,o=(e.myIndex,e.time,e.selectedLocations),c=e.selectedNamesByIndex,s=e.isSpy,l=e.locations,m=e.secretLocation;function i(e,a,t,n){var r=a.has(e),o=t,c="";return r&&(o=n,c="selected"),[c,function(a){return P.dispatch(o(e))}]}var u=i(-1,c,w,A),d=Object(E.a)(u,2),h=d[0],p=d[1];return r.a.createElement("div",{className:"wrapper spyfall-page-wrapper"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Play Spyfall"),r.a.createElement("h4",null,"Your name is: ",a.username),s?r.a.createElement("h4",null,"You ARE the spy! ",r.a.createElement("span",{role:"img","aria-label":"spy emoji"},"\ud83d\udd75\ufe0f")," ",r.a.createElement("br",null)," Figure out the secret location!"):r.a.createElement("h4",null,"You are NOT the spy. ",r.a.createElement("br",null)," The location is ",r.a.createElement("span",{className:"secret-location"},m))),r.a.createElement("div",{className:"players-list"},r.a.createElement("h2",{className:"header"},"Players"),r.a.createElement("div",{className:"names"},r.a.createElement("h4",{key:t,className:h,onClick:p},t),n.map((function(e,a){var t=i(a,c,w,A),n=Object(E.a)(t,2),o=n[0],s=n[1];return r.a.createElement("h4",{key:e,className:o,onClick:s},e)})))),r.a.createElement("div",{className:"location-section"},r.a.createElement("h2",{className:"header"},"Locations"),r.a.createElement("div",{className:"location-wrapper"},l.map((function(e,a){var t=function(e,a,t,n){var r=a.has(e),o=t,c="";return r&&(o=n,c="selected"),[c,function(e){return P.dispatch(o(e))}]}(e,o,L,_),n=Object(E.a)(t,2),c=n[0],s=n[1];return r.a.createElement("div",{key:e,className:"location vertically-center-text ".concat(c),onClick:s},r.a.createElement("p",null,e))})))))})),G=(t(125),t(196)),J=t(195),H=t(94),V=t.n(H),U=t(204),W=t(206),q=t(207),K=t(205),$=t(93),z=t.n($),Q=t(92),X=t.n(Q),Z=null,ee=null;function ae(){if(!Z)throw new Error("Socket invalid!");P.dispatch(I(!0)),Z.emit("getAvailableRooms",ee)}function te(e){if(!Z)throw new Error("Socket invalid!");var a={targetRoom:e.trim(),userId:ee};Z.emit("joinRoom",a)}function ne(){if(!Z)throw new Error("Socket invalid!");Z.emit("startGame",ee)}function re(){var e=Object(n.useState)(""),a=Object(E.a)(e,2),t=a[0],o=a[1];function c(){te(t)}return r.a.createElement(K.a,{className:"form-wrapper",variant:"outlined"},r.a.createElement(W.a,{htmlFor:"outlined-adornment-roomid"},"Room ID"),r.a.createElement(U.a,{id:"outlined-adornment-roomid",value:t,onChange:function(e){o(e.target.value)},onKeyPress:function(e){13!==e.which&&13!==e.keyCode||c()},endAdornment:r.a.createElement(q.a,{position:"end"},r.a.createElement(J.a,{children:r.a.createElement(z.a,null),onClick:c,onMouseDown:function(e){e.preventDefault()},edge:"end"})),labelWidth:70}))}var oe=Object(m.b)((function(e){var a=e.gameData;return{username:e.gameCredentials.username,host:a.host,selectedChoice:a.selectedChoice,isConnected:a.isConnected,isLoadingRoom:a.isLoadingRoom,members:a.members,roomname:a.roomname,myIndex:a.myIndex,rooms:a.rooms}}))((function(e){var a=e.isConnected,t=e.selectedChoice,n=e.host,o=e.roomname,c=e.members,s=e.myIndex,l=e.rooms,m=e.isLoadingRoom;if(!a||!t)return"";if("create"===t||s>=0){var i="";return-1===s&&(i="my-name"),r.a.createElement("div",{className:"room-info"},r.a.createElement("div",{className:"room-title"},r.a.createElement("h2",null,"Host: ",r.a.createElement("span",{className:i},n)),r.a.createElement("h2",null,"Room id: ",o)),function(e,a){return 0===e.length?r.a.createElement("div",{className:"members"},r.a.createElement("h3",null,"Share your room id to let others join!")):r.a.createElement(r.a.Fragment,null,-1===a?r.a.createElement(g.a,{variant:"contained",onClick:ne,className:"host-control-panel"},"Play"):"",r.a.createElement("div",{className:"members"},r.a.createElement("h3",{className:"others"},"Other players"),e.map((function(e,t){return r.a.createElement("h4",{className:t===a?"my-name":"",key:"".concat(e).concat(t)},e)}))))}(c,s))}return r.a.createElement("div",{className:"room-info"},r.a.createElement("div",{className:"input"},r.a.createElement("h4",null,"Enter the room id you would like to join:"),r.a.createElement(re,null)),r.a.createElement("div",null,r.a.createElement("div",{className:"refresh-row"},r.a.createElement("h4",null,"Otherwise, click on one of the available rooms to join."),r.a.createElement(J.a,{color:"primary","aria-label":"refresh",onClick:ae},r.a.createElement(V.a,null))),r.a.createElement(G.a,{container:!0,spacing:3,className:"rooms-wrapper"},function(e,a){return a?r.a.createElement(h,null):0===e.length?r.a.createElement("h3",{className:"no-avail-rooms"},"Sorry. No other rooms were found at this time."):e.map((function(e){return r.a.createElement(G.a,{item:!0,key:e.hostname,xs:12,className:"room"},r.a.createElement(g.a,{className:"data",onClick:function(){te(e.roomname)}},r.a.createElement("h3",{className:"left"},"Host: \xa0",r.a.createElement("span",{className:"bold"},e.hostname)),r.a.createElement("h3",{className:"right"},"Number of Players: \xa0",r.a.createElement("span",{className:"bold"},1+e.numPlayers))))}))}(l,m))))}));function ce(e){e.className+=" disabled",e.variant="outlined"}var se=Object(m.b)((function(e){var a=e.gameData;return{isConnected:a.isConnected,selectedChoice:a.selectedChoice}}),(function(e){return{handleSelect:function(a){e({type:"SET_SELECTED_CHOICE",selectedChoice:a}),e(I(!0)),"create"===a?function(){if(!Z)throw new Error("Socket invalid!");Z.emit("createRoom",ee)}():"join"===a&&ae()}}}))((function(e){var a=e.isConnected,t=e.selectedChoice,n=e.handleSelect;if(!a)return r.a.createElement(h,null);var o={variant:"contained",className:"button",onClick:function(){return n("create")}},c={variant:"contained",className:"button",onClick:function(){return n("join")}};return"create"===t?(ce(c),delete o.onClick,o.disableRipple=!0):"join"===t&&(ce(o),delete c.onClick,c.disableRipple=!0),r.a.createElement("div",{className:"connected-choices"},r.a.createElement(g.a,Object.assign({color:"primary",disableElevation:!0},o),"Create Room"),r.a.createElement(g.a,Object.assign({color:"primary",disableElevation:!0},c),"Join Room"))})),le=sessionStorage;var me=Object(m.b)((function(e){var a=e.gameCredentials;return{gamename:a.gamename,username:a.username,isPlaying:e.gameData.isPlaying}}))((function(e){var a=e.gamename,t=e.username,o=e.isPlaying,c=e.location;return Object(n.useEffect)((function(){!function(){console.log("connecting...");var e=P.getState().gameCredentials,a=e.username,t=e.gamename,n=e.userId;ee=n;var r=X.a.connect("http://localhost:5000/".concat(t),{reconnection:!0,reconnectionDelay:1e3,reconnectionDelayMax:5e3,reconnectionAttempts:10});r.on("connect",(function(){console.log("The client connected"),Z=r,r.emit("initialConnection",{username:a,gamename:t,userId:ee}),P.dispatch(S(!0))})),r.on("createdRoom",(function(e){P.dispatch({type:"ROOM_CREATED",data:{hostname:e.hostname,roomname:e.roomname,members:e.members}})})),r.on("availableRooms",(function(e){P.dispatch({type:"VISIBLE_ROOMS",data:{rooms:e}})})),r.on("youJoined",(function(e){P.dispatch({type:"ROOM_JOINED",data:{hostname:e.hostname,roomname:e.roomname,members:e.members}})})),r.on("othersJoined",(function(e){P.dispatch({type:"ROOM_UPDATED",data:{hostname:e.hostname,roomname:e.roomname,members:e.members}})})),r.on("gameStarted",(function(e){P.dispatch(function(e){return{type:"START_GAME_SPYFALL",gameState:e}}(e)),P.dispatch({type:"START_PLAYING",isPlaying:!0})})),r.on("playerLeft",(function(e){P.dispatch(function(e){return{type:"PLAYER_LEFT",index:e}}(e))})),r.on("disconnect",(function(){Z=null,P.dispatch(S(!1))}))}(),document.title="Waiting Room"}),[]),o?(le.setItem("gameData",JSON.stringify(P.getState().gameData)),r.a.createElement(l.a,{to:"".concat(c.pathname,"/play")})):r.a.createElement("div",{className:"wrapper waiting-room-wrapper"},r.a.createElement("div",{className:"header-text"},r.a.createElement("h1",null,"Play ",a),r.a.createElement("h3",null,"Your name is: ",t)),r.a.createElement(se,null),r.a.createElement(oe,{username:t}))})),ie=t(197),ue=t(198),de=t(199),Ee=t(95),he=t.n(Ee),pe=Object(ie.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function fe(){var e=pe();return r.a.createElement("div",{className:e.root},r.a.createElement(ue.a,{position:"static"},r.a.createElement(de.a,null,r.a.createElement(J.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(he.a,null)))))}t(158);var ge=t(200),ve=t(98),ye=t(96),be=t.n(ye),Oe=t(97),Ne=t.n(Oe),Se=Object(ve.a)({palette:{primary:be.a,secondary:Ne.a},status:{danger:"orange"}});var Ie=function(){return r.a.createElement(ge.a,{theme:Se},r.a.createElement(m.a,{store:P},r.a.createElement(s.a,{basename:"/"},r.a.createElement(l.d,null,r.a.createElement(l.b,{exact:!0,path:"/",component:f}),r.a.createElement(l.b,{path:"/testing",component:p}),r.a.createElement(l.b,{path:"/testcomponent",component:fe}),r.a.createElement(l.b,{path:"/games/spyfall/play",component:F}),r.a.createElement(l.b,{path:"/games/:name",component:me}),r.a.createElement(l.b,{path:"/games",component:B}),r.a.createElement(l.b,null,r.a.createElement(l.a,{to:"/"}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[109,1,2]]]);
//# sourceMappingURL=main.1aaa2336.chunk.js.map